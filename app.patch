diff --git a/app/(auth)/signUp/_components/Signup.tsx b/app/(auth)/signUp/_components/Signup.tsx
index 0322990..2d9f6d5 100644
--- a/app/(auth)/signUp/_components/Signup.tsx
+++ b/app/(auth)/signUp/_components/Signup.tsx
@@ -37,6 +37,17 @@ const SESSION_KEYS = {
   REF_CODE: "optisage_ref_code",
 } as const;
 
+export const amazonAuthUrl = `https://sellercentral.amazon.com/apps/authorize/consent?${new URLSearchParams(
+    {
+      application_id: process.env.NEXT_PUBLIC_AMAZON_CLIENT_ID!,
+      state: "ourauth",
+      version: "beta",
+      response_type: "code",
+      scope: "sellingpartnerapi::authorization",
+      redirect_uri: process.env.NEXT_PUBLIC_AMAZON_REDIRECT_URI!,
+    }
+  ).toString()}`;
+
 const Signup = () => {
   const router = useRouter();
   const searchParams = useSearchParams();
@@ -46,6 +57,7 @@ const Signup = () => {
   const [dataFetched, setDataFetched] = useState(false);
   const [isDashboardNavigating, setIsDashboardNavigating] = useState(false);
   const [needsPackageSelection, setNeedsPackageSelection] = useState(false);
+    const [showEmailExistsModal, setShowEmailExistsModal] = useState(false);
 
   // Subscription related states
   const [refCode, setRefCode] = useState<string>("");
@@ -125,16 +137,7 @@ const [subscribe, { isLoading }] = useSignupMutation();
     passwordFormik.setFieldValue('confirmPassword', form.confirmPassword);
   }, [form.password, form.confirmPassword]);
 
-  const amazonAuthUrl = `https://sellercentral.amazon.com/apps/authorize/consent?${new URLSearchParams(
-    {
-      application_id: process.env.NEXT_PUBLIC_AMAZON_CLIENT_ID!,
-      state: "ourauth",
-      version: "beta",
-      response_type: "code",
-      scope: "sellingpartnerapi::authorization",
-      redirect_uri: process.env.NEXT_PUBLIC_AMAZON_REDIRECT_URI!,
-    }
-  ).toString()}`;
+  
 
   // Helper functions for session storage
   const saveToSessionStorage = (key: string, value: any) => {
@@ -165,6 +168,18 @@ const [subscribe, { isLoading }] = useSignupMutation();
     }
   };
 
+  // Navigation functions for email exists modal
+  const handleGoToLogin = () => {
+    setShowEmailExistsModal(false);
+    // Navigate to login page - adjust the route as needed
+    router.push('/');
+  };
+
+  const handleResetPassword = () => {
+    setShowEmailExistsModal(false);
+    // Navigate to reset password page - adjust the route as needed
+    router.push('/forgot-password');
+  };
   // Load data from session storage on component mount
   useEffect(() => {
     // Load form data from session storage first
@@ -408,13 +423,18 @@ const [subscribe, { isLoading }] = useSignupMutation();
           // FIX: Manually set loading state to false on failure
           setIsCheckoutLoading(false);
         }
-      })
-      .catch((err) => {
-        console.error(err);
+      }).catch ((err: any)=> {
+      console.error("Checkout error:", err);
+      
+      // Check if it's the email already exists error
+      if (err?.data?.responseCode === "91" || 
+          (err?.data?.status === 422 && err?.data?.message?.includes("already registered"))) {
+        setShowEmailExistsModal(true);
+      } else {
         error(err?.data?.message || "An error occurred during checkout");
-        // FIX: Manually set loading state to false on error
-        setIsCheckoutLoading(false);
-      });
+      }
+    })
+     
   };
 
   const handleUpdateUser = async () => {
@@ -607,24 +627,19 @@ const [subscribe, { isLoading }] = useSignupMutation();
 
   // Helper function to get the full name
   const getFullName = () => {
-  if (userData) {
-    const fullName = `${userData.first_name} ${userData.last_name}`.trim();
-    // Return email if no meaningful name is available
-    return fullName && fullName !== ' ' ? fullName : userData.email;
-  }
-  // Return email if no fullname is provided
-  return form.fullname.trim() || form.email;
-};
+    if (userData) {
+      return `${userData.first_name} ${userData.last_name}`.trim();
+    }
+    return form.fullname || "Dereck Jackson";
+  };
 
   // Helper function to get first name only
   const getFirstName = () => {
-  if (userData) {
-    // Return first name if available, otherwise return email
-    return userData.first_name || userData.email;
-  }
-  // Return first part of fullname if available, otherwise return email
-  return form.fullname.split(" ")[0] || form.email;
-};
+    if (userData) {
+      return userData.first_name;
+    }
+    return form.fullname.split(" ")[0] || "Dereck";
+  };
 
   const StepHeader1 = () => (
   <div className="mb-6">
@@ -1066,6 +1081,59 @@ const [subscribe, { isLoading }] = useSignupMutation();
           {isButtonLoading() ? "Processing..." : getButtonText()}
         </button>
       </div>
+
+         {/* Email Already Exists Modal */}
+      {showEmailExistsModal && (
+        <div className="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4 sm:p-0 z-50">
+          <div className="bg-white p-6 rounded-lg shadow-lg max-w-md text-center">
+            <div className="mb-4">
+              <div className="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100">
+                <svg
+                  className="h-6 w-6 text-yellow-600"
+                  fill="none"
+                  viewBox="0 0 24 24"
+                  strokeWidth="1.5"
+                  stroke="currentColor"
+                >
+                  <path
+                    strokeLinecap="round"
+                    strokeLinejoin="round"
+                    d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"
+                  />
+                </svg>
+              </div>
+            </div>
+            <h3 className="text-lg font-medium text-gray-900 mb-2">
+              Account Already Exists
+            </h3>
+            <p className="text-sm text-gray-500 mb-6">
+              We notice this email <span className=" font-semibold">({form.email})</span> already exists in our system. You can either login to your existing account or reset your password if you&apos;ve forgotten it.
+            </p>
+            <div className="flex flex-col sm:flex-row gap-3 justify-around">
+              {/** 
+              <button
+                className="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors"
+                onClick={() => setShowEmailExistsModal(false)}
+              >
+                Cancel
+              </button>
+              */}
+              <button
+                className="px-4 py-2 bg-white border border-green-600 text-green-600 rounded-lg hover:bg-green-600 hover:text-white transition-colors"
+                onClick={handleGoToLogin}
+              >
+                Go to Login
+              </button>
+              <button
+                className="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"
+                onClick={handleResetPassword}
+              >
+                Reset Password
+              </button>
+            </div>
+          </div>
+        </div>
+      )}
     </div>
   );
 };
diff --git a/app/(dashboard)/_components/CountrySelect.tsx b/app/(dashboard)/_components/CountrySelect.tsx
index 5ceb77b..ea66fbb 100644
--- a/app/(dashboard)/_components/CountrySelect.tsx
+++ b/app/(dashboard)/_components/CountrySelect.tsx
@@ -92,10 +92,10 @@ const CountrySelect = () => {
   };
 
   return (
-    <div className="relative inline-block md:w-64">
+    <div className="relative inline-block md:w-fit">
       <button
         onClick={() => setIsOpen(!isOpen)}
-        className="flex items-center gap-2 w-full p-2 border rounded-full bg-[#F3F5F7]"
+        className="flex items-center gap-1 md:gap-2 w-full p-2"
       >
         {selectedCountry.flag ? (
           <Image
@@ -116,11 +116,11 @@ const CountrySelect = () => {
         <span className="flex-1 hidden md:flex justify-start text-xs font-medium text-[#171717]">
           {selectedCountry.name}
         </span>
-        <BiChevronDown className="size-4 text-[#616977]" />
+        <BiChevronDown className="size-5 text-[#616977]" />
       </button>
 
       {isOpen && (
-        <ul className="absolute z-10 w-full mt-1 border rounded-md bg-white shadow-lg max-h-60 overflow-y-auto">
+        <ul className="absolute  z-10 w-52 mt-1 border rounded-md bg-white shadow-lg max-h-60 overflow-y-auto">
           {countries.map((country) => (
             <li
               key={country.code}
diff --git a/app/(dashboard)/_components/CustomPagination.tsx b/app/(dashboard)/_components/CustomPagination.tsx
index bc4ba7c..1c88313 100644
--- a/app/(dashboard)/_components/CustomPagination.tsx
+++ b/app/(dashboard)/_components/CustomPagination.tsx
@@ -1,5 +1,6 @@
 import { IoMdArrowForward } from "react-icons/io";
 import { IoMdArrowBack } from "react-icons/io";
+
 interface CustomPaginationProps {
   onNext: () => void;
   onPrevious: () => void;
@@ -16,7 +17,7 @@ const CustomPagination: React.FC<CustomPaginationProps> = ({
   return (
     <div className="p-4 border-t flex items-center gap-7 justify-center">
       <button
-       type="button" // Add this line
+       type="button" 
         onClick={onPrevious}
         disabled={!hasPrevious}
         className="font-semibold px-4 py-1 border rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 flex gap-1 items-center"
@@ -25,7 +26,7 @@ const CustomPagination: React.FC<CustomPaginationProps> = ({
         Previous 
       </button>
       <button
-       type="button" // Add this line
+       type="button" 
         onClick={onNext}
         disabled={!hasNext}
         className="px-4 py-1 border font-semibold rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 flex gap-1 items-center"
diff --git a/app/(dashboard)/_components/DashNav.tsx b/app/(dashboard)/_components/DashNav.tsx
index d50a00c..a53233f 100644
--- a/app/(dashboard)/_components/DashNav.tsx
+++ b/app/(dashboard)/_components/DashNav.tsx
@@ -1,37 +1,149 @@
 "use client";
-
+/* eslint-disable @typescript-eslint/no-unused-vars */
+/* eslint-disable @typescript-eslint/no-explicit-any */
 import Image from "next/image";
-
+import { useRouter } from "next/navigation";
+import Link from "next/link";
 import Logo from "@/public/assets/svg/Optisage Logo.svg";
 import { CgMenuRightAlt } from "react-icons/cg";
 import CountrySelect from "./CountrySelect";
-import { useRouter } from "next/navigation";
-import Link from "next/link";
-import { useAppSelector } from "@/redux/hooks";
-import { useEffect, useState } from "react";
+import { useState, useEffect } from "react";
+import SearchInput from "./SearchInput";
+import UserProfile from "./UserProfile";
+import { VscBell, VscBellDot } from "react-icons/vsc";
+import { Drawer } from "antd";
+import { HiMiniXMark } from "react-icons/hi2";
+import { BiCheck, BiTrash } from "react-icons/bi";
+import {
+  useLazyGetNotificationsQuery,
+  useMarkReadMutation,
+} from "@/redux/api/user";
+import { AiOutlineLoading3Quarters } from "react-icons/ai";
 
 const DashNav = () => {
   const router = useRouter();
-  const [remainingDays, setRemainingDays] = useState<number | null>(null);
-  const { subscription_type, created_at, billing_status } =
-    useAppSelector((state) => state.api?.user) || {};
+  const [searchValue, setSearchValue] = useState("");
+  const [error, setError] = useState("");
+  const [open, setOpen] = useState(false);
+  const [hoveredNotification, setHoveredNotification] = useState<string | null>(
+    null
+  );
+  const [loadingNotificationId, setLoadingNotificationId] = useState<
+    string | null
+  >(null);
+  const [getNotification, { data: notificationsData }] =
+    useLazyGetNotificationsQuery();
+  const [markRead, { isLoading: isMarkingRead }] = useMarkReadMutation();
+  const [filterStatus, setFilterStatus] = useState<"all" | "unread" | "read">(
+    "all"
+  );
+
+  useEffect(() => {
+    getNotification({});
+  }, []);
 
+  // Helper function to format timestamps
+  const formatTimeAgo = (timestamp: string) => {
+    const now = new Date();
+    const notifTime = new Date(timestamp);
+    const diffMs = now.getTime() - notifTime.getTime();
+    const diffMins = Math.floor(diffMs / 60000);
+    const diffHours = Math.floor(diffMs / 3600000);
+    const diffDays = Math.floor(diffMs / 86400000);
+
+    if (diffMins < 60) return `${diffMins} min ago`;
+    if (diffHours < 24)
+      return `${diffHours} hour${diffHours > 1 ? "s" : ""} ago`;
+    return `${diffDays} day${diffDays > 1 ? "s" : ""} ago`;
+  };
+
+  // Filter notifications based on status
+  const notifications = notificationsData?.data || [];
+  const filteredNotifications = notifications.filter((notif: any) => {
+    if (filterStatus === "all") return true;
+    return notif.status === filterStatus;
+  });
+
+  const unreadCount = notifications.filter(
+    (n: any) => n.status === "unread"
+  ).length;
+  const displayCount = unreadCount > 90 ? "90+" : unreadCount;
+
+  // Validate ASIN format (10 characters, starts with B followed by alphanumeric)
+  const isValidASIN = (value: string): boolean => {
+    const asinRegex = /^B[A-Z0-9]{9}$/i;
+    return asinRegex.test(value);
+  };
+
+  // Validate UPC format (12 digits)
+  const isValidUPC = (value: string): boolean => {
+    const upcRegex = /^\d{12}$/;
+    return upcRegex.test(value);
+  };
+
+  // Prefetch product route on component mount
   useEffect(() => {
-    if (created_at) {
-      const verifiedDate = new Date(created_at);
-      const trialEndDate = new Date(verifiedDate);
-      trialEndDate.setDate(trialEndDate.getDate() + 7); // Add 7 days
+    // Prefetch the product route template
+    router.prefetch("/dashboard/product/[id]");
+  }, [router]);
+
+  const handleSearch = () => {
+    const trimmedValue = searchValue.trim();
+
+    if (!trimmedValue) {
+      setError("Please enter an ASIN or UPC");
+      return;
+    }
+
+    if (isValidASIN(trimmedValue)) {
+      setError("");
+      router.push(`/dashboard/product/${trimmedValue}`);
+      setSearchValue("");
+    } else if (isValidUPC(trimmedValue)) {
+      setError("");
+      router.push(`/dashboard/product/${trimmedValue}`);
+      setSearchValue("");
+    } else {
+      setError("Invalid format. Please enter a valid ASIN or UPC");
+    }
+  };
 
-      const today = new Date();
-      const timeDiff = trialEndDate.getTime() - today.getTime();
-      const daysLeft = Math.max(Math.ceil(timeDiff / (1000 * 60 * 60 * 24)), 0);
+  const handleKeyPress = (e: React.KeyboardEvent<HTMLInputElement>) => {
+    if (e.key === "Enter") {
+      handleSearch();
+    }
+  };
 
-      setRemainingDays(daysLeft);
+  const handleChange = (value: string) => {
+    setSearchValue(value);
+    if (error) {
+      setError("");
     }
-  }, [created_at]);
+  };
+
+  const handleMarkAsRead = async (notificationId: string) => {
+    try {
+      setLoadingNotificationId(notificationId);
+      await markRead(notificationId).unwrap();
+      // Refetch notifications after successful mark as read
+      await getNotification({});
+    } catch (error) {
+      console.error("Failed to mark notification as read:", error);
+      // Optionally show error toast/notification to user
+    } finally {
+      setLoadingNotificationId(null);
+    }
+  };
+
+  const handleDelete = (notificationId: string) => {
+    // TODO: Call API to delete notification
+    console.log("Delete notification:", notificationId);
+    // After API call, refetch notifications
+    getNotification({});
+  };
 
   return (
-    <nav className="flex items-center justify-between px-5 py-3 md:py-4 lg:px-6 sticky top-0 bg-white lg:shadow-sm lg:border-transparent border-b border-gray-200 z-40">
+    <nav className="flex items-center justify-between px-5 py-3 md:py-4 lg:px-6 sticky top-0 bg-white lg:shadow-sm lg:border-transparent border-b border-gray-200 z-40 rounded-xl">
       <Image
         src={Logo}
         alt="Logo"
@@ -42,52 +154,190 @@ const DashNav = () => {
         priority
       />
 
-      <div className="hidden lg:flex items-center gap-3">
-        {billing_status !== "active" && (
-          <p className="text-sm font-medium text-[#090F0D]">
-            {remainingDays !== null && remainingDays > 0
-              ? `${remainingDays} days left on your free trial`
-              : "Your free trial has expired."}
+      <div className="max-w-[484px] w-full hidden lg:block relative">
+        <SearchInput
+          placeholder="Search by ASIN or UPC"
+          value={searchValue}
+          onChange={handleChange}
+          onKeyPress={handleKeyPress}
+        />
+        {error && (
+          <p className="absolute top-full text-xs text-red-600 font-medium">
+            {error}
           </p>
         )}
-
-        <button
-          onClick={() => router.push("/subscriptions")}
-          type="button"
-          className={`text-sm rounded-xl bg-[#33B28A] hover:bg-[#33B28A]/90 text-white py-2 px-4 active:scale-95 duration-200 font-medium ${
-            subscription_type === "free" ? "block" : "hidden"
-          }`}
-        >
-          Subscribe Now
-        </button>
       </div>
 
-      <div className="flex gap-8 md:gap-6 items-center">
-        <div className="flex gap-6 items-center">
-          <span
-         className="hidden xl:block text-sm font-medium text-[#090F0D] "
-          >
-            For a better experience, please install the{" "}
-            <Link
-            href="https://chromewebstore.google.com/detail/optisage/dmdfkdhmbanaldplibbnlgdonafbfaaj?authuser=3&hl=en"
-            className="underline"
-            >
-            optisage chrome extension
-            </Link>
-          </span>
+      <div className="flex gap-4 sm:gap-8 md:gap-6 items-center">
+        <div className="flex gap-3 ms:gap-6 items-center relative">
           <CountrySelect />
+          <div className="relative">
+            <VscBell
+              size={25}
+              className=" cursor-pointer"
+              color="#18cb96"
+              onClick={() => setOpen(true)}
+            />
+            {unreadCount > 0 && (
+              <span className="absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-[8px] rounded-full flex items-center justify-center">
+                {displayCount}
+              </span>
+            )}
+          </div>
+          <UserProfile />
         </div>
 
         <label
           htmlFor="my-drawer-2"
-          className="block lg:hidden text-primary-400 md:ml-4"
+          className="block lg:hidden text-primary-400 md:ml-4 "
         >
           <CgMenuRightAlt size="25" />
         </label>
       </div>
+
+      <Drawer
+        open={open}
+        placement="right"
+        closable={false}
+        width={380}
+        styles={{ body: { padding: 0 } }}
+        className="!p-0"
+      >
+        {/* Header */}
+        <div className="flex justify-between items-center px-5 py-4 border-b">
+          <h2 className="text-lg font-medium">Notifications</h2>
+          <button
+            onClick={() => setOpen(false)}
+            className="hover:bg-gray-100 p-1 rounded-full transition"
+          >
+            <HiMiniXMark size={18} />
+          </button>
+        </div>
+
+        {/* Tabs */}
+        <div className="flex gap-3 px-5 py-3 border-b bg-[#F7F7F7]">
+          <button
+            onClick={() => setFilterStatus("all")}
+            className={`px-3 py-1 rounded-full text-sm ${
+              filterStatus === "all"
+                ? "bg-[#18CB96] text-white"
+                : "bg-[#E4E6EA] text-gray-600"
+            }`}
+          >
+            All
+          </button>
+          <button
+            onClick={() => setFilterStatus("unread")}
+            className={`px-4 py-1 rounded-full text-sm flex items-center gap-1 ${
+              filterStatus === "unread"
+                ? "bg-[#18CB96] text-white"
+                : "bg-[#E4E6EA] text-gray-600"
+            }`}
+          >
+            Unread{" "}
+            {unreadCount > 0 && (
+              <span className="h-2 w-2 bg-red-500 rounded-full inline-block"></span>
+            )}
+          </button>
+          <button
+            onClick={() => setFilterStatus("read")}
+            className={`px-4 py-1 rounded-full text-sm ${
+              filterStatus === "read"
+                ? "bg-[#18CB96] text-white"
+                : "bg-[#E4E6EA] text-gray-600"
+            }`}
+          >
+            Read
+          </button>
+        </div>
+
+        {/* Notification List */}
+        <div className=" py-4 space-y-4">
+          {filteredNotifications.length === 0 ? (
+            <div className="px-6 py-8 text-center text-gray-500">
+              No {filterStatus !== "all" ? filterStatus : ""} notifications
+            </div>
+          ) : (
+            filteredNotifications.map((item: any, index: number) => (
+              <div
+                key={item.id}
+                className="w-full even:bg-[#F7F7F7] relative"
+                onMouseEnter={() => setHoveredNotification(item.id)}
+                onMouseLeave={() => setHoveredNotification(null)}
+              >
+                <div className="flex gap-3  items-start px-6 py-3">
+                  <div
+                    className={`h-10 w-10 border-none rounded-full border flex items-center justify-center ${
+                      item.status === "unread"
+                        ? " bg-[#DAF4EC]"
+                        : " bg-[#E8E8E8]"
+                    }`}
+                  >
+                    <VscBell
+                      size={20}
+                      className={` ${
+                        item.status === "unread"
+                          ? "text-[#009F6D]"
+                          : "text-[#444444]"
+                      }`}
+                    />
+                  </div>
+                  <div className="flex-1">
+                    <p className="text-sm font-medium text-gray-900 mb-1">
+                      {item.title}
+                    </p>
+                    <p className="text-sm text-gray-800">{item.message}</p>
+                    <span className="text-xs text-gray-400">
+                      {formatTimeAgo(item.created_at)}
+                    </span>
+                  </div>
+
+                  {/* Action Buttons - Show on Hover */}
+                  {hoveredNotification === item.id && (
+                    <div className="flex gap-2 items-center absolute right-3 top-0">
+                      {item.status === "unread" && (
+                        <button
+                          onClick={() => handleMarkAsRead(item.id)}
+                          disabled={loadingNotificationId === item.id}
+                          className={`px-2 py-1 bg-gray-100 hover:bg-gray-200 text-[11px] rounded-full transition-colors flex items-center gap-1 ${
+                            loadingNotificationId === item.id
+                              ? "opacity-60 cursor-not-allowed"
+                              : ""
+                          }`}
+                          title="Mark as read"
+                        >
+                          {loadingNotificationId === item.id ? (
+                            <>
+                              <AiOutlineLoading3Quarters
+                                className="animate-spin"
+                                size={12}
+                              />
+                              <span>Loading...</span>
+                            </>
+                          ) : (
+                            "Mark as read"
+                          )}
+                        </button>
+                      )}
+                      {/** 
+                    <button
+                      onClick={() => handleDelete(item.id)}
+                      className="p-2 hover:bg-gray-200 rounded-full transition-colors"
+                      title="Delete"
+                    >
+                      <BiTrash size={18} className="text-red-600" />
+                    </button>
+                    */}
+                    </div>
+                  )}
+                </div>
+              </div>
+            ))
+          )}
+        </div>
+      </Drawer>
     </nav>
   );
 };
 
 export default DashNav;
-
diff --git a/app/(dashboard)/_components/DashSider.tsx b/app/(dashboard)/_components/DashSider.tsx
index 07cf908..d48bcf0 100644
--- a/app/(dashboard)/_components/DashSider.tsx
+++ b/app/(dashboard)/_components/DashSider.tsx
@@ -1,40 +1,69 @@
 "use client";
-
+/* eslint-disable @typescript-eslint/no-explicit-any */
 import React, { useState, useLayoutEffect } from "react";
 import Link from "next/link";
 import Image from "next/image";
 import { usePathname, useRouter } from "next/navigation";
-import Cookies from "js-cookie";
 import Logo from "@/public/assets/svg/Optisage Logo.svg";
-import {
-  DashboardIcon,
-  SettingsIcon,
-  KeepaIcon,
-  SubscriptionsIcon,
-  CreditIcon,
-  HistoryIcon,
-  //GoCompareIcon
-} from "@/public/assets/svg/icons";
-import LogoutModal from "./LogoutModal";
-import { BiChevronRight } from "react-icons/bi";
-import { RiVerifiedBadgeFill } from "react-icons/ri";
+import { UPCScannerIcon, TotanAIIcon } from "@/public/assets/svg/icons";
 import { useAppSelector } from "@/redux/hooks";
-import { useDispatch } from "react-redux";
-import { logout } from "@/redux/slice/authSlice";
-//import { BsStars } from "react-icons/bs";
+// import { BsStars } from "react-icons/bs";
+import {
+  HiArrowPathRoundedSquare,
+  HiOutlineChartBar,
+  HiOutlineCog6Tooth,
+  HiOutlineComputerDesktop,
+  HiOutlineCreditCard,
+  HiOutlineDocumentText,
+  HiOutlineHome,
+  HiOutlineChevronRight,
+  HiMiniArrowTopRightOnSquare,
+} from "react-icons/hi2";
+import { TbLayoutSidebar } from "react-icons/tb";
+import { Tooltip } from "antd";
 
 // Sidebar data
 const menuData = [
-  { id: "1", path: "/dashboard", label: "Dashboard", icon: DashboardIcon },
-  { id: "2", path: "/history", label: "History", icon: HistoryIcon },
-  //{ id: "3", path: "/go-compare", label: "Go Compare", icon: GoCompareIcon },
-  { id: "5", path: "/keepa", label: "Keepa", icon: KeepaIcon, comingSoon: false },
-  //{ id: "6", path: "", label: "Totan (AI)", icon: BsStars, comingSoon: true },
+  { id: "1", path: "/dashboard", label: "Product Search", icon: HiOutlineHome },
+  {
+    id: "2",
+    path: "/history",
+    label: "History",
+    icon: HiArrowPathRoundedSquare,
+  },
+  {
+    id: "3",
+    path: "/go-compare",
+    label: "Go Compare",
+    icon: HiOutlineComputerDesktop,
+  },
+  {
+    id: "4",
+    path: "",
+    label: "Keepa",
+    icon: HiOutlineChartBar,
+    comingSoon: true,
+  },
+  {
+    id: "5",
+    path: "/totan",
+    label: "Totan (AI)",
+    icon: TotanAIIcon,
+    comingSoon: false,
+    beta: true,
+  },
+  { id: "6", path: "/upc-scanner", label: "UPC Scanner", icon: UPCScannerIcon },
 ];
 
 const secondaryMenu = [
-  { id: "7", path: "/settings", label: "Settings", icon: SettingsIcon },
-  { id: "8", path: "", label: "Credit", icon: CreditIcon, comingSoon: true },
+  { id: "7", path: "/settings", label: "Settings", icon: HiOutlineCog6Tooth },
+  {
+    id: "8",
+    path: "",
+    label: "Credit",
+    icon: HiOutlineDocumentText,
+    comingSoon: true,
+  },
 ];
 
 const billingMenu = [
@@ -42,119 +71,207 @@ const billingMenu = [
     id: "9",
     path: "/subscriptions",
     label: "Subscriptions",
-    icon: SubscriptionsIcon,
+    icon: HiOutlineCreditCard,
   },
 ];
 
 const DashSider = () => {
   const pathName = usePathname();
-  const dispatch = useDispatch();
+  const [collapsed, setCollapsed] = useState(false);
   const [activePath, setActivePath] = useState("");
-  const [openModal, setOpenModal] = useState(false);
   const router = useRouter();
   const { first_name, email } =
     useAppSelector((state) => state.api?.user) || {};
-  const handleLogout = () => {
-    // Clear the token cookie
-    Cookies.remove("optisage-token");
-    router.push("/");
-    dispatch(logout());
-  };
 
   useLayoutEffect(() => {
     setActivePath(pathName);
   }, [pathName]);
 
   const renderMenu = (menu: typeof menuData) =>
-    menu.map((item) => (
-      <Link
-        href={item.path}
-        key={item.id}
-        className={`flex items-center px-4 py-3 rounded-md text-sm cursor-pointer ${
-          activePath === item.path
-            ? "bg-[#EDEDEE] text-[#01011D] font-semibold"
-            : "text-[#787891] hover:bg-white"
-        }`}
-      >
-        <item.icon
-          className={`size-5 mr-3 text-inherit ${
-            item.id === "4" ? "rotate-90" : ""
-          }`}
-        />
-
-        <span>{item.label}</span>
-        {item.comingSoon && (
-          <span className="ml-auto bg-primary text-white text-xs px-1.5 py-0.5 rounded-md">
-            Coming Soon
-          </span>
-        )}
-      </Link>
-    ));
+    menu.map((item) => {
+      const isActive = activePath === item.path;
+
+      const content = (
+        <Link
+          href={item.path}
+          key={item.id}
+          className={`flex items-center rounded-md text-base cursor-pointer relative ${
+            isActive
+              ? "bg-[#18CB960A] text-[#18CB96]"
+              : "text-[#0F172A] hover:bg-[#F7F7F7]"
+          } ${collapsed ? "justify-center px-2 py-3" : "px-4 py-3"}`}
+        >
+          <item.icon
+            className={`size-6 ${
+              isActive ? "text-[#18CB96]" : "text-inherit"
+            } ${collapsed ? "mr-0" : "mr-3"} ${
+              item.id === "6" ? "size-5" : ""
+            }`}
+          />
+
+          {!collapsed && (
+            <>
+              <span className={isActive ? "text-[#18CB96]" : "text-[#787891]"}>
+                {item.label}
+              </span>
+
+              {item.comingSoon && (
+                <span className="ml-auto bg-primary text-white text-xs px-1.5 py-0.5 rounded-md">
+                  Coming Soon
+                </span>
+              )}
+
+              {item.beta && !item.comingSoon && (
+                <span className="ml-auto bg-primary text-white text-xs px-1.5 py-0.5 rounded-md">
+                  Beta
+                </span>
+              )}
+            </>
+          )}
+
+          {isActive && !collapsed && (
+            <HiOutlineChevronRight className="absolute right-4 text-[#18CB96] size-4" />
+          )}
+        </Link>
+      );
+
+      return collapsed ? (
+        <Tooltip title={item.label} placement="right" key={item.id}>
+          {content}
+        </Tooltip>
+      ) : (
+        content
+      );
+    });
 
   return (
-    <div className="drawer-side z-50">
+    <div className="drawer-side z-50 lg:p-2 lg:bg-[#E7EBEE]">
       <label htmlFor="my-drawer-2" className="drawer-overlay" />
-      <aside className="flex flex-col justify-between w-[270px] h-dvh overflow-hidden shadow-xl bg-[#F7F7F7] border-r border-r-neutral-200 overflow-y-scroll">
-        <div className="">
-          {/* Logo */}
-          <div className="flex justify-center p-6 border-b">
-            <Link href="/dashboard">
-              <Image
-                src={Logo}
-                alt="Logo"
-                className="w-2/3 sm:w-[187px] sm:h-[49px] mx-auto"
-                width={187}
-                height={49}
-                quality={90}
-                priority
-              />
-            </Link>
+      <aside
+        className={`flex flex-col justify-between h-dvh overflow-y-scroll rounded-xl bg-white transition-[width] duration-300 ease-in-out ${
+          collapsed ? "w-[80px]" : "w-[270px]"
+        }`}
+      >
+        <div>
+          {/* Logo + Collapse Button */}
+          <div
+            className={`flex items-center justify-between py-6 mx-auto ${
+              collapsed ? "px-2" : "max-w-[231px]"
+            }`}
+          >
+            {!collapsed && (
+              <Link href="/dashboard">
+                <Image
+                  src={Logo}
+                  alt="Logo"
+                  className="w-[143px] h-[37px]"
+                  width={187}
+                  height={49}
+                  quality={90}
+                  priority
+                />
+              </Link>
+            )}
+            <button
+              type="button"
+              aria-label="Collapse Sidebar"
+              // className="p-2 hover:bg-gray-100 rounded-full"
+              className={`p-2 hover:bg-gray-100 rounded-full ${
+                collapsed ? "mx-auto" : "mx-0"
+              }`}
+              onClick={() => setCollapsed((prev) => !prev)}
+            >
+              <TbLayoutSidebar className="size-6 text-[#0F172A]" />
+            </button>
           </div>
 
-          {/* Dashboard Section */}
-          <div className="px-4 pb-3 pt-5 text-xs text-[#4B4B62] uppercase">
+          {/* Menu Sections */}
+          <div
+            className={`px-4 pb-2 pt-4 text-sm text-[#4B4B62] ${
+              collapsed ? "text-transparent h-0 p-0 overflow-hidden" : ""
+            }`}
+          >
             Dashboard
           </div>
-          <ul className="space-y-1 px-4">{renderMenu(menuData)}</ul>
+          <ul className="space-y-1 px-4 !text-[#787891]">{renderMenu(menuData)}</ul>
 
-          <div className="border-t border-[#EBEBEB] my-3" />
-
-          {/* Preferences Section */}
-          <div className="px-4 pb-3 text-xs text-[#4B4B62] uppercase">
+          <div
+            className={`px-4 pb-2 pt-4 text-sm text-[#4B4B62] ${
+              collapsed ? "text-transparent h-0 p-0 overflow-hidden" : ""
+            }`}
+          >
             Preferences
           </div>
           <ul className="space-y-1 px-4">{renderMenu(secondaryMenu)}</ul>
 
-          <div className="border-t border-[#EBEBEB] my-3" />
-
-          {/* Billing Section */}
-          <div className="px-4 pb-3 text-xs text-[#4B4B62] uppercase">
+          <div
+            className={`px-4 pb-2 pt-4 text-sm text-[#4B4B62] ${
+              collapsed ? "text-transparent h-0 p-0 overflow-hidden" : ""
+            }`}
+          >
             Billing
           </div>
           <ul className="space-y-1 px-4">{renderMenu(billingMenu)}</ul>
         </div>
 
-        <div>
-          {/* Invite & Earn */}
+
+          {/* Support */}
           <div className="p-4 border-t border-gray-200 mt-6">
             <p className="text-sm font-medium">
-              Invite & Earn: Share optisage!
+              Need Help? Contact Support
             </p>
             <p className="text-xs text-gray-500 mt-1">
-              Invite other sellers to optisage & help them succeed and unlock
-              exclusive perks too!
+              Get assistance with your account, technical issues, or any questions about optisage.
             </p>
             <button
-              onClick={() => router.push("/referral")}
+              onClick={() => window.open("https://crm.optisage.ai/forms/ticket?styled=1", "_blank")}
               className="bg-primary hover:bg-primary-hover duration-200 text-white text-sm font-medium px-4 py-2 rounded-md w-full mt-3 active:scale-95"
             >
-              Refer and Earn
+              Contact Support
             </button>
           </div>
 
-          {/* Profile Section */}
-          <div className="flex gap-3 items-center p-4 mt-auto">
-            <div className="flex gap-3 items-center flex-1">
+        {/* Bottom Section */}
+        {!collapsed && (
+          <div className="p-4 mt-6">
+            {/* Invite */}
+            <div className="p-4 rounded-3xl border border-border h-[286px] flex flex-col justify-between">
+              <span>
+                <p className="bg-[#FF855126] text-[#F86425] text-xs font-semibold rounded-full px-3 py-1.5 w-max">
+                  Invite & Earn
+                </p>
+                <h4 className="text-xl md:text-2xl font-semibold text-black mt-2">
+                  Share optisage!
+                </h4>
+                <p className="text-sm text-[#767676] mt-6">
+                  Invite other sellers to optisage & help them succeed and
+                  unlock exclusive perks too!
+                </p>
+              </span>
+              <button
+                onClick={() => router.push("/referral")}
+                className="bg-primary hover:bg-primary-hover duration-200 text-white text-sm font-medium px-4 py-2 rounded-xl w-full mt-3 active:scale-95"
+              >
+                Refer and Earn
+              </button>
+            </div>
+
+            {/* Upgrade */}
+            <div className="mt-10 flex flex-col justify-end bg-[#48D9AE] bg-[url(/assets/images/upgrade-bg-group-pattern.png)] bg-cover bg-no-repeat bg-center rounded-lg h-[277px] p-4">
+              <Link
+                href="/subscriptions"
+                className="text-[#0F172A] text-lg md:text-xl xl:text-[22px] font-bold flex items-center gap-2"
+              >
+                Upgrade Plans
+                <HiMiniArrowTopRightOnSquare size={20} />
+              </Link>
+              <p className="text-white font-medium text-sm mt-1">
+                Plans $35 upwards
+              </p>
+            </div>
+
+            {/* Profile */}
+            <div className="mt-6 bg-[#E7EBEE4A] rounded-3xl flex gap-3 items-center px-4 h-[68px]">
               <div className="size-10 rounded-full overflow-hidden">
                 <Image
                   src="https://avatar.iran.liara.run/public/38"
@@ -168,35 +285,18 @@ const DashSider = () => {
                 />
               </div>
 
-              <div className="text-sm">
-                <p className="font-medium flex items-center gap-1">
-                  {first_name}{" "}
-                  <RiVerifiedBadgeFill className="text-primary size-4" />
+              <div>
+                <p className="text-sm font-medium text-[#0D0D0D]">
+                  {first_name}
                 </p>
-                <p className="text-[#787891] text-xs">{email}</p>
+                <p className="text-[#595959] text-xs">{email}</p>
               </div>
             </div>
-
-            <button
-              type="button"
-              aria-label="Logout"
-              onClick={() => setOpenModal(true)}
-              className="p-2 rounded-full hover:bg-white text-[#787891]"
-            >
-              <BiChevronRight className="size-6" />
-            </button>
           </div>
-        </div>
+        )}
       </aside>
-
-      {/* Logout Modal */}
-      <LogoutModal
-        openModal={openModal}
-        setOpenModal={setOpenModal}
-        handleLogout={handleLogout}
-      />
     </div>
   );
 };
 
-export default DashSider;
+export default DashSider;
\ No newline at end of file
diff --git a/app/(dashboard)/_components/SearchInput.tsx b/app/(dashboard)/_components/SearchInput.tsx
index 82b2ff1..a44d036 100644
--- a/app/(dashboard)/_components/SearchInput.tsx
+++ b/app/(dashboard)/_components/SearchInput.tsx
@@ -4,6 +4,7 @@ interface SearchInputProps {
   placeholder?: string;
   value: string;
   onChange: (value: string) => void;
+  onKeyPress?: (e: React.KeyboardEvent<HTMLInputElement>) => void;
   className?: string;
 }
 
@@ -11,6 +12,7 @@ const SearchInput: React.FC<SearchInputProps> = ({
   placeholder = "Search for products on Amazon (For best results use specific keywords, UPC Code, ASIN or ISBN code)",
   value,
   onChange,
+  onKeyPress,
   className = "",
 }) => {
   return (
@@ -24,6 +26,7 @@ const SearchInput: React.FC<SearchInputProps> = ({
           type="text"
           value={value}
           onChange={(e) => onChange(e.target.value)}
+          onKeyPress={onKeyPress}
           placeholder={placeholder}
           className="w-full py-2 pl-10 pr-4 text-[#52525B] text-sm border border-transparent rounded-[10px] outline-none bg-[#F4F4F5] focus:bg-white focus:border-primary-focused duration-200"
         />
@@ -32,4 +35,4 @@ const SearchInput: React.FC<SearchInputProps> = ({
   );
 };
 
-export default SearchInput;
+export default SearchInput;
\ No newline at end of file
diff --git a/app/(dashboard)/_components/UserProfile.tsx b/app/(dashboard)/_components/UserProfile.tsx
new file mode 100644
index 0000000..736f023
--- /dev/null
+++ b/app/(dashboard)/_components/UserProfile.tsx
@@ -0,0 +1,93 @@
+"use client";
+
+import { useState, useEffect } from "react";
+import Image from "next/image";
+import { BiChevronDown } from "react-icons/bi";
+import { Dropdown, MenuProps } from "antd";
+import { useRouter } from "next/navigation";
+import LogoutModal from "./LogoutModal";
+import Cookies from "js-cookie";
+import { useDispatch } from "react-redux";
+import { logout } from "@/redux/slice/authSlice";
+
+const UserProfile = () => {
+  const router = useRouter();
+  const [openModal, setOpenModal] = useState(false);
+  const dispatch = useDispatch();
+
+  
+  useEffect(() => {
+    router.prefetch("/settings");
+    router.prefetch("/monitor-list");
+  }, [router]);
+
+  const handleLogout = () => {
+    Cookies.remove("optisage-token");
+    router.push("/");
+    dispatch(logout());
+  };
+
+  const handleMenuClick: MenuProps["onClick"] = ({ key }) => {
+    if (key === "settings") {
+      router.push("/settings");
+    } else if (key === "logout") {
+      setOpenModal(true);
+    } else if (key === "monitor-list") {
+      router.push("/monitor-list");
+    }
+  };
+
+  const items: MenuProps["items"] = [
+    {
+      label: "Settings",
+      key: "settings",
+    },
+    {
+      label: "Monitor List",
+      key: "monitor-list",
+    },
+    {
+      label: "Logout",
+      key: "logout",
+      danger: true,
+    },
+  ];
+
+  return (
+    <>
+      <Dropdown
+        menu={{ items, onClick: handleMenuClick }}
+        trigger={["click"]}
+        placement="bottomRight"
+      >
+        <button
+          type="button"
+          aria-label="Profile"
+          className="flex gap-1 md:gap-2 items-center"
+        >
+          <div className="size-10 rounded-full overflow-hidden">
+            <Image
+              src="https://avatar.iran.liara.run/public/38"
+              alt="Avatar"
+              className="size-10 object-cover rounded-full"
+              width={40}
+              height={40}
+              quality={90}
+              priority
+              unoptimized
+            />
+          </div>
+          <BiChevronDown className="size-5 text-[#616977]" />
+        </button>
+      </Dropdown>
+
+      <LogoutModal
+        openModal={openModal}
+        setOpenModal={setOpenModal}
+        handleLogout={handleLogout}
+      />
+    </>
+  );
+};
+
+export default UserProfile;
diff --git a/app/(dashboard)/dashboard/_components/CustomDatePicker.tsx b/app/(dashboard)/dashboard/_components/CustomDatePicker.tsx
index dfaefa3..b9b544e 100644
--- a/app/(dashboard)/dashboard/_components/CustomDatePicker.tsx
+++ b/app/(dashboard)/dashboard/_components/CustomDatePicker.tsx
@@ -109,7 +109,7 @@ const CustomDatePicker: React.FC<CustomDatePickerProps> = ({
             allowClear={false}
             suffixIcon={null}
             className="!border-none !rounded-none !shadow-none !p-1 !text-center !w-[200px]"
-            classNames={{ popup: { root: "custom-datepicker-popup" } }}
+            popupClassName="custom-datepicker-popup"
             renderExtraFooter={() => null}
             disabledDate={disabledDate}
           />
@@ -122,7 +122,7 @@ const CustomDatePicker: React.FC<CustomDatePickerProps> = ({
             allowClear={false}
             suffixIcon={null}
             className="!border-none !rounded-none !shadow-none !p-1 !text-center !w-[93px]"
-            classNames={{ popup: { root: "custom-datepicker-popup" } }}
+           popupClassName="custom-datepicker-popup"
             renderExtraFooter={() => null}
             disabledDate={disabledDate}
           />
diff --git a/app/(dashboard)/dashboard/_components/Dashboard.tsx b/app/(dashboard)/dashboard/_components/Dashboard.tsx
index 5bb6de3..ba13f8b 100644
--- a/app/(dashboard)/dashboard/_components/Dashboard.tsx
+++ b/app/(dashboard)/dashboard/_components/Dashboard.tsx
@@ -105,7 +105,7 @@ const Dashboard = () => {
   // Reset pagination loading when data changes
 
   return (
-    <section className="flex flex-col gap-8 min-h-[50dvh] md:min-h-[80dvh]">
+    <section className="flex flex-col gap-8 min-h-[50dvh] md:min-h-[80dvh] rounded-xl bg-white p-4 lg:p-5">
       <SearchInput value={searchValue} onChange={setSearchValue} />
       {/* <h2>Selected Marketplace ID: {marketplaceId || "N/A"}</h2> */}
 
diff --git a/app/(dashboard)/dashboard/_components/OldProductDetails.tsx b/app/(dashboard)/dashboard/_components/OldProductDetails.tsx
new file mode 100644
index 0000000..a9bdb69
--- /dev/null
+++ b/app/(dashboard)/dashboard/_components/OldProductDetails.tsx
@@ -0,0 +1,441 @@
+"use client";
+/* eslint-disable @typescript-eslint/no-explicit-any */
+/* eslint-disable @typescript-eslint/no-unused-vars */
+import React, { useState, useEffect, useRef, useMemo, useCallback } from "react"
+import { useRouter } from "next/navigation"
+import { useAppSelector } from "@/redux/hooks"
+import { useDispatch } from "react-redux"
+import { setIpAlert, setIpIssues } from "@/redux/slice/globalSlice"
+import { SearchInput } from "@/app/(dashboard)/_components"
+import {
+  useGetBuyboxDetailsQuery,
+  useGetItemQuery,
+  useGetMarketAnalysisQuery,
+  useLazyGetIpAlertQuery,
+} from "@/redux/api/productsApi";
+import dayjs from "dayjs";
+import ProductHeader from "./prodComponents/product-header";
+import ProductInfo from "./prodComponents/product-info";
+import ProfitabilityCalculator from "./prodComponents/profitability-calculator";
+import ProductStats from "./prodComponents/product-stats";
+import OffersSection from "./prodComponents/offers-section";
+import RanksPricesSection from "./prodComponents/ranks-prices-section";
+import OldBuyBoxAnalysis from "./prodComponents/buy-box-analysis";
+import MarketAnalysis from "./prodComponents/market-analysis";
+import SearchResults from "./prodComponents/search-results";
+import type { IpAlertData } from "./prodComponents/types";
+import FinalLoader from "./loader";
+
+interface ProductDetailsProps {
+  asin: string;
+  marketplaceId: number;
+}
+
+interface IpAlertState {
+  setIpIssue: number;
+  eligibility: boolean;
+}
+
+const ProductDetails = React.memo(({ asin, marketplaceId }: ProductDetailsProps) => {
+  const productStatsRef = useRef<{ handleProfitabilityUpdate: (data: any) => void } | null>(null)
+  const dispatch = useDispatch()
+  const router = useRouter()
+  const [getIpAlert] = useLazyGetIpAlertQuery()
+  const [ipData, setIpData] = useState<IpAlertData | null>(null)
+  const { setIpIssue, eligibility } = useAppSelector(
+    (state) =>
+      (state?.global?.ipAlert as IpAlertState) || {
+        setIpIssue: 0,
+        eligibility: false,
+      }
+  );
+
+  const [searchValue, setSearchValue] = useState("");
+  const [debouncedSearch, setDebouncedSearch] = useState("");
+  const [previousPageToken, setPreviousPageToken] = useState<string | null>(
+    null
+  );
+  const [currentPageToken, setCurrentPageToken] = useState<string | null>(null);
+  const [isPaginationLoading, setIsPaginationLoading] = useState(false);
+  const [nextPageToken, setNextPageToken] = useState<string | null>(null);
+
+  const [statStartDate, setStatStartDate] = useState(
+    dayjs().format("YYYY-MM-DD")
+  );
+  const [statEndDate, setStatEndDate] = useState(
+    dayjs().add(1, "month").format("YYYY-MM-DD")
+  );
+
+  // Track marketplace changes for loader
+  const [isMarketplaceChanging, setIsMarketplaceChanging] = useState(false);
+  const [isLoadingIpData, setIsLoadingIpData] = useState(false);
+  const previousMarketplaceId = useRef(marketplaceId);
+
+  // Loading step state
+  const [loadingStep, setLoadingStep] = useState(0)
+  const [isFullyLoaded, setIsFullyLoaded] = useState(false)
+  const hasMounted = useRef(false)
+
+  // Memoize query parameters to prevent unnecessary re-renders
+  const queryParams = useMemo(() => ({
+    marketplaceId,
+    itemAsin: asin,
+  }), [asin, marketplaceId]);
+
+  const marketAnalysisParams = useMemo(() => ({
+    marketplaceId,
+    itemAsin: asin,
+    statStartDate: dayjs().format("YYYY-MM-DD"),
+    statEndDate: dayjs().add(1, "month").format("YYYY-MM-DD"),
+  }), [asin, marketplaceId]);
+
+  // Add loading guard to prevent queries when essential data is missing
+  const shouldSkipQueries = !asin || !marketplaceId || marketplaceId === 0;
+
+  // RTK Query hooks with isFetching
+  const {
+    data: buyboxDetailsData,
+    isLoading: isLoadingBuybox,
+    isFetching: isFetchingBuybox,
+  } = useGetBuyboxDetailsQuery(
+    queryParams,
+    {
+      skip: shouldSkipQueries,
+      refetchOnMountOrArgChange: false,
+    }
+  )
+
+  const {
+    data,
+    error,
+    isLoading: isLoadingItem,
+    isFetching: isFetchingItem,
+  } = useGetItemQuery(
+    queryParams,
+    {
+      skip: shouldSkipQueries,
+      refetchOnMountOrArgChange: false,
+    }
+  )
+
+  const {
+    data: marketAnalysisData,
+    isLoading: isLoadingMarketAnalysis,
+    isFetching: isFetchingMarketAnalysis,
+  } = useGetMarketAnalysisQuery(
+    marketAnalysisParams,
+    {
+      skip: shouldSkipQueries,
+      refetchOnMountOrArgChange: false,
+    }
+  )
+
+  // Combined fetching state
+  const isAnyQueryFetching =
+    isFetchingItem ||
+    isFetchingBuybox ||
+    isFetchingMarketAnalysis ||
+    isLoadingIpData;
+
+  // Show loader when marketplace changes or any query is fetching
+  const shouldShowLoader = isMarketplaceChanging || isAnyQueryFetching;
+
+  const buyboxWinner = buyboxDetailsData?.data?.buybox?.find(
+    (offer: any) => offer.is_buybox_winner
+  );
+  const buyboxWinnerPrice = buyboxWinner?.listing_price || 0;
+
+  const fbaOffers = buyboxDetailsData?.data?.buybox?.filter(
+    (offer: any) => offer.seller_type === "FBA"
+  );
+  const fbmOffers = buyboxDetailsData?.data?.buybox?.filter(
+    (offer: any) => offer.seller_type === "FBM"
+  );
+
+  const lowestFBAPrice = fbaOffers?.length
+    ? Math.min(...fbaOffers.map((o: any) => o.listing_price))
+    : 0;
+  const lowestFBMPrice = fbmOffers?.length
+    ? Math.min(...fbmOffers.map((o: any) => o.listing_price))
+    : 0;
+  const monthlySales =
+    data?.data?.sales_statistics?.estimated_sales_per_month?.amount;
+
+  // Debounce input to prevent excessive API calls
+  useEffect(() => {
+    const handler = setTimeout(() => setDebouncedSearch(searchValue), 500);
+    return () => clearTimeout(handler);
+  }, [searchValue]);
+
+  // Track marketplace changes
+  useEffect(() => {
+    if (previousMarketplaceId.current !== marketplaceId) {
+      setIsMarketplaceChanging(true);
+      previousMarketplaceId.current = marketplaceId;
+
+      // Reset states when marketplace changes
+      setIpData(null);
+      dispatch(
+        setIpAlert({
+          setIpIssue: 0,
+          eligibility: false,
+        })
+      );
+      dispatch(setIpIssues([] as any));
+      setLoadingStep(0);
+    }
+  }, [marketplaceId, dispatch]);
+
+  // Reset marketplace changing state when all queries finish with memoized condition
+  const shouldResetMarketplaceChanging = useMemo(() => {
+    return isMarketplaceChanging && !isAnyQueryFetching
+  }, [isMarketplaceChanging, isAnyQueryFetching])
+
+  useEffect(() => {
+    if (shouldResetMarketplaceChanging) {
+      // Add a small delay to ensure smooth transition
+      const timer = setTimeout(() => {
+        setIsMarketplaceChanging(false);
+      }, 300);
+      return () => clearTimeout(timer);
+    }
+  }, [shouldResetMarketplaceChanging])
+
+  // Reset IP data immediately when ASIN changes
+  useEffect(() => {
+    setIpData(null);
+    dispatch(
+      setIpAlert({
+        setIpIssue: 0,
+        eligibility: false,
+      })
+    );
+    dispatch(setIpIssues([] as any));
+    setIsLoadingIpData(true);
+    setLoadingStep(0);
+  }, [asin, dispatch]);
+
+  // Fetch IP data with optimized dependencies
+  const fetchIpData = useCallback(async () => {
+    if (!asin || !marketplaceId || marketplaceId === 0) return;
+    
+    setIsLoadingIpData(true)
+    try {
+      const response = await getIpAlert({
+        itemAsin: asin,
+        marketplaceId,
+        statStartDate,
+        statEndDate,
+      }).unwrap()
+      dispatch(
+        setIpAlert({
+          setIpIssue: response?.data?.ip_analysis?.issues ?? 0,
+          eligibility: response?.data?.eligible_to_sell ?? false,
+        }),
+      )
+      dispatch(setIpIssues(response?.data?.ip_analysis?.issues ?? []))
+      setIpData(response.data as IpAlertData)
+      setLoadingStep((prev) => Math.min(prev + 1, 4))
+    } catch (error) {
+      console.error("Error fetching IP alert:", error)
+    } finally {
+      setIsLoadingIpData(false)
+    }
+  }, [asin, marketplaceId, statStartDate, statEndDate, getIpAlert, dispatch])
+
+  useEffect(() => {
+    fetchIpData()
+  }, [fetchIpData])
+
+  // Update loading steps based on API responses
+  useEffect(() => {
+    if (!isLoadingItem && data) {
+      setLoadingStep((prev) => Math.min(prev + 1, 4));
+    }
+  }, [isLoadingItem, data]);
+
+  useEffect(() => {
+    if (!isLoadingBuybox && buyboxDetailsData) {
+      setLoadingStep((prev) => Math.min(prev + 1, 4));
+    }
+  }, [isLoadingBuybox, buyboxDetailsData]);
+
+  useEffect(() => {
+    if (!isLoadingMarketAnalysis && marketAnalysisData) {
+      setLoadingStep((prev) => Math.min(prev + 1, 4));
+    }
+  }, [isLoadingMarketAnalysis, marketAnalysisData]);
+
+  // Set fully loaded when all steps are complete with memoized condition
+  const isAllDataLoaded = useMemo(() => {
+    return loadingStep >= 4 && 
+           !isLoadingItem && 
+           !isLoadingBuybox && 
+           !isLoadingIpData && 
+           !isLoadingMarketAnalysis
+  }, [loadingStep, isLoadingItem, isLoadingBuybox, isLoadingIpData, isLoadingMarketAnalysis])
+
+  useEffect(() => {
+    if (isAllDataLoaded && !hasMounted.current) {
+      hasMounted.current = true
+      const timer = setTimeout(() => {
+        setIsFullyLoaded(true);
+      }, 500);
+      return () => clearTimeout(timer);
+    }
+  }, [isAllDataLoaded])
+
+  if (error) {
+    return (
+      <div className="h-[400px] flex flex-col items-center justify-center">
+        <h2 className="font-semibold">Error loading product details</h2>
+        <p className="text-sm">
+          Product might not be available in the selected country
+        </p>
+      </div>
+    );
+  }
+
+  const handleCalculationComplete = (data: any) => {
+    if (productStatsRef.current) {
+      productStatsRef.current.handleProfitabilityUpdate(data);
+    }
+  };
+
+  const offers = buyboxDetailsData?.data?.buybox || [];
+
+  return (
+    <>
+      {/* Full screen loader overlay */}
+      {shouldShowLoader && (
+        <div className="fixed inset-0 pl-20 flex items-center justify-center bg-white z-50">
+          <div className=" w-[80%]">
+            <FinalLoader currentStep={loadingStep} />
+          </div>
+        </div>
+      )}
+
+      <section className="flex flex-col gap-8 min-h-[50dvh] md:min-h-[80dvh]">
+        <SearchInput value={searchValue} onChange={setSearchValue} />
+
+        {/* Show product details when there's no search */}
+        {!debouncedSearch && (
+          <main className="flex flex-col gap-5">
+            <ProductHeader
+              product={data?.data}
+              buyboxWinnerPrice={buyboxWinnerPrice}
+              lowestFBAPrice={lowestFBAPrice}
+              lowestFBMPrice={lowestFBMPrice}
+              monthlySales={monthlySales}
+              sellerCount={buyboxDetailsData?.data?.buybox?.length || 0}
+              fbaSellers={fbaOffers?.length || 0}
+              fbmSellers={fbmOffers?.length || 0}
+              stockLevels={buyboxDetailsData?.data?.buybox?.reduce(
+                (sum: number, seller: any) =>
+                  sum + (seller.stock_quantity || 0),
+                0
+              )}
+            />
+
+            {/* grid */}
+            <div className="grid md:grid-cols-2 gap-5">
+              {/* left */}
+              <div className="flex flex-col gap-5">
+                <ProductInfo
+                  product={data?.data}
+                  ipData={ipData}
+                  eligibility={eligibility}
+                  setIpIssue={setIpIssue}
+                  asin={asin}
+                  marketplaceId={marketplaceId}
+                  isLoading={false}
+                  isLoadingIpData={isLoadingIpData}
+                />
+                <ProfitabilityCalculator
+                  asin={asin}
+                  marketplaceId={marketplaceId}
+                  product={data?.data}
+                  isLoading={false}
+                  offers={offers}
+                  onCalculationComplete={handleCalculationComplete}
+                />
+                <ProductStats
+                  product={data?.data}
+                  buyboxDetails={buyboxDetailsData?.data}
+                  isLoading={false}
+                  ref={productStatsRef}
+                  asin={asin}          
+  marketplaceId={marketplaceId}
+                />
+              </div>
+
+              {/* right */}
+              <div className="flex flex-col gap-5">
+                <OffersSection
+                  asin={asin}
+                  marketplaceId={marketplaceId}
+                  router={router}
+                  isLoading={false}
+                />
+                <RanksPricesSection
+                  asin={asin}
+                  marketplaceId={marketplaceId}
+                  isLoading={false}
+                />
+                <OldBuyBoxAnalysis
+                  asin={asin}
+                  marketplaceId={marketplaceId}
+                  statStartDate={statStartDate}
+                  statEndDate={statEndDate}
+                  onDateChange={(
+                    dates: dayjs.Dayjs | [dayjs.Dayjs, dayjs.Dayjs]
+                  ) => {
+                    if (Array.isArray(dates) && dates.length === 2) {
+                      const [startDate, endDate] = dates;
+                      setStatStartDate(startDate.format("YYYY-MM-DD"));
+                      setStatEndDate(endDate.format("YYYY-MM-DD"));
+                    }
+                  }}
+                  isLoading={false}
+                />
+                <MarketAnalysis
+                  asin={asin}
+                  marketplaceId={marketplaceId}
+                  isLoading={false}
+                  data={marketAnalysisData?.data}
+                />
+              </div>
+            </div>
+          </main>
+        )}
+
+        {/* Show search results when there's a search and results */}
+        {debouncedSearch && (
+          <SearchResults
+            debouncedSearch={debouncedSearch}
+            marketplaceId={marketplaceId}
+            currentPageToken={currentPageToken}
+            setNextPageToken={setNextPageToken}
+            setPreviousPageToken={setPreviousPageToken}
+            router={router}
+            isLoading={isPaginationLoading}
+            onPagination={{
+              onNext: () => {
+                setIsPaginationLoading(true);
+                setCurrentPageToken(nextPageToken);
+              },
+              onPrevious: () => {
+                setIsPaginationLoading(true);
+                setCurrentPageToken(previousPageToken);
+              },
+              hasNext: !!nextPageToken,
+              hasPrevious: !!previousPageToken,
+            }}
+          />
+        )}
+      </section>
+    </>
+  )
+});
+ProductDetails.displayName = "ProductDetails";
+export default ProductDetails;
\ No newline at end of file
diff --git a/app/(dashboard)/dashboard/_components/ProductDetails.tsx b/app/(dashboard)/dashboard/_components/ProductDetails.tsx
index bbda6e2..b9144b4 100644
--- a/app/(dashboard)/dashboard/_components/ProductDetails.tsx
+++ b/app/(dashboard)/dashboard/_components/ProductDetails.tsx
@@ -1,402 +1,406 @@
-"use client"
+"use client";
 /* eslint-disable @typescript-eslint/no-explicit-any */
 /* eslint-disable @typescript-eslint/no-unused-vars */
-import React, { useState, useEffect, useRef, useMemo, useCallback } from "react"
-import { useRouter } from "next/navigation"
-import { useAppSelector } from "@/redux/hooks"
-import { useDispatch } from "react-redux"
-import { setIpAlert, setIpIssues } from "@/redux/slice/globalSlice"
-import { SearchInput } from "@/app/(dashboard)/_components"
+import { useState, useEffect, useRef } from "react";
+import { useAppSelector } from "@/redux/hooks";
+import { useDispatch } from "react-redux";
+import { setIpAlert, setIpIssues } from "@/redux/slice/globalSlice";
 import {
   useGetBuyboxDetailsQuery,
   useGetItemQuery,
-  useGetMarketAnalysisQuery,
   useLazyGetIpAlertQuery,
-} from "@/redux/api/productsApi"
-import dayjs from "dayjs"
-import ProductHeader from "./prodComponents/product-header"
-import ProductInfo from "./prodComponents/product-info"
-import ProfitabilityCalculator from "./prodComponents/profitability-calculator"
-import ProductStats from "./prodComponents/product-stats"
-import OffersSection from "./prodComponents/offers-section"
-import RanksPricesSection from "./prodComponents/ranks-prices-section"
-import BuyBoxAnalysis from "./prodComponents/buy-box-analysis"
-import MarketAnalysis from "./prodComponents/market-analysis"
-import SearchResults from "./prodComponents/search-results"
-import type { IpAlertData } from "./prodComponents/types"
-import FinalLoader from "./loader"
+} from "@/redux/api/productsApi";
+import dayjs from "dayjs";
+
+import FinalLoader from "./loader";
+import Alerts from "./prodComponents/new/alerts";
+import BuyboxAnalysis from "./prodComponents/new/buybox-analysis";
+import CalculationResults from "./prodComponents/new/calculation-results";
+import Keepa from "./prodComponents/new/keepa";
+import MarketAnalysis from "./prodComponents/new/market-analysis";
+import MultiMarketAnalyzer from "./prodComponents/new/multi-market-analyzer";
+import Nav from "./prodComponents/new/nav";
+import NewOfferCount from "./prodComponents/new/new-offer-count";
+import OffersAndSellerFeedback from "./prodComponents/new/offers-and-seller-feedback";
+import ProductEligibility from "./prodComponents/new/product-eligibility";
+import ProductOverview from "./prodComponents/new/product-overview";
+import ProfitabilityCalculator from "./prodComponents/new/profitability-calculator";
+import QuickInfo from "./prodComponents/new/quick-info";
+import SalesAnalytics from "./prodComponents/new/sales-analytics";
+import TopSellers from "./prodComponents/new/top-sellers";
 
 interface ProductDetailsProps {
-  asin: string
-  marketplaceId: number
+  asin: string;
+  marketplaceId: number;
 }
 
 interface IpAlertState {
-  setIpIssue: number
-  eligibility: boolean
+  setIpIssue: number;
+  eligibility: boolean;
 }
 
-const ProductDetails = React.memo(({ asin, marketplaceId }: ProductDetailsProps) => {
-  const productStatsRef = useRef<{ handleProfitabilityUpdate: (data: any) => void } | null>(null)
-  const dispatch = useDispatch()
-  const router = useRouter()
-  const [getIpAlert] = useLazyGetIpAlertQuery()
-  const [ipData, setIpData] = useState<IpAlertData | null>(null)
-  const { setIpIssue, eligibility } = useAppSelector(
-    (state) => (state?.global?.ipAlert as IpAlertState) || { setIpIssue: 0, eligibility: false },
-  )
-
-  const [searchValue, setSearchValue] = useState("")
-  const [debouncedSearch, setDebouncedSearch] = useState("")
-  const [previousPageToken, setPreviousPageToken] = useState<string | null>(null)
-  const [currentPageToken, setCurrentPageToken] = useState<string | null>(null)
-  const [isPaginationLoading, setIsPaginationLoading] = useState(false)
-  const [nextPageToken, setNextPageToken] = useState<string | null>(null)
-
-  const [statStartDate, setStatStartDate] = useState(dayjs().format("YYYY-MM-DD"))
-  const [statEndDate, setStatEndDate] = useState(dayjs().add(1, "month").format("YYYY-MM-DD"))
-
-  // Track marketplace changes for loader
-  const [isMarketplaceChanging, setIsMarketplaceChanging] = useState(false)
-  const [isLoadingIpData, setIsLoadingIpData] = useState(false)
-  const previousMarketplaceId = useRef(marketplaceId)
-
-  // Loading step state
-  const [loadingStep, setLoadingStep] = useState(0)
-  const [isFullyLoaded, setIsFullyLoaded] = useState(false)
-  const hasMounted = useRef(false)
-
-  // Memoize query parameters to prevent unnecessary re-renders
-  const queryParams = useMemo(() => ({
-    marketplaceId,
-    itemAsin: asin,
-  }), [asin, marketplaceId]);
-
-  const marketAnalysisParams = useMemo(() => ({
-    marketplaceId,
-    itemAsin: asin,
-    statStartDate: dayjs().format("YYYY-MM-DD"),
-    statEndDate: dayjs().add(1, "month").format("YYYY-MM-DD"),
-  }), [asin, marketplaceId]);
+interface IpAlertData {
+  amazon_share_buybox?: number;
+  private_label?: string;
+  size?: string;
+  size_text?: string;
+  is_meltable?: boolean;
+  has_variations?: boolean;
+  ip_analysis?: {
+    description?: string;
+    issues?: number;
+  };
+  eligible_to_sell?: boolean;
+  is_hazardous_or_dangerous?: boolean;
+}
 
-  // Add loading guard to prevent queries when essential data is missing
-  const shouldSkipQueries = !asin || !marketplaceId || marketplaceId === 0;
+const ProductDetails = ({ asin, marketplaceId }: ProductDetailsProps) => {
+  const dispatch = useDispatch();
+  const [getIpAlert] = useLazyGetIpAlertQuery();
+  const [ipData, setIpData] = useState<IpAlertData | null>(null);
+  const [isLoadingIpData, setIsLoadingIpData] = useState(false);
+  const [ipDataError, setIpDataError] = useState(false);
+  const previousMarketplaceId = useRef(marketplaceId);
+  const [profitabilityData, setProfitabilityData] = useState<any>(null);
+  const [isCalculating, setIsCalculating] = useState(false);
+
+  // Add loader state
+  const [currentStep, setCurrentStep] = useState(0);
+  const [showLoader, setShowLoader] = useState(true);
+  const [hasError, setHasError] = useState(false);
+
+  // Refs for triggering recalculation
+  const profitCalculatorRef = useRef<{
+    updateCostPrice: (value: string) => void;
+    updateSalesPrice: (value: string) => void;
+  } | null>(null);
+
+  const { currencyCode } = useAppSelector((state) => state.global) || {
+    currencyCode: "USD",
+  };
+
+  const quickInfoRef = useRef<{
+    handleProfitabilityUpdate: (data: any) => void;
+  } | null>(null);
 
-  // RTK Query hooks with isFetching
-  const {
-    data: buyboxDetailsData,
+  const { setIpIssue, eligibility } = useAppSelector(
+    (state) =>
+      (state?.global?.ipAlert as IpAlertState) || {
+        setIpIssue: 0,
+        eligibility: false,
+      }
+  );
+
+  const [statStartDate, setStatStartDate] = useState(
+    dayjs().format("YYYY-MM-DD")
+  );
+  const [statEndDate, setStatEndDate] = useState(
+    dayjs().add(1, "month").format("YYYY-MM-DD")
+  );
+
+  // RTK Query hooks for fetching product data
+  const { 
+    data: buyboxDetailsData, 
     isLoading: isLoadingBuybox,
-    isFetching: isFetchingBuybox,
-  } = useGetBuyboxDetailsQuery(
-    queryParams,
-    {
-      skip: shouldSkipQueries,
-      refetchOnMountOrArgChange: false,
-    }
-  )
+    error: buyboxError 
+  } = useGetBuyboxDetailsQuery({
+    marketplaceId,
+    itemAsin: asin,
+  });
 
   const {
     data,
     error,
     isLoading: isLoadingItem,
-    isFetching: isFetchingItem,
-  } = useGetItemQuery(
-    queryParams,
-    {
-      skip: shouldSkipQueries,
-      refetchOnMountOrArgChange: false,
+  } = useGetItemQuery({
+    marketplaceId,
+    itemAsin: asin,
+  });
+
+  // Calculate pricing data for Nav component
+  const buyboxWinner = buyboxDetailsData?.data?.buybox?.find(
+    (offer: any) => offer.is_buybox_winner
+  );
+  const buyboxWinnerPrice = buyboxWinner?.listing_price || 0;
+
+  const fbaOffers = buyboxDetailsData?.data?.buybox?.filter(
+    (offer: any) => offer.seller_type === "FBA"
+  );
+  const fbmOffers = buyboxDetailsData?.data?.buybox?.filter(
+    (offer: any) => offer.seller_type === "FBM"
+  );
+
+  const lowestFBAPrice = fbaOffers?.length
+    ? Math.min(...fbaOffers.map((o: any) => o.listing_price))
+    : 0;
+  const lowestFBMPrice = fbmOffers?.length
+    ? Math.min(...fbmOffers.map((o: any) => o.listing_price))
+    : 0;
+
+  const monthlySales =
+    data?.data?.sales_statistics?.estimated_sales_per_month?.amount;
+
+  // Check for errors and stop loader
+  useEffect(() => {
+    if (error || buyboxError || ipDataError) {
+      setHasError(true);
+      setShowLoader(false);
     }
-  )
+  }, [error, buyboxError, ipDataError]);
 
-  const {
-    data: marketAnalysisData,
-    isLoading: isLoadingMarketAnalysis,
-    isFetching: isFetchingMarketAnalysis,
-  } = useGetMarketAnalysisQuery(
-    marketAnalysisParams,
-    {
-      skip: shouldSkipQueries,
-      refetchOnMountOrArgChange: false,
-    }
-  )
+  // Track loading progress and update steps
+  useEffect(() => {
+    // Don't update steps if there's an error
+    if (hasError) return;
 
-  // Combined fetching state
-  const isAnyQueryFetching = isFetchingItem || isFetchingBuybox || isFetchingMarketAnalysis || isLoadingIpData
+    let step = 0;
+    
+    if (asin && marketplaceId) {
+      step = 0;
+    }
 
-  // Show loader when marketplace changes or any query is fetching
-  const shouldShowLoader = isMarketplaceChanging || isAnyQueryFetching
+    if (!isLoadingItem && data) {
+      step = 1;
+    }
 
-  const buyboxWinner = buyboxDetailsData?.data?.buybox?.find((offer: any) => offer.is_buybox_winner)
-  const buyboxWinnerPrice = buyboxWinner?.listing_price || 0
+    if (!isLoadingBuybox && buyboxDetailsData) {
+      step = 2;
+    }
 
-  const fbaOffers = buyboxDetailsData?.data?.buybox?.filter((offer: any) => offer.seller_type === "FBA")
-  const fbmOffers = buyboxDetailsData?.data?.buybox?.filter((offer: any) => offer.seller_type === "FBM")
+    if (!isLoadingIpData && ipData) {
+      step = 3;
+    }
 
-  const lowestFBAPrice = fbaOffers?.length ? Math.min(...fbaOffers.map((o: any) => o.listing_price)) : 0
-  const lowestFBMPrice = fbmOffers?.length ? Math.min(...fbmOffers.map((o: any) => o.listing_price)) : 0
-  const monthlySales = data?.data?.sales_statistics?.estimated_sales_per_month?.amount
+    if (!isLoadingItem && !isLoadingBuybox && !isLoadingIpData && 
+        data && buyboxDetailsData && (ipData !== null || !asin)) {
+      step = 4;
+      const timer = setTimeout(() => {
+        setShowLoader(false);
+      }, 1000);
+      return () => clearTimeout(timer);
+    }
 
-  // Debounce input to prevent excessive API calls
-  useEffect(() => {
-    const handler = setTimeout(() => setDebouncedSearch(searchValue), 500)
-    return () => clearTimeout(handler)
-  }, [searchValue])
+    setCurrentStep(step);
+  }, [isLoadingItem, isLoadingBuybox, isLoadingIpData, data, buyboxDetailsData, ipData, asin, marketplaceId, hasError]);
 
   // Track marketplace changes
   useEffect(() => {
     if (previousMarketplaceId.current !== marketplaceId) {
-      setIsMarketplaceChanging(true)
-      previousMarketplaceId.current = marketplaceId
+      previousMarketplaceId.current = marketplaceId;
 
-      // Reset states when marketplace changes
-      setIpData(null)
+      setIpData(null);
+      setShowLoader(true);
+      setCurrentStep(0);
+      setHasError(false);
+      setIpDataError(false);
       dispatch(
         setIpAlert({
           setIpIssue: 0,
           eligibility: false,
-        }),
-      )
-      dispatch(setIpIssues([] as any))
-      setLoadingStep(0)
+        })
+      );
+      dispatch(setIpIssues([] as any));
     }
-  }, [marketplaceId, dispatch])
-
-  // Reset marketplace changing state when all queries finish with memoized condition
-  const shouldResetMarketplaceChanging = useMemo(() => {
-    return isMarketplaceChanging && !isAnyQueryFetching
-  }, [isMarketplaceChanging, isAnyQueryFetching])
-
-  useEffect(() => {
-    if (shouldResetMarketplaceChanging) {
-      // Add a small delay to ensure smooth transition
-      const timer = setTimeout(() => {
-        setIsMarketplaceChanging(false)
-      }, 300)
-      return () => clearTimeout(timer)
-    }
-  }, [shouldResetMarketplaceChanging])
+  }, [marketplaceId, dispatch]);
 
   // Reset IP data immediately when ASIN changes
   useEffect(() => {
-    setIpData(null)
+    setIpData(null);
+    setShowLoader(true);
+    setCurrentStep(0);
+    setHasError(false);
+    setIpDataError(false);
     dispatch(
       setIpAlert({
         setIpIssue: 0,
         eligibility: false,
-      }),
-    )
-    dispatch(setIpIssues([] as any))
-    setIsLoadingIpData(true)
-    setLoadingStep(0)
-  }, [asin, dispatch])
-
-  // Fetch IP data with optimized dependencies
-  const fetchIpData = useCallback(async () => {
-    if (!asin || !marketplaceId || marketplaceId === 0) return;
-    
-    setIsLoadingIpData(true)
-    try {
-      const response = await getIpAlert({
-        itemAsin: asin,
-        marketplaceId,
-        statStartDate,
-        statEndDate,
-      }).unwrap()
-      dispatch(
-        setIpAlert({
-          setIpIssue: response?.data?.ip_analysis?.issues ?? 0,
-          eligibility: response?.data?.eligible_to_sell ?? false,
-        }),
-      )
-      dispatch(setIpIssues(response?.data?.ip_analysis?.issues ?? []))
-      setIpData(response.data as IpAlertData)
-      setLoadingStep((prev) => Math.min(prev + 1, 4))
-    } catch (error) {
-      console.error("Error fetching IP alert:", error)
-    } finally {
-      setIsLoadingIpData(false)
-    }
-  }, [asin, marketplaceId, statStartDate, statEndDate, getIpAlert, dispatch])
-
-  useEffect(() => {
-    fetchIpData()
-  }, [fetchIpData])
+      })
+    );
+    dispatch(setIpIssues([] as any));
+    setIsLoadingIpData(true);
+  }, [asin, dispatch]);
 
-  // Update loading steps based on API responses
+  // Fetch IP data
   useEffect(() => {
-    if (!isLoadingItem && data) {
-      setLoadingStep((prev) => Math.min(prev + 1, 4))
+    const fetchIpData = async () => {
+      setIsLoadingIpData(true);
+      setIpDataError(false);
+      try {
+        const response = await getIpAlert({
+          itemAsin: asin,
+          marketplaceId,
+          statStartDate,
+          statEndDate,
+        }).unwrap();
+
+        dispatch(
+          setIpAlert({
+            setIpIssue: response?.data?.ip_analysis?.issues ?? 0,
+            eligibility: response?.data?.eligible_to_sell ?? false,
+          })
+        );
+        dispatch(setIpIssues(response?.data?.ip_analysis?.issues ?? []));
+        setIpData(response.data as IpAlertData);
+      } catch (error) {
+        console.error("Error fetching IP alert:", error);
+        setIpDataError(true);
+        setIpData({});
+      } finally {
+        setIsLoadingIpData(false);
+      }
+    };
+
+    if (asin && marketplaceId) {
+      fetchIpData();
     }
-  }, [isLoadingItem, data])
+  }, [asin, marketplaceId, dispatch, getIpAlert, statStartDate, statEndDate]);
 
-  useEffect(() => {
-    if (!isLoadingBuybox && buyboxDetailsData) {
-      setLoadingStep((prev) => Math.min(prev + 1, 4))
-    }
-  }, [isLoadingBuybox, buyboxDetailsData])
+  // Handle profitability calculation completion
+  const handleCalculationComplete = (data: any) => {
+    setProfitabilityData(data);
+    setIsCalculating(false);
 
-  useEffect(() => {
-    if (!isLoadingMarketAnalysis && marketAnalysisData) {
-      setLoadingStep((prev) => Math.min(prev + 1, 4))
+    if (quickInfoRef.current) {
+      quickInfoRef.current.handleProfitabilityUpdate(data);
     }
-  }, [isLoadingMarketAnalysis, marketAnalysisData])
+  };
 
-  // Set fully loaded when all steps are complete with memoized condition
-  const isAllDataLoaded = useMemo(() => {
-    return loadingStep >= 4 && 
-           !isLoadingItem && 
-           !isLoadingBuybox && 
-           !isLoadingIpData && 
-           !isLoadingMarketAnalysis
-  }, [loadingStep, isLoadingItem, isLoadingBuybox, isLoadingIpData, isLoadingMarketAnalysis])
+  const handleCalculationStart = () => {
+    setIsCalculating(true);
+  };
 
-  useEffect(() => {
-    if (isAllDataLoaded && !hasMounted.current) {
-      hasMounted.current = true
-      const timer = setTimeout(() => {
-        setIsFullyLoaded(true)
-      }, 500)
-      return () => clearTimeout(timer)
+  const handleNavigateToTotan = () => {
+    console.log("Navigate to Totan");
+  };
+
+  // Handle cost price change from QuickInfo
+  const handleCostPriceChange = (value: string) => {
+    if (profitCalculatorRef.current) {
+      profitCalculatorRef.current.updateCostPrice(value);
     }
-  }, [isAllDataLoaded])
+  };
 
-  if (error) {
+  // Handle sales price change from QuickInfo
+  const handleSalesPriceChange = (value: string) => {
+    if (profitCalculatorRef.current) {
+      profitCalculatorRef.current.updateSalesPrice(value);
+    }
+  };
+
+  // Show error message if any API fails
+  if (hasError || error || buyboxError || ipDataError) {
     return (
       <div className="h-[400px] flex flex-col items-center justify-center">
-        <h2 className="font-semibold">Error loading product details</h2>
-        <p className="text-sm">Product might not be available in the selected country</p>
+        <h2 className="font-semibold text-red-600">An error occurred</h2>
+        <p className="text-sm text-gray-600">
+          {error 
+            ? "Failed to load product details" 
+            : buyboxError 
+            ? "Failed to load buybox information"
+            : ipDataError
+            ? "Failed to load IP alert data"
+            : "An error occurred while loading data, confirm you are on the correct marketplace"}
+        </p>
+        <p className="text-xs text-gray-500 mt-2">
+          Please try again or select a different product
+        </p>
       </div>
-    )
+    );
   }
 
-  const handleCalculationComplete = (data: any) => {
-    if (productStatsRef.current) {
-      productStatsRef.current.handleProfitabilityUpdate(data)
-    }
+  if (showLoader) {
+    return (
+      <div className="flex items-center justify-center min-h-[80vh]">
+        <FinalLoader currentStep={currentStep} />
+      </div>
+    );
   }
 
-  const offers = buyboxDetailsData?.data?.buybox || []
-
   return (
-    <>
-      {/* Full screen loader overlay */}
-      {shouldShowLoader && (
-        <div className="fixed inset-0 pl-20 flex items-center justify-center bg-white z-50">
-          <div className=" w-[80%]">
-          <FinalLoader currentStep={loadingStep} />
-          </div>
+    <section className="flex flex-col gap-4 min-h-[50dvh] md:min-h-[80dvh]">
+      <Nav
+        product={data?.data}
+        buyboxWinnerPrice={buyboxWinnerPrice}
+        lowestFBAPrice={lowestFBAPrice}
+        lowestFBMPrice={lowestFBMPrice}
+        monthlySales={monthlySales}
+        sellerCount={buyboxDetailsData?.data?.buybox?.length || 0}
+        fbaSellers={fbaOffers?.length || 0}
+        fbmSellers={fbmOffers?.length || 0}
+        stockLevels={buyboxDetailsData?.data?.buybox?.reduce(
+          (sum: number, seller: any) => sum + (seller.stock_quantity || 0),
+          0
+        )}
+        asin={asin}
+        marketplaceId={marketplaceId}
+        profitabilityData={profitabilityData}
+        onNavigateToTotan={handleNavigateToTotan}
+      />
+
+      <div className="grid md:grid-cols-2 xl:grid-cols-3 gap-3">
+        {/* column 1 */}
+        <div className="flex flex-col gap-4">
+          <ProductOverview
+            product={data?.data}
+            asin={asin}
+            marketplaceId={marketplaceId}
+            isLoading={isLoadingItem}
+          />
+          <ProductEligibility
+            product={data?.data}
+            ipData={ipData}
+            eligibility={eligibility}
+            setIpIssue={setIpIssue}
+            asin={asin}
+            marketplaceId={marketplaceId}
+            isLoadingIpData={isLoadingIpData}
+          />
+          <QuickInfo
+            ref={quickInfoRef}
+            product={data?.data}
+            buyboxDetails={buyboxDetailsData?.data}
+            asin={asin}
+            marketplaceId={marketplaceId}
+            onNavigateToTotan={handleNavigateToTotan}
+            onCostPriceChange={handleCostPriceChange}
+            onSalesPriceChange={handleSalesPriceChange}
+          />
         </div>
-      )}
-
-      <section className="flex flex-col gap-8 min-h-[50dvh] md:min-h-[80dvh]">
-        <SearchInput value={searchValue} onChange={setSearchValue} />
 
-        {/* Show product details when there's no search */}
-        {!debouncedSearch && (
-          <main className="flex flex-col gap-5">
-            <ProductHeader
+        {/* column 2 */}
+        <div className="flex flex-col gap-4 col-span-2">
+          <TopSellers asin={asin} marketplaceId={marketplaceId} />
+          <CalculationResults
+            profitabilityData={profitabilityData}
+            currencyCode={currencyCode}
+            isCalculating={isCalculating}
+             rightColumn={<BuyboxAnalysis asin={asin} marketplaceId={marketplaceId} />}
+          >
+            <ProfitabilityCalculator
+              ref={profitCalculatorRef}
+              asin={asin}
+              marketplaceId={marketplaceId}
               product={data?.data}
-              buyboxWinnerPrice={buyboxWinnerPrice}
-              lowestFBAPrice={lowestFBAPrice}
-              lowestFBMPrice={lowestFBMPrice}
-              monthlySales={monthlySales}
-              sellerCount={buyboxDetailsData?.data?.buybox?.length || 0}
-              fbaSellers={fbaOffers?.length || 0}
-              fbmSellers={fbmOffers?.length || 0}
-              stockLevels={buyboxDetailsData?.data?.buybox?.reduce(
-                (sum: number, seller: any) => sum + (seller.stock_quantity || 0),
-                0,
-              )}
+              isLoading={isLoadingItem}
+              onCalculationComplete={handleCalculationComplete}
+              onCalculationStart={handleCalculationStart}
+              offers={buyboxDetailsData?.data?.buybox || []}
             />
+         
+          </CalculationResults>
+       
+        </div>
+      </div>
 
-            {/* grid */}
-            <div className="grid md:grid-cols-2 gap-5">
-              {/* left */}
-              <div className="flex flex-col gap-5">
-                <ProductInfo
-                  product={data?.data}
-                  ipData={ipData}
-                  eligibility={eligibility}
-                  setIpIssue={setIpIssue}
-                  asin={asin}
-                  marketplaceId={marketplaceId}
-                  isLoading={false}
-                  isLoadingIpData={isLoadingIpData}
-                />
-                <ProfitabilityCalculator
-                  asin={asin}
-                  marketplaceId={marketplaceId}
-                  product={data?.data}
-                  isLoading={false}
-                  offers={offers}
-                  onCalculationComplete={handleCalculationComplete}
-                />
-                <ProductStats
-                  product={data?.data}
-                  buyboxDetails={buyboxDetailsData?.data}
-                  isLoading={false}
-                  ref={productStatsRef}
-                  asin={asin}          
-  marketplaceId={marketplaceId}
-                />
-              </div>
-
-              {/* right */}
-              <div className="flex flex-col gap-5">
-                <OffersSection asin={asin} marketplaceId={marketplaceId} router={router} isLoading={false} />
-                <RanksPricesSection asin={asin} marketplaceId={marketplaceId} isLoading={false} />
-                <BuyBoxAnalysis
-                  asin={asin}
-                  marketplaceId={marketplaceId}
-                  statStartDate={statStartDate}
-                  statEndDate={statEndDate}
-                  onDateChange={(dates: dayjs.Dayjs | [dayjs.Dayjs, dayjs.Dayjs]) => {
-                    if (Array.isArray(dates) && dates.length === 2) {
-                      const [startDate, endDate] = dates
-                      setStatStartDate(startDate.format("YYYY-MM-DD"))
-                      setStatEndDate(endDate.format("YYYY-MM-DD"))
-                    }
-                  }}
-                  isLoading={false}
-                />
-                <MarketAnalysis
-                  asin={asin}
-                  marketplaceId={marketplaceId}
-                  isLoading={false}
-                  data={marketAnalysisData?.data}
-                />
-              </div>
-            </div>
-          </main>
-        )}
+      <div className="col-span-3">
+        <MarketAnalysis
+          asin={asin}
+          marketplaceId={marketplaceId}
+          isLoading={isLoadingItem}
+        />
+      </div>
+    </section>
+  );
+};
 
-        {/* Show search results when there's a search and results */}
-        {debouncedSearch && (
-          <SearchResults
-            debouncedSearch={debouncedSearch}
-            marketplaceId={marketplaceId}
-            currentPageToken={currentPageToken}
-            setNextPageToken={setNextPageToken}
-            setPreviousPageToken={setPreviousPageToken}
-            router={router}
-            isLoading={isPaginationLoading}
-            onPagination={{
-              onNext: () => {
-                setIsPaginationLoading(true)
-                setCurrentPageToken(nextPageToken)
-              },
-              onPrevious: () => {
-                setIsPaginationLoading(true)
-                setCurrentPageToken(previousPageToken)
-              },
-              hasNext: !!nextPageToken,
-              hasPrevious: !!previousPageToken,
-            }}
-          />
-        )}
-      </section>
-    </>
-  )
-});
-ProductDetails.displayName = "ProductDetails";
 export default ProductDetails;
\ No newline at end of file
diff --git a/app/(dashboard)/dashboard/_components/loader.tsx b/app/(dashboard)/dashboard/_components/loader.tsx
index eaddac4..6edb00a 100644
--- a/app/(dashboard)/dashboard/_components/loader.tsx
+++ b/app/(dashboard)/dashboard/_components/loader.tsx
@@ -72,7 +72,7 @@ const FinalLoader: React.FC<FinalLoaderProps> = ({ currentStep }) => {
   }, [currentStep]);
 
   return (
-    <div className="flex flex-col space-y-5 max-w-[80%]  w-full min-w-3xl mx-auto p-6">
+    <div className="flex flex-col space-y-5 max-w-[80%]  w-full min-w-3xl mx-auto p-6 bg-white rounded-3xl">
       {steps.map((step, index) => (
         <div key={index} className="flex justify-between items-center">
           {/* Timeline and percentage indicator */}
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/buy-box-analysis.tsx b/app/(dashboard)/dashboard/_components/prodComponents/buy-box-analysis.tsx
index d24dd7a..958f0a2 100644
--- a/app/(dashboard)/dashboard/_components/prodComponents/buy-box-analysis.tsx
+++ b/app/(dashboard)/dashboard/_components/prodComponents/buy-box-analysis.tsx
@@ -22,7 +22,7 @@ interface PieChartData {
   color: string
 }
 
-const BuyBoxAnalysis = ({
+const OldBuyBoxAnalysis = ({
   asin,
   marketplaceId,
   statStartDate,
@@ -123,4 +123,4 @@ const BuyBoxAnalysis = ({
   )
 }
 
-export default BuyBoxAnalysis
+export default OldBuyBoxAnalysis
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/new/alerts.tsx b/app/(dashboard)/dashboard/_components/prodComponents/new/alerts.tsx
new file mode 100644
index 0000000..ea51008
--- /dev/null
+++ b/app/(dashboard)/dashboard/_components/prodComponents/new/alerts.tsx
@@ -0,0 +1,65 @@
+import Link from "next/link";
+
+const Alerts = () => {
+  return (
+    <div className="rounded-xl bg-white">
+      <div className="border-b border-[#E7EBEE] p-4 lg:p-5 flex items-center gap-6 justify-between">
+        <span className="bg-[#F3F4F6] px-3 py-1.5 rounded-3xl text-[#676A75] font-semibold text-sm w-max">
+          Alerts
+        </span>
+
+        <div className="flex items-center gap-1.5 text-white font-bold text-sm">
+          <span className="bg-primary rounded-full size-8 flex items-center justify-center">
+            6
+          </span>
+          <span className="bg-[#FFC56E] opacity-15 rounded-full size-8 flex items-center justify-center" />
+          <span className="bg-[#DF4740] opacity-15 rounded-full size-8 flex items-center justify-center" />
+        </div>
+      </div>
+
+      <div className="p-4 lg:p-5">
+        <div className="bg-[#FAF5EC] rounded-xl p-4 text-sm font-medium flex items-center gap-3 justify-between">
+          <p className="text-[#CA7D09] max-w-[250px]">
+            Some alerts require you to be logged in to Seller Central
+          </p>
+          <Link
+            href=""
+            className="bg-white hover:bg-gray-50 transition-colors duration-200 text-black py-1.5 px-4 rounded-[10px]"
+          >
+            Login
+          </Link>
+        </div>
+
+        <div className="mt-5 text-[#8C94A3] text-sm font-medium flex flex-col gap-4">
+          <span className="flex gap-4 items-center justify-between">
+            <p>Amazon Share Buy Box</p>
+            <p className="text-[#008158]">Never on Listing</p>
+          </span>
+          <span className="flex gap-4 items-center justify-between">
+            <p>Private Label</p>
+            <p className="text-[#008158]">Unlikely</p>
+          </span>
+          <span className="flex gap-4 items-center justify-between">
+            <p>IP Analysis</p>
+            <p className="text-[#008158]">No known IP issues</p>
+          </span>
+          <span className="flex gap-4 items-center justify-between">
+            <p>Size</p>
+            <p className="text-[#008158]">Standard Size</p>
+          </span>
+          <span className="flex gap-4 items-center justify-between">
+            <p>Meltable</p>
+            <p className="text-[#008158]">No</p>
+          </span>
+          <span className="flex gap-4 items-center justify-between">
+            <p>Variations</p>
+            <p className="text-[#008158]">No</p>
+          </span>
+        </div>
+      </div>
+    </div>
+  );
+};
+
+export default Alerts;
+
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/new/buybox-analysis.tsx b/app/(dashboard)/dashboard/_components/prodComponents/new/buybox-analysis.tsx
new file mode 100644
index 0000000..d01a433
--- /dev/null
+++ b/app/(dashboard)/dashboard/_components/prodComponents/new/buybox-analysis.tsx
@@ -0,0 +1,271 @@
+"use client";
+/* eslint-disable @typescript-eslint/no-unused-vars */
+/* eslint-disable @typescript-eslint/no-explicit-any */
+import { useState, useEffect } from "react";
+import { BiChevronDown } from "react-icons/bi";
+import { PieChart, Pie, Cell, ResponsiveContainer, Sector } from "recharts";
+import { useGetBuyboxInfoQuery } from "@/redux/api/productsApi";
+import dayjs from "dayjs";
+
+interface BuyboxAnalysisProps {
+  asin: string;
+  marketplaceId: number;
+}
+
+interface BuyboxItem {
+  seller: string;
+  weight_percentage: number;
+  is_buybox_winner: boolean;
+  rating?: string;
+  review_count?: number;
+  seller_type?: string;
+}
+
+interface PieChartData {
+  name: string;
+  value: number;
+  color: string;
+}
+
+const BuyboxAnalysis = ({ asin, marketplaceId }: BuyboxAnalysisProps) => {
+  const [dateRange, setDateRange] = useState("30");
+  const [statStartDate, setStatStartDate] = useState(
+    dayjs().subtract(30, "days").format("YYYY-MM-DD")
+  );
+  const [statEndDate, setStatEndDate] = useState(
+    dayjs().format("YYYY-MM-DD")
+  );
+  const [activeIndex, setActiveIndex] = useState<number | null>(null);
+
+  const {
+    data: buyboxData,
+    isLoading: isLoadingBuybox,
+  } = useGetBuyboxInfoQuery({
+    marketplaceId,
+    itemAsin: asin,
+    statStartDate,
+    statEndDate,
+  });
+
+  const buybox = (buyboxData?.data?.buybox as BuyboxItem[]) ?? [];
+
+  // Color palette for sellers
+  const colorPalette = [
+    "#6610F2", // Purple
+    "#458BE1", // Blue
+    "#FDCA40", // Yellow
+    "#FFA15B", // Orange
+    "#FF715B", // Red-orange
+    "#F38D2E", // Deep orange
+  ];
+
+  const pieData: PieChartData[] =
+    buybox?.map((seller, index) => ({
+      name: seller.seller,
+      value: seller.weight_percentage,
+      color: colorPalette[index % colorPalette.length],
+    })) || [];
+
+  const buyboxWinner = buybox.find((seller) => seller.is_buybox_winner);
+  const totalSellers = buybox.length;
+
+  // Handle date range change
+  const handleDateRangeChange = (e: React.ChangeEvent<HTMLSelectElement>) => {
+    const value = e.target.value;
+    setDateRange(value);
+
+    const endDate = dayjs();
+    let startDate;
+
+    switch (value) {
+      case "30":
+        startDate = endDate.subtract(30, "days");
+        break;
+      case "90":
+        startDate = endDate.subtract(90, "days");
+        break;
+      case "180":
+        startDate = endDate.subtract(180, "days");
+        break;
+      case "all":
+        startDate = endDate.subtract(1, "year");
+        break;
+      default:
+        startDate = endDate.subtract(30, "days");
+    }
+
+    setStatStartDate(startDate.format("YYYY-MM-DD"));
+    setStatEndDate(endDate.format("YYYY-MM-DD"));
+  };
+
+  // Handle pie chart click
+  const onPieClick = (_: any, index: number) => {
+    setActiveIndex(activeIndex === index ? null : index);
+  };
+
+  // Render active shape with percentage
+  const renderActiveShape = (props: any) => {
+    const { cx, cy, innerRadius, outerRadius, startAngle, endAngle, fill, payload } = props;
+    
+    return (
+      <g>
+        <Sector
+          cx={cx}
+          cy={cy}
+          innerRadius={innerRadius}
+          outerRadius={outerRadius + 10}
+          startAngle={startAngle}
+          endAngle={endAngle}
+          fill={fill}
+        />
+        <Sector
+          cx={cx}
+          cy={cy}
+          innerRadius={innerRadius - 5}
+          outerRadius={innerRadius}
+          startAngle={startAngle}
+          endAngle={endAngle}
+          fill={fill}
+        />
+        <text
+          x={cx}
+          y={cy + 10}
+          textAnchor="middle"
+          fill="#414D55"
+          className="font-bold text-2xl"
+        >
+          {payload.value}%
+        </text>
+        {/** 
+        <text
+          x={cx}
+          y={cy + 15}
+          textAnchor="middle"
+          fill="#696D6E"
+          className="text-xs font-medium"
+        >
+          {payload.name}
+        </text>
+        */}
+      </g>
+    );
+  };
+
+  return (
+    <div className="rounded-xl  ">
+      <div className="flex gap-4 items-center justify-between">
+        <span className="bg-[#F3F4F6] px-3 py-1.5 rounded-3xl text-[#676A75] font-semibold text-sm w-max">
+          Buy Box Analysis
+        </span>
+
+        <div className="relative">
+          <select
+            aria-label="Filter"
+            className="bg-primary flex items-center gap-2.5 rounded-2xl py-2 pl-3 pr-8 text-white font-semibold w-max text-xs appearance-none outline-none"
+            value={dateRange}
+            onChange={handleDateRangeChange}
+          >
+            <option value="30" className="bg-white text-black rounded-t-md">
+              30 days
+            </option>
+            <option value="90" className="bg-white text-black rounded-t-md">
+              90 days
+            </option>
+            <option value="180" className="bg-white text-black rounded-t-md">
+              180 days
+            </option>
+            <option value="all" className="bg-white text-black rounded-t-md">
+              All time
+            </option>
+          </select>
+          <BiChevronDown className="absolute right-2 top-1/2 -translate-y-1/2 text-white pointer-events-none" />
+        </div>
+      </div>
+
+      {isLoadingBuybox ? (
+        <div className="flex items-center justify-center h-64 mt-6">
+          <div className="text-sm text-gray-500 font-medium">Loading...</div>
+        </div>
+      ) : buybox.length > 0 ? (
+        <>
+          {/* Chart */}
+          <div
+            className="relative flex items-center justify-center mt-6"
+            style={{ height: 250 }}
+          >
+            <ResponsiveContainer width="100%" height="100%">
+              <PieChart>
+                <Pie
+                  data={pieData}
+                  cx="50%"
+                  cy="50%"
+                  innerRadius={55}
+                  outerRadius={100}
+                  startAngle={90}
+                  endAngle={-270}
+                  paddingAngle={2}
+                  dataKey="value"
+                  stroke="none"
+                  onClick={onPieClick}
+                  activeIndex={activeIndex !== null ? activeIndex : undefined}
+                  activeShape={renderActiveShape}
+                  style={{ cursor: "pointer" }}
+                >
+                  {pieData.map((entry, index) => (
+                    <Cell key={`cell-${index}`} fill={entry.color} />
+                  ))}
+                </Pie>
+              </PieChart>
+            </ResponsiveContainer>
+
+            {/* Center Label when nothing is selected */}
+            {activeIndex === null && (
+              <div className="absolute text-center pointer-events-none">
+                <div className="text-xs text-[#696D6E] font-medium">
+                  Click to view
+                </div>
+              </div>
+            )}
+          </div>
+
+          {/* Legend */}
+          <div className="mt-6 space-y-2 max-h-32 overflow-y-auto show-scrollbar">
+            {pieData.map((entry, index) => (
+              <div
+                key={index}
+                className={`flex items-center gap-2 text-sm p-1 rounded transition-colors cursor-pointer ${
+                  activeIndex === index ? "bg-gray-100" : "hover:bg-gray-50"
+                }`}
+                onClick={() => setActiveIndex(activeIndex === index ? null : index)}
+              >
+                <span
+                  className="w-3 h-3 rounded-sm flex-shrink-0"
+                  style={{ backgroundColor: entry.color }}
+                />
+                <span className="flex-1 truncate font-medium text-gray-700 space-x-3">
+                  {entry.name}
+                </span>
+                {buybox[index]?.is_buybox_winner && (
+                  <span className="text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full font-medium">
+                    Winner
+                  </span>
+                )}
+                <span className="font-semibold text-gray-900">
+                  {entry.value}%
+                </span>
+              </div>
+            ))}
+          </div>
+        </>
+      ) : (
+        <div className="flex items-center justify-center h-64 mt-6">
+          <div className="text-sm text-gray-500">
+            No buybox data available for this period.
+          </div>
+        </div>
+      )}
+    </div>
+  );
+};
+
+export default BuyboxAnalysis;
\ No newline at end of file
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/new/calculation-results.tsx b/app/(dashboard)/dashboard/_components/prodComponents/new/calculation-results.tsx
new file mode 100644
index 0000000..41d3e6f
--- /dev/null
+++ b/app/(dashboard)/dashboard/_components/prodComponents/new/calculation-results.tsx
@@ -0,0 +1,152 @@
+import { ReactNode, useState, useEffect } from "react";
+/* eslint-disable @typescript-eslint/no-unused-vars */
+interface ProfitabilityData {
+  profitAmount: number;
+  costPrice: string;
+  salePrice: number;
+  totalFees: number;
+  vatOnFees: number;
+  estimatedAmzPayout: number;
+  fulfillmentType: string;
+  roi: number;
+  profitMargin: number;
+}
+
+interface CalculationResultsProps {
+  children?: ReactNode;
+  rightColumn?: ReactNode;
+  profitabilityData?: ProfitabilityData | null;
+  currencyCode?: string;
+  isCalculating?: boolean;
+}
+
+const CalculationResults = ({ 
+  children, 
+  rightColumn,
+  profitabilityData,
+  currencyCode = "USD",
+  isCalculating = false 
+}: CalculationResultsProps) => {
+  const [displayData, setDisplayData] = useState<ProfitabilityData | null>(null);
+  const [fulfillmentType, setFulfillmentType] = useState("FBA");
+
+  useEffect(() => {
+    if (profitabilityData) {
+      setDisplayData(profitabilityData);
+      setFulfillmentType(profitabilityData.fulfillmentType || "FBA");
+    }
+  }, [profitabilityData]);
+
+  const formatCurrency = (value: number | string) => {
+    const numValue = typeof value === 'string' ? parseFloat(value) : value;
+    const symbol = currencyCode === 'CAD' ? 'C$' : currencyCode === 'USD' ? '$' : currencyCode;
+    return `${symbol} ${numValue.toFixed(2)}`;
+  };
+
+  const getStatusColor = (profit: number) => {
+    if (profit > 5) return "#10B981";
+    if (profit > 0) return "#F59E0B";
+    return "#EF4444";
+  };
+
+  const defaultData = {
+    profitAmount: 0,
+    costPrice: "0",
+    salePrice: 0,
+    totalFees: 0,
+    vatOnFees: 0,
+    estimatedAmzPayout: 0,
+    fulfillmentType: "FBA",
+    roi: 0,
+    profitMargin: 0
+  };
+
+  const data = displayData || defaultData;
+  const profitColor = getStatusColor(data.profitAmount);
+
+  return (
+    <div className="rounded-xl h-full bg-white lg:col-span-2 grid grid-cols-1 md:grid-cols-2 min-h-[610px] font-semibold text-sm">
+      {/* left column */}
+      <div className="min-h-[610px]">
+        {children || (
+          <div className="p-4">
+            <span className="bg-[#F3F4F6] px-3 py-1.5 rounded-3xl text-[#676A75] font-semibold text-sm w-max">
+              Profitability Calculator
+            </span>
+          </div>
+        )}
+      </div>
+
+      {/* right column */}
+      <div className="p-2 lg:p-3 flex flex-col gap-3 min-h-[610px] h-full">
+        {/* Calculation Summary */}
+        <div className="text-[#828995] bg-[#FAFBFB] w-full p-3 rounded-xl flex flex-col">
+            {/* Right Column Content (BuyBox Analysis) */}
+        {rightColumn && (
+          <div className="flex-1">
+            {rightColumn}
+          </div>
+        )}
+
+          {/* Profit Section */}
+          <div className="mb-6 flex items-center gap-5 justify-between mt-5 pt-5 border-t">
+            <span className="flex items-center gap-2">
+              <p className="text-[#8E949F] text-lg">Profit</p>
+              <span 
+                className="size-4 rounded-full" 
+                style={{ backgroundColor: profitColor }}
+              />
+            </span>
+            {isCalculating ? (
+              <div className="h-8 w-20 bg-gray-200 animate-pulse rounded"></div>
+            ) : (
+              <h5 className="text-[#3C485C] font-bold text-2xl lg:text-3xl xl:text-[32px]">
+                {formatCurrency(data.profitAmount)}
+              </h5>
+            )}
+          </div>
+
+          {/* Breakdown Section */}
+          <div className="py-4 flex flex-col gap-3">
+            {isCalculating ? (
+              Array.from({ length: 5 }).map((_, i) => (
+                <div key={i} className="flex gap-5 justify-between items-center">
+                  <div className="h-4 bg-gray-200 animate-pulse rounded w-20"></div>
+                  <div className="h-4 bg-gray-200 animate-pulse rounded w-16"></div>
+                </div>
+              ))
+            ) : (
+              <>
+                <span className="flex gap-5 justify-between items-center">
+                  <p>Sales Price</p>
+                  <p>{formatCurrency(data.salePrice)}</p>
+                </span>
+                <span className="flex gap-5 justify-between items-center">
+                  <p>Cost Price</p>
+                  <p>{formatCurrency(data.costPrice)}</p>
+                </span>
+                <span className="flex gap-5 justify-between items-center">
+                  <p>Total Fees</p>
+                  <p>{formatCurrency(data.totalFees)}</p>
+                </span>
+                <span className="flex gap-5 justify-between items-center">
+                  <p>Sales Tax</p>
+                  <p>{formatCurrency(data.vatOnFees)}</p>
+                </span>
+                <span className="flex gap-5 justify-between items-center">
+                  <p>Est. Amazon Payout</p>
+                  <p>{formatCurrency(data.estimatedAmzPayout)}</p>
+                </span>
+              </>
+            )}
+          </div>
+         
+        </div>
+
+       
+      </div>
+    </div>
+  );
+};
+
+export default CalculationResults;
\ No newline at end of file
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/new/datePicker.tsx b/app/(dashboard)/dashboard/_components/prodComponents/new/datePicker.tsx
new file mode 100644
index 0000000..8fe49bf
--- /dev/null
+++ b/app/(dashboard)/dashboard/_components/prodComponents/new/datePicker.tsx
@@ -0,0 +1,73 @@
+"use client";
+
+import { useRef, useState } from "react";
+import { DatePicker } from "antd";
+import { FiChevronLeft, FiChevronRight } from "react-icons/fi";
+import dayjs, { Dayjs } from "dayjs";
+import { MdOutlineCalendarMonth } from "react-icons/md";
+
+const ProductDatePicker = () => {
+  const [selectedDate, setSelectedDate] = useState<Dayjs>(dayjs());
+  const [open, setOpen] = useState(false);
+  const pickerRef = useRef(null);
+
+  const handlePrev = () => setSelectedDate((prev) => prev.subtract(1, "day"));
+  const handleNext = () => setSelectedDate((prev) => prev.add(1, "day"));
+  const handleTriggerClick = () => setOpen(true);
+
+  return (
+    <div className=" inline-flex flex-col items-start ">
+      {/* Custom pill UI */}
+      <div className="flex w-full items-center divide-x-2 border border-border rounded-full bg-white text-[#8C94A2]">
+        <button
+          type="button"
+          aria-label="Previous"
+          onClick={handlePrev}
+          className="hover:text-gray-700 p-1"
+        >
+          <FiChevronLeft size={20} />
+        </button>
+
+        <button
+          type="button"
+          onClick={handleTriggerClick}
+          className="flex w-[100px]  items-center space-x-2 hover:text-gray-800 focus:outline-none p-1"
+        >
+          <MdOutlineCalendarMonth size={20} />
+          <span className="text-xs font-medium">
+            {selectedDate.format("MMM, DD")}
+          </span>
+        </button>
+
+        <button
+          type="button"
+          aria-label="Next"
+          onClick={handleNext}
+          className="hover:text-gray-700 p-1"
+        >
+          <FiChevronRight size={20} />
+        </button>
+      </div>
+
+      {/* Keep DatePicker, just for the calendar, but make it invisible */}
+      <div className="absolute top-2 left-0 w-0 h-0 overflow-hidden">
+        <DatePicker
+          ref={pickerRef}
+          open={open}
+          value={selectedDate}
+          onChange={(date) => {
+            if (date) setSelectedDate(date);
+            setOpen(false);
+          }}
+          onOpenChange={(nextOpen) => setOpen(nextOpen)}
+          allowClear={false}
+          format="YYYY-MM-DD"
+          popupClassName="z-[9999]"
+        />
+      </div>
+    </div>
+  );
+};
+
+export default ProductDatePicker;
+
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/new/icons.tsx b/app/(dashboard)/dashboard/_components/prodComponents/new/icons.tsx
new file mode 100644
index 0000000..8ad6994
--- /dev/null
+++ b/app/(dashboard)/dashboard/_components/prodComponents/new/icons.tsx
@@ -0,0 +1,215 @@
+export const SubtitleIcon = () => {
+  return (
+    <svg
+      width="19"
+      height="19"
+      viewBox="0 0 19 19"
+      fill="none"
+      xmlns="http://www.w3.org/2000/svg"
+    >
+      <path
+        d="M11.8015 17.5079H7.22449C3.08228 17.5079 1.3125 15.7382 1.3125 11.596V7.01893C1.3125 2.87672 3.08228 1.10693 7.22449 1.10693H11.8015C15.9437 1.10693 17.7135 2.87672 17.7135 7.01893V11.596C17.7135 15.7382 15.9437 17.5079 11.8015 17.5079ZM7.22449 2.25119C3.70781 2.25119 2.45676 3.50224 2.45676 7.01893V11.596C2.45676 15.1126 3.70781 16.3637 7.22449 16.3637H11.8015C15.3182 16.3637 16.5693 15.1126 16.5693 11.596V7.01893C16.5693 3.50224 15.3182 2.25119 11.8015 2.25119H7.22449Z"
+        fill="white"
+      />
+      <path
+        d="M13.7099 13.7546H12.2987C11.9859 13.7546 11.7266 13.4952 11.7266 13.1825C11.7266 12.8697 11.9859 12.6104 12.2987 12.6104H13.7099C14.0227 12.6104 14.2821 12.8697 14.2821 13.1825C14.2821 13.4952 14.0227 13.7546 13.7099 13.7546Z"
+        fill="white"
+      />
+      <path
+        d="M10.2538 13.7546H5.31822C5.00546 13.7546 4.74609 13.4952 4.74609 13.1825C4.74609 12.8697 5.00546 12.6104 5.31822 12.6104H10.2538C10.5665 12.6104 10.8259 12.8697 10.8259 13.1825C10.8259 13.4952 10.5742 13.7546 10.2538 13.7546Z"
+        fill="white"
+      />
+      <path
+        d="M13.7086 10.886H9.4901C9.17733 10.886 8.91797 10.6266 8.91797 10.3138C8.91797 10.0011 9.17733 9.7417 9.4901 9.7417H13.7086C14.0214 9.7417 14.2807 10.0011 14.2807 10.3138C14.2807 10.6266 14.0214 10.886 13.7086 10.886Z"
+        fill="white"
+      />
+      <path
+        d="M7.43128 10.886H5.31822C5.00546 10.886 4.74609 10.6266 4.74609 10.3138C4.74609 10.0011 5.00546 9.7417 5.31822 9.7417H7.43128C7.74405 9.7417 8.00341 10.0011 8.00341 10.3138C8.00341 10.6266 7.74405 10.886 7.43128 10.886Z"
+        fill="white"
+      />
+    </svg>
+  );
+};
+
+export const JustifyIcon = () => {
+  return (
+    <svg
+      width="15"
+      height="16"
+      viewBox="0 0 15 16"
+      fill="none"
+      xmlns="http://www.w3.org/2000/svg"
+    >
+      <path
+        d="M13.1229 4.41558H2.15054C1.90061 4.41558 1.69336 4.13633 1.69336 3.79958C1.69336 3.46284 1.90061 3.18359 2.15054 3.18359H13.1229C13.3728 3.18359 13.5801 3.46284 13.5801 3.79958C13.5801 4.13633 13.3728 4.41558 13.1229 4.41558Z"
+        fill="#030303"
+      />
+      <path
+        d="M13.1229 8.52251H2.15054C1.90061 8.52251 1.69336 8.24326 1.69336 7.90652C1.69336 7.56978 1.90061 7.29053 2.15054 7.29053H13.1229C13.3728 7.29053 13.5801 7.56978 13.5801 7.90652C13.5801 8.24326 13.3728 8.52251 13.1229 8.52251Z"
+        fill="#030303"
+      />
+      <path
+        d="M13.1229 12.629H2.15054C1.90061 12.629 1.69336 12.3497 1.69336 12.013C1.69336 11.6762 1.90061 11.397 2.15054 11.397H13.1229C13.3728 11.397 13.5801 11.6762 13.5801 12.013C13.5801 12.3497 13.3728 12.629 13.1229 12.629Z"
+        fill="#030303"
+      />
+    </svg>
+  );
+};
+
+export const GoogleIcon = () => {
+  return (
+    <svg
+      width="15"
+      height="14"
+      viewBox="0 0 15 14"
+      fill="none"
+      xmlns="http://www.w3.org/2000/svg"
+    >
+      <path
+        fill-rule="evenodd"
+        clip-rule="evenodd"
+        d="M14.3162 7.21583C14.3168 6.7421 14.2755 6.26913 14.1927 5.80225H7.42578V8.47983H11.3015C11.1413 9.34396 10.6236 10.1072 9.8684 10.5925V12.3306H12.1815C13.5359 11.1207 14.3162 9.33147 14.3162 7.21583Z"
+        fill="#4285F4"
+      />
+      <path
+        fill-rule="evenodd"
+        clip-rule="evenodd"
+        d="M7.42473 14.0089C9.36114 14.0089 10.9915 13.3928 12.1805 12.3307L9.86735 10.5927C9.22362 11.0156 8.39446 11.257 7.42473 11.257C5.55318 11.257 3.96459 10.0346 3.39658 8.38721H1.01367V10.1784C2.23165 12.5267 4.71228 14.0087 7.42473 14.0089Z"
+        fill="#34A853"
+      />
+      <path
+        fill-rule="evenodd"
+        clip-rule="evenodd"
+        d="M3.39501 8.3879C3.09465 7.52474 3.09465 6.58988 3.39501 5.72672V3.93555H1.0121C-0.00663772 5.89966 -0.00663772 8.21496 1.0121 10.1791L3.39501 8.3879Z"
+        fill="#FBBC04"
+      />
+      <path
+        fill-rule="evenodd"
+        clip-rule="evenodd"
+        d="M7.42474 2.85645C8.44801 2.84015 9.43675 3.21481 10.1774 3.89928L12.2253 1.91497C10.9267 0.733198 9.20624 0.0843609 7.42474 0.104457C4.71228 0.104566 2.23165 1.58669 1.01367 3.93491L3.39658 5.72608C3.96459 4.07884 5.55318 2.85645 7.42474 2.85645Z"
+        fill="#EA4335"
+      />
+    </svg>
+  );
+};
+
+export const DesktopIcon = () => {
+  return (
+    <svg
+      width="24"
+      height="24"
+      viewBox="0 0 24 24"
+      fill="none"
+      xmlns="http://www.w3.org/2000/svg"
+    >
+      <path
+        d="M3.18164 12.8818V7.52401C3.18164 5.55132 4.78082 3.95215 6.7535 3.95215H17.469C19.4418 3.95215 21.0409 5.55132 21.0409 7.524V12.8818C21.0409 14.8545 19.4417 16.4537 17.469 16.4537H6.7535C4.78081 16.4537 3.18164 14.8545 3.18164 12.8818Z"
+        stroke="#1C1C1C"
+        stroke-width="1.62103"
+      />
+      <path
+        d="M6.29883 20.0254H17.9252"
+        stroke="#1C1C1C"
+        stroke-width="1.62103"
+        stroke-linecap="round"
+      />
+    </svg>
+  );
+};
+
+export const RobotIcon = () => {
+  return (
+    <svg
+      width="19"
+      height="19"
+      viewBox="0 0 19 19"
+      fill="none"
+      xmlns="http://www.w3.org/2000/svg"
+    >
+      <path
+        d="M7.09096 11.5963C6.88865 11.5963 6.69461 11.5159 6.55156 11.3728C6.4085 11.2298 6.32812 11.0358 6.32812 10.8334V9.30776C6.32812 9.10544 6.4085 8.91141 6.55156 8.76835C6.69461 8.62529 6.88865 8.54492 7.09096 8.54492C7.29328 8.54492 7.48731 8.62529 7.63037 8.76835C7.77343 8.91141 7.8538 9.10544 7.8538 9.30776V10.8334C7.8538 11.0358 7.77343 11.2298 7.63037 11.3728C7.48731 11.5159 7.29328 11.5963 7.09096 11.5963Z"
+        fill="#333333"
+      />
+      <path
+        d="M11.6671 11.5963C11.4648 11.5963 11.2708 11.5159 11.1277 11.3728C10.9847 11.2298 10.9043 11.0358 10.9043 10.8334V9.30776C10.9043 9.10544 10.9847 8.91141 11.1277 8.76835C11.2708 8.62529 11.4648 8.54492 11.6671 8.54492C11.8695 8.54492 12.0635 8.62529 12.2065 8.76835C12.3496 8.91141 12.43 9.10544 12.43 9.30776V10.8334C12.43 11.0358 12.3496 11.2298 12.2065 11.3728C12.0635 11.5159 11.8695 11.5963 11.6671 11.5963Z"
+        fill="#333333"
+      />
+      <path
+        d="M4.80252 6.25579C4.70212 6.25637 4.6026 6.23712 4.50966 6.19916C4.41672 6.1612 4.33218 6.10526 4.2609 6.03456L1.97239 3.74605C1.82875 3.60241 1.74805 3.40758 1.74805 3.20444C1.74805 3.10385 1.76786 3.00425 1.80635 2.91132C1.84485 2.81839 1.90127 2.73395 1.97239 2.66282C2.04352 2.59169 2.12796 2.53527 2.22089 2.49678C2.31382 2.45829 2.41342 2.43848 2.51401 2.43848C2.71715 2.43848 2.91198 2.51918 3.05562 2.66282L5.34413 4.95133C5.41563 5.02225 5.47238 5.10662 5.51111 5.19958C5.54984 5.29254 5.56978 5.39225 5.56978 5.49295C5.56978 5.59365 5.54984 5.69336 5.51111 5.78632C5.47238 5.87928 5.41563 5.96365 5.34413 6.03456C5.27285 6.10526 5.18832 6.1612 5.09538 6.19916C5.00244 6.23712 4.90291 6.25637 4.80252 6.25579Z"
+        fill="#333333"
+      />
+      <path
+        d="M13.9548 6.25579C13.8544 6.25637 13.7548 6.23712 13.6619 6.19916C13.569 6.1612 13.4844 6.10526 13.4131 6.03456C13.3416 5.96365 13.2849 5.87928 13.2462 5.78632C13.2074 5.69336 13.1875 5.59365 13.1875 5.49295C13.1875 5.39225 13.2074 5.29254 13.2462 5.19958C13.2849 5.10662 13.3416 5.02225 13.4131 4.95133L15.7017 2.66282C15.8453 2.51918 16.0401 2.43848 16.2433 2.43848C16.4464 2.43848 16.6412 2.51918 16.7849 2.66282C16.9285 2.80647 17.0092 3.00129 17.0092 3.20444C17.0092 3.40758 16.9285 3.60241 16.7849 3.74605L14.4964 6.03456C14.4251 6.10526 14.3406 6.1612 14.2476 6.19916C14.1547 6.23712 14.0552 6.25637 13.9548 6.25579Z"
+        fill="#333333"
+      />
+      <path
+        d="M16.2439 15.4099H2.51284C2.31052 15.4099 2.11649 15.3296 1.97343 15.1865C1.83037 15.0434 1.75 14.8494 1.75 14.6471V11.2143C1.75 9.19114 2.5537 7.25084 3.9843 5.82024C5.4149 4.38964 7.35521 3.58594 9.37838 3.58594C11.4015 3.58594 13.3419 4.38964 14.7725 5.82024C16.2031 7.25084 17.0068 9.19114 17.0068 11.2143V14.6471C17.0068 14.8494 16.9264 15.0434 16.7833 15.1865C16.6403 15.3296 16.4462 15.4099 16.2439 15.4099ZM3.27568 13.8842H15.4811V11.2143C15.4811 9.59578 14.8381 8.04353 13.6936 6.89905C12.5492 5.75457 10.9969 5.11161 9.37838 5.11161C7.75984 5.11161 6.20759 5.75457 5.06312 6.89905C3.91864 8.04353 3.27568 9.59578 3.27568 11.2143V13.8842Z"
+        fill="#333333"
+      />
+    </svg>
+  );
+};
+
+export const CopyIcon = () => {
+  return (
+    <svg
+      width="11"
+      height="11"
+      viewBox="0 0 11 11"
+      fill="none"
+      xmlns="http://www.w3.org/2000/svg"
+    >
+      <path
+        d="M5.51353 10.1973H3.88296C1.99923 10.1973 1.1582 9.35625 1.1582 7.47251V5.84195C1.1582 3.95822 1.99923 3.11719 3.88296 3.11719H5.17025C5.34618 3.11719 5.49208 3.26308 5.49208 3.43901C5.49208 3.61494 5.34618 3.76083 5.17025 3.76083H3.88296C2.3468 3.76083 1.80185 4.30578 1.80185 5.84195V7.47251C1.80185 9.00868 2.3468 9.55363 3.88296 9.55363H5.51353C7.0497 9.55363 7.59465 9.00868 7.59465 7.47251V6.18523C7.59465 6.0093 7.74054 5.8634 7.91647 5.8634C8.0924 5.8634 8.23829 6.0093 8.23829 6.18523V7.47251C8.23829 9.35625 7.39726 10.1973 5.51353 10.1973Z"
+        fill="#18CB96"
+      />
+      <path
+        d="M7.91569 6.50739H6.54259C5.33683 6.50739 4.84766 6.01822 4.84766 4.81246V3.43935C4.84766 3.31062 4.92489 3.19048 5.04504 3.14328C5.16519 3.09178 5.3025 3.12182 5.3969 3.21193L8.14312 5.95815C8.23323 6.04826 8.26326 6.18986 8.21177 6.31001C8.16457 6.43015 8.04442 6.50739 7.91569 6.50739ZM5.4913 4.21602V4.81246C5.4913 5.66636 5.68868 5.86375 6.54259 5.86375H7.13903L5.4913 4.21602Z"
+        fill="#18CB96"
+      />
+      <path
+        d="M7.31555 1.61581H5.59917C5.42324 1.61581 5.27734 1.46992 5.27734 1.29399C5.27734 1.11806 5.42324 0.972168 5.59917 0.972168H7.31555C7.49148 0.972168 7.63737 1.11806 7.63737 1.29399C7.63737 1.46992 7.49148 1.61581 7.31555 1.61581Z"
+        fill="#18CB96"
+      />
+      <path
+        d="M3.62456 2.9031C3.44863 2.9031 3.30273 2.75721 3.30273 2.58128C3.30273 1.69305 4.02362 0.972168 4.91185 0.972168H6.03608C6.21201 0.972168 6.3579 1.11806 6.3579 1.29399C6.3579 1.46992 6.21201 1.61581 6.03608 1.61581H4.91185C4.37977 1.61581 3.94638 2.0492 3.94638 2.58128C3.94638 2.75721 3.80049 2.9031 3.62456 2.9031Z"
+        fill="#18CB96"
+      />
+      <path
+        d="M8.85503 8.0519C8.6791 8.0519 8.5332 7.906 8.5332 7.73008C8.5332 7.55415 8.6791 7.40825 8.85503 7.40825C9.3442 7.40825 9.73896 7.00919 9.73896 6.52431V3.86821C9.73896 3.69228 9.88486 3.54639 10.0608 3.54639C10.2367 3.54639 10.3826 3.69228 10.3826 3.86821V6.52431C10.3826 7.36534 9.69605 8.0519 8.85503 8.0519Z"
+        fill="#18CB96"
+      />
+      <path
+        d="M10.0605 4.19024H8.77317C7.63178 4.19024 7.16406 3.72253 7.16406 2.58113V1.29385C7.16406 1.16512 7.2413 1.04497 7.36145 0.997769C7.48159 0.946277 7.6189 0.976314 7.71331 1.06642L10.2879 3.641C10.378 3.73111 10.408 3.87271 10.3565 3.99286C10.3093 4.11301 10.1892 4.19024 10.0605 4.19024ZM7.80771 2.07051V2.58113C7.80771 3.36638 7.98793 3.5466 8.77317 3.5466H9.2838L7.80771 2.07051Z"
+        fill="#18CB96"
+      />
+    </svg>
+  );
+};
+
+export const NotificationIcon = () => {
+  return (
+    <svg
+      width="15"
+      height="15"
+      viewBox="0 0 15 15"
+      fill="none"
+      xmlns="http://www.w3.org/2000/svg"
+    >
+      <path
+        opacity="0.4"
+        d="M11.3605 9.15831L10.7883 8.20858C10.6682 7.99689 10.5595 7.5964 10.5595 7.36183V5.91434C10.5595 4.0492 9.04334 2.52734 7.17248 2.52734C5.30162 2.52734 3.78548 4.0492 3.78548 5.91434V7.36183C3.78548 7.5964 3.67678 7.99689 3.55663 8.20286L2.97878 9.15831C2.74993 9.54164 2.69844 9.96501 2.84147 10.3541C2.97878 10.7374 3.3049 11.0349 3.72827 11.1779C4.8382 11.5555 6.00534 11.7386 7.17248 11.7386C8.33962 11.7386 9.50677 11.5555 10.6167 11.1836C11.0172 11.0521 11.3261 10.7488 11.4749 10.3541C11.6236 9.95929 11.5836 9.52447 11.3605 9.15831Z"
+        fill="#18CB96"
+      />
+      <path
+        d="M8.44831 2.76742C8.05355 2.61294 7.62445 2.52712 7.17247 2.52712C6.72621 2.52712 6.29711 2.60722 5.90234 2.76742C6.14836 2.30399 6.63467 2.01221 7.17247 2.01221C7.71599 2.01221 8.19658 2.30399 8.44831 2.76742Z"
+        fill="#292D32"
+      />
+      <path
+        d="M8.7794 12.3163C8.53911 12.9799 7.90404 13.4548 7.16028 13.4548C6.7083 13.4548 6.26204 13.2717 5.94736 12.9456C5.76428 12.774 5.62697 12.5451 5.54688 12.3105C5.62125 12.322 5.69563 12.3277 5.77573 12.3392C5.90732 12.3563 6.04463 12.3735 6.18194 12.3849C6.50805 12.4135 6.83988 12.4307 7.17172 12.4307C7.49783 12.4307 7.82395 12.4135 8.14434 12.3849C8.26448 12.3735 8.38463 12.3678 8.49906 12.3506C8.5906 12.3392 8.68214 12.3277 8.7794 12.3163Z"
+        fill="#292D32"
+      />
+    </svg>
+  );
+};
+
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/new/keepa.tsx b/app/(dashboard)/dashboard/_components/prodComponents/new/keepa.tsx
new file mode 100644
index 0000000..7007f75
--- /dev/null
+++ b/app/(dashboard)/dashboard/_components/prodComponents/new/keepa.tsx
@@ -0,0 +1,182 @@
+import Image from "next/image";
+import { BiChevronDown } from "react-icons/bi";
+import Marketplace1 from "@/public/assets/svg/marketplace-1.svg";
+import Marketplace2 from "@/public/assets/svg/marketplace-2.svg";
+import Marketplace3 from "@/public/assets/svg/marketplace-3.svg";
+import Marketplace4 from "@/public/assets/svg/marketplace-4.svg";
+import Marketplace5 from "@/public/assets/svg/marketplace-5.svg";
+import Marketplace6 from "@/public/assets/svg/marketplace-6.svg";
+import Marketplace7 from "@/public/assets/svg/marketplace-7.svg";
+import {
+  LineChart,
+  Line,
+  XAxis,
+  YAxis,
+  Tooltip,
+  ResponsiveContainer,
+  CartesianGrid,
+} from "recharts";
+
+const data = [
+  { date: "Jan 1", amazon: 500, salesRank: 100, newFba: 300 },
+  { date: "Jan 2", amazon: 2000, salesRank: 200, newFba: 100 },
+  { date: "Jan 3", amazon: 800, salesRank: 150, newFba: 200 },
+  { date: "Jan 4", amazon: 1500, salesRank: 100, newFba: 400 },
+  { date: "Jan 5", amazon: 1200, salesRank: 200, newFba: 100 },
+];
+
+const COLORS = {
+  amazon: "#FF715B",
+  salesRank: "#04E762",
+  newFba: "#968EEC",
+};
+
+const Keepa = () => {
+  return (
+    <div className="rounded-xl bg-white p-4 lg:p-5">
+      <div className="flex gap-4 items-center justify-between">
+        <span className="bg-[#F3F4F6] px-3 py-1.5 rounded-3xl text-[#676A75] font-semibold text-sm w-max">
+          Keepa
+        </span>
+
+        <div className="relative">
+          <select
+            aria-label="Filter"
+            className="bg-primary flex items-center gap-2.5 rounded-2xl py-2 pl-3 pr-8 text-white font-semibold w-max text-xs appearance-none outline-none"
+          >
+            <option value="30" className="bg-white text-black rounded-t-md">
+              30 days
+            </option>
+            <option value="90" className="bg-white text-black rounded-t-md">
+              90 days
+            </option>
+            <option value="180" className="bg-white text-black rounded-t-md">
+              180 days
+            </option>
+            <option value="all" className="bg-white text-black rounded-t-md">
+              All time
+            </option>
+          </select>
+          <BiChevronDown className="absolute right-2 top-1/2 -translate-y-1/2 text-white pointer-events-none" />
+        </div>
+      </div>
+
+      <div className="mt-5">
+        <span className="text-[#676A75] text-xs">
+          <p>Market Place</p>
+          <span className="flex items-center gap-2 mt-1">
+            <Image
+              src={Marketplace1}
+              alt="Marketplace"
+              className="w-[27px] h-5"
+              quality={90}
+              unoptimized
+            />
+            <Image
+              src={Marketplace2}
+              alt="Marketplace"
+              className="w-[27px] h-5"
+              quality={90}
+              unoptimized
+            />
+            <Image
+              src={Marketplace3}
+              alt="Marketplace"
+              className="w-[27px] h-5"
+              quality={90}
+              unoptimized
+            />
+            <Image
+              src={Marketplace4}
+              alt="Marketplace"
+              className="w-[27px] h-5"
+              quality={90}
+              unoptimized
+            />
+            <Image
+              src={Marketplace5}
+              alt="Marketplace"
+              className="w-[27px] h-5"
+              quality={90}
+              unoptimized
+            />
+            <Image
+              src={Marketplace6}
+              alt="Marketplace"
+              className="w-[27px] h-5"
+              quality={90}
+              unoptimized
+            />
+            <Image
+              src={Marketplace7}
+              alt="Marketplace"
+              className="w-[27px] h-5"
+              quality={90}
+              unoptimized
+            />
+          </span>
+        </span>
+
+        <div className="mt-6 flex flex-col gap-8">
+          {/* charts */}
+          <ResponsiveContainer width="100%" height={300}>
+            <LineChart
+              data={data}
+              margin={{ top: 0, right: 10, left: -52, bottom: 0 }}
+            >
+              <CartesianGrid strokeDasharray="3 3" vertical={false} />
+              <XAxis dataKey="date" />
+              <YAxis tick={false} />
+
+              <Tooltip
+                formatter={(value: number) => `$${value.toLocaleString()}`}
+                cursor={{ strokeDasharray: "3 3" }}
+              />
+              <Line
+                type="monotone"
+                dataKey="amazon"
+                stroke={COLORS.amazon}
+                strokeWidth={3}
+                dot={{ r: 4 }}
+                activeDot={{ r: 6 }}
+              />
+              <Line
+                type="monotone"
+                dataKey="salesRank"
+                stroke={COLORS.salesRank}
+                strokeWidth={3}
+                dot={false}
+              />
+              <Line
+                type="monotone"
+                dataKey="newFba"
+                stroke={COLORS.newFba}
+                strokeWidth={3}
+                dot={false}
+              />
+            </LineChart>
+          </ResponsiveContainer>
+
+          {/* Legend */}
+          <div className="text-[#121212] uppercase font-semibold text-[10px] flex items-center gap-5">
+            <span className="flex items-center gap-2">
+              <span className="w-2.5 h-4 bg-[#FF715B] rounded-md" />
+              amazon
+            </span>
+            <span className="flex items-center gap-2">
+              <span className="w-2.5 h-4 bg-[#04E762] rounded-md" />
+              sales rank
+            </span>
+            <span className="flex items-center gap-2">
+              <span className="w-2.5 h-4 bg-[#968EEC] rounded-md" />
+              new fba
+            </span>
+          </div>
+        </div>
+      </div>
+    </div>
+  );
+};
+
+export default Keepa;
+
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/new/market-analysis.tsx b/app/(dashboard)/dashboard/_components/prodComponents/new/market-analysis.tsx
new file mode 100644
index 0000000..009222e
--- /dev/null
+++ b/app/(dashboard)/dashboard/_components/prodComponents/new/market-analysis.tsx
@@ -0,0 +1,379 @@
+"use client";
+/* eslint-disable @typescript-eslint/no-explicit-any */
+/* eslint-disable @typescript-eslint/no-unused-vars */
+
+import { useState, useMemo } from "react";
+import { Skeleton, Tooltip as AntTooltip } from "antd";
+import dayjs from "dayjs";
+import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Area, AreaChart } from "recharts";
+import { useGetMarketAnalysisQuery } from "@/redux/api/productsApi";
+import MiniDatePicker from "@/app/(dashboard)/upc-scanner/_components/date-picker";
+import type { TooltipProps } from "recharts";
+import {
+  ValueType,
+  NameType,
+} from "recharts/types/component/DefaultTooltipContent";
+import CustomDatePicker from "../../CustomDatePicker";
+
+interface MarketAnalysisProps {
+  asin: string;
+  marketplaceId: number;
+  isLoading?: boolean;
+}
+
+interface MarketAnalysisData {
+  buybox: Array<{ date: string; price: number }>;
+  amazon: Array<{ date: string; price: number }>;
+}
+
+interface MergedDataPoint {
+  date: string;
+  buyBox: number | null;
+  amazon: number | null;
+  Amazon: number; // For compatibility with existing chart
+  BuyBox: number; // For compatibility with existing chart
+}
+
+const MarketAnalysis = ({ asin, marketplaceId, isLoading }: MarketAnalysisProps) => {
+  const [statStartDate, setStatStartDate] = useState(dayjs().format("YYYY-MM-DD"));
+  const [statEndDate, setStatEndDate] = useState(dayjs().add(1, "month").format("YYYY-MM-DD"));
+  const [selectedMetric, setSelectedMetric] = useState("price");
+
+  const {
+    data: marketAnalysisData,
+    error: marketAnalysisError,
+    isLoading: isLoadingMarketAnalysis,
+  } = useGetMarketAnalysisQuery({
+    marketplaceId,
+    itemAsin: asin,
+    statStartDate,
+    statEndDate,
+  });
+
+  const ShadowDot = (props: any) => {
+    const { cx, cy, fill, stroke, strokeWidth, r, payload, index } = props;
+    
+    // Only show dot if this index is in the random selected indices
+    if (!randomIndices.includes(index)) {
+      return null;
+    }
+    
+    return (
+      <g>
+        {/* Shadow circle */}
+        <circle
+          cx={cx}
+          cy={cy + 2}
+          r={r}
+          fill="rgba(0, 0, 0, 0.15)"
+          filter="blur(2px)"
+        />
+        {/* Main dot */}
+        <circle
+          cx={cx}
+          cy={cy}
+          r={r}
+          fill={fill}
+          stroke={stroke}
+          strokeWidth={strokeWidth}
+        />
+      </g>
+    );
+  };
+
+  // Custom active dot component with larger shadow
+  const ShadowActiveDot = (props: any) => {
+    const { cx, cy, fill, stroke, strokeWidth, r } = props;
+    
+    return (
+      <g>
+        {/* Shadow circle */}
+        <circle
+          cx={cx}
+          cy={cy + 3}
+          r={r + 1}
+          fill="rgba(0, 0, 0, 0.2)"
+          filter="blur(3px)"
+        />
+        {/* Main dot */}
+        <circle
+          cx={cx}
+          cy={cy}
+          r={r}
+          fill={fill}
+          stroke={stroke}
+          strokeWidth={strokeWidth}
+        />
+      </g>
+    );
+  };
+
+  const handleDateChange = (dates: any) => {
+    if (dates && dates.length === 2) {
+      const [startDate, endDate] = dates;
+      setStatStartDate(startDate.format("YYYY-MM-DD"));
+      setStatEndDate(endDate.format("YYYY-MM-DD"));
+    }
+  };
+
+  // Transform the API data to match the chart's expected format
+  const transformData = (data: MarketAnalysisData | undefined): MergedDataPoint[] => {
+    if (!data) return [];
+
+    const buyboxMap = new Map(data.buybox.map((item) => [dayjs(item.date).format("MMM D"), item.price]));
+    const amazonMap = new Map(data.amazon.map((item) => [dayjs(item.date).format("MMM D"), item.price]));
+
+    const allDates = new Set([...Array.from(buyboxMap.keys()), ...Array.from(amazonMap.keys())]);
+
+    const mergedData: MergedDataPoint[] = Array.from(allDates).map((date) => {
+      const buyBoxPrice = buyboxMap.get(date) ?? null;
+      const amazonPrice = amazonMap.get(date) ?? null;
+      
+      return {
+        date,
+        buyBox: buyBoxPrice,
+        amazon: amazonPrice,
+        // For compatibility with existing chart structure
+        Amazon: amazonPrice || 0,
+        BuyBox: buyBoxPrice || 0,
+      };
+    });
+
+    return mergedData.sort((a, b) => (dayjs(a.date, "MMM D").isBefore(dayjs(b.date, "MMM D")) ? -1 : 1));
+  };
+
+  const chartData = transformData(marketAnalysisData?.data);
+
+  // Generate random indices for showing dots (max 5 dots)
+  const randomIndices = useMemo(() => {
+    if (chartData.length === 0) return [];
+    
+    const maxDots = Math.min(5, chartData.length);
+    const indices: number[] = [];
+    
+    // Generate unique random indices
+    while (indices.length < maxDots) {
+      const randomIndex = Math.floor(Math.random() * chartData.length);
+      if (!indices.includes(randomIndex)) {
+        indices.push(randomIndex);
+      }
+    }
+    
+    return indices.sort((a, b) => a - b); // Sort for consistency
+  }, [chartData.length]);
+
+  // Custom tooltip formatter for the chart
+  const CustomTooltip = ({ active, payload, label }: TooltipProps<ValueType, NameType>) => {
+    if (active && payload && payload.length > 0) {
+      return (
+        <div className="bg-white p-3 border rounded-lg shadow-lg text-sm">
+          <p className="text-gray-700 font-medium mb-1">{`${label}`}</p>
+          {payload.map((entry, index) => (
+            <div key={index} className="flex items-center gap-2">
+              <div 
+                className="w-3 h-3 rounded-full" 
+                style={{ backgroundColor: entry.color }}
+              />
+              <p style={{ color: entry.color }} className="font-medium">
+                {`${entry.name}: ${Number(entry.value).toFixed(2)}`}
+              </p>
+            </div>
+          ))}
+        </div>
+      );
+    }
+    return null;
+  };
+
+  // Get price range for tooltips
+  const getMinMaxPrices = () => {
+    if (!chartData.length) return { min: 'N/A', max: 'N/A' };
+    
+    const allPrices = chartData.flatMap(item => {
+      const prices = [];
+      if (item.amazon !== null) prices.push(item.amazon);
+      if (item.buyBox !== null) prices.push(item.buyBox);
+      return prices;
+    });
+    
+    if (!allPrices.length) return { min: 'N/A', max: 'N/A' };
+    
+    return {
+      min: `$${Math.min(...allPrices).toFixed(2)}`,
+      max: `$${Math.max(...allPrices).toFixed(2)}`
+    };
+  };
+
+  const priceRange = getMinMaxPrices();
+
+  if (isLoading || isLoadingMarketAnalysis) {
+    return <MarketAnalysisSkeleton />;
+  }
+
+  return (
+    <div className="rounded-xl bg-white p-4 lg:p-5">
+      <div className="flex items-center gap-4 justify-between">
+        <AntTooltip title={`Price analysis from ${statStartDate} to ${statEndDate}. Price range: ${priceRange.min} - ${priceRange.max}`} placement="top">
+          <span className="bg-[#F3F4F6] px-3 py-1.5 rounded-3xl text-[#676A75] font-semibold text-sm w-max">
+            Market Analysis
+          </span>
+        </AntTooltip>
+
+        <CustomDatePicker isRange onChange={handleDateChange} />
+      </div>
+
+      <div className="mt-5 flex items-center gap-1 text-xs">
+        <button
+          type="button"
+          className={`border rounded-full px-3 py-2 font-semibold transition-colors ${
+            selectedMetric === "price"
+              ? "bg-[#18CB961F] border-transparent text-[#009F6D]"
+              : "border-border text-[#939AA6]"
+          }`}
+          onClick={() => setSelectedMetric("price")}
+        >
+          Price
+        </button>
+        <AntTooltip title="Volume data not available in current API" placement="top">
+          <button
+            type="button"
+            className="border border-border rounded-full px-3 py-2 text-[#939AA6] opacity-50 cursor-not-allowed"
+            disabled
+          >
+            Volume
+          </button>
+        </AntTooltip>
+        <AntTooltip title="Reviews data not available in current API" placement="top">
+          <button
+            type="button"
+            className="border border-border rounded-full px-3 py-2 text-[#939AA6] opacity-50 cursor-not-allowed"
+            disabled
+          >
+            Reviews
+          </button>
+        </AntTooltip>
+      </div>
+
+      {/* legend */}
+      <div className="mt-5 text-[#596375] text-sm font-semibold flex items-center gap-4">
+        <span className="flex gap-1 items-center">
+          <span className="size-3.5 bg-[#F20B7A] rounded-md" />
+          <AntTooltip title="Price history when sold directly by Amazon" placement="top">
+            <p className="cursor-help">Amazon</p>
+          </AntTooltip>
+        </span>
+        <span className="flex gap-1 items-center">
+          <span className="size-3.5 bg-[#18CB96] rounded-md" />
+          <AntTooltip title="Price history of the Buy Box (featured offer on Amazon)" placement="top">
+            <p className="cursor-help">Buy Box</p>
+          </AntTooltip>
+        </span>
+      </div>
+
+      <div className="mt-5">
+        {chartData.length > 0 ? (
+          isLoadingMarketAnalysis ? (
+            <div className="h-[300px] flex items-center justify-center font-medium">Loading...</div>
+          ) : marketAnalysisError ? (
+            <div className="h-[300px] flex items-center justify-center text-red-500 font-medium">
+              Error loading market analysis data
+            </div>
+          ) : (
+            <AntTooltip title={`Price trends from ${statStartDate} to ${statEndDate}. Hover over the chart to see exact prices.`} placement="top">
+              <ResponsiveContainer width="100%" height={300}>
+                <AreaChart
+                  data={chartData}
+                  margin={{ top: 10, right: 10, left: 0, bottom: 0 }}
+                >
+                  <defs>
+                    <linearGradient id="colorAmazon" x1="0" y1="0" x2="0" y2="1">
+                      <stop offset="5%" stopColor="#f81d75" stopOpacity={0.3}/>
+                      <stop offset="95%" stopColor="#f81d75" stopOpacity={0.05}/>
+                    </linearGradient>
+                    <linearGradient id="colorBuyBox" x1="0" y1="0" x2="0" y2="1">
+                      <stop offset="5%" stopColor="#00c48c" stopOpacity={0.3}/>
+                      <stop offset="95%" stopColor="#00c48c" stopOpacity={0.05}/>
+                    </linearGradient>
+                  </defs>
+                  <CartesianGrid 
+                    strokeDasharray=" 2 2" 
+                    vertical={true} 
+                    horizontal={false}
+                    stroke="#e0e0e0"
+                    strokeWidth={1}
+                  />
+                  <XAxis 
+                    dataKey="date"
+                    axisLine={false}
+                    tickLine={false}
+                    tick={{ fontSize: 12, fill: '#666' }}
+                    tickFormatter={(value) => {
+                      const date = new Date(value);
+                      return `${date.toLocaleString("default", { month: "short" })} ${date.getDate()}`;
+                    }}
+                  />
+                  <YAxis 
+                    axisLine={false}
+                    tickLine={false}
+                    tick={false}
+                    tickFormatter={(value) => `${value}`}
+                  />
+                  <Tooltip content={<CustomTooltip />} />
+                  <Area
+                    type="monotone"
+                    dataKey="Amazon"
+                    stroke="#f81d75"
+                    strokeWidth={2}
+                    fill="url(#colorAmazon)"
+                    fillOpacity={1}
+                    dot={<ShadowDot fill="#f81d75" strokeWidth={2} r={6} stroke="#fff" />}
+                    activeDot={<ShadowActiveDot r={6} stroke="#f81d75" strokeWidth={2} fill="#fff" />}
+                  />
+                  <Area
+                    type="monotone"
+                    dataKey="BuyBox"
+                    stroke="#00c48c"
+                    strokeWidth={2}
+                    fill="url(#colorBuyBox)"
+                    fillOpacity={1}
+                    dot={<ShadowDot fill="#00c48c" strokeWidth={2} stroke="#fff" r={6} />}
+                    activeDot={<ShadowActiveDot r={6} stroke="#00c48c" strokeWidth={2} fill="#fff" />}
+                  />
+                </AreaChart>
+              </ResponsiveContainer>
+            </AntTooltip>
+          )
+        ) : (
+          <div className="h-[300px] flex items-center justify-center text-gray-500">
+            No market analysis data available for the selected date range.
+          </div>
+        )}
+      </div>
+    </div>
+  );
+};
+
+const MarketAnalysisSkeleton = () => {
+  return (
+    <div className="rounded-xl bg-white p-4 lg:p-5">
+      <div className="flex items-center gap-4 justify-between">
+        <Skeleton.Button active size="small" style={{ width: 150 }} />
+        <Skeleton.Button active size="small" style={{ width: 200 }} />
+      </div>
+      <div className="mt-5 flex items-center gap-1">
+        <Skeleton.Button active size="small" style={{ width: 60 }} />
+        <Skeleton.Button active size="small" style={{ width: 80 }} />
+        <Skeleton.Button active size="small" style={{ width: 70 }} />
+      </div>
+      <div className="mt-5 flex items-center gap-4">
+        <Skeleton.Button active size="small" style={{ width: 100 }} />
+        <Skeleton.Button active size="small" style={{ width: 100 }} />
+      </div>
+      <div className="mt-5">
+        <Skeleton.Button active size="large" block style={{ height: 300 }} />
+      </div>
+    </div>
+  );
+};
+
+export default MarketAnalysis;
\ No newline at end of file
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/new/multi-market-analyzer.tsx b/app/(dashboard)/dashboard/_components/prodComponents/new/multi-market-analyzer.tsx
new file mode 100644
index 0000000..541b27b
--- /dev/null
+++ b/app/(dashboard)/dashboard/_components/prodComponents/new/multi-market-analyzer.tsx
@@ -0,0 +1,89 @@
+import Country1 from "@/public/assets/svg/country-1.svg";
+import Country2 from "@/public/assets/svg/country-2.svg";
+import Country3 from "@/public/assets/svg/country-3.svg";
+import Image from "next/image";
+
+const MultiMarketAnalyzer = () => {
+  const data = [
+    {
+      flag: Country1,
+      bsr: "#19.8k",
+      price: "16.00",
+      profit: "3.94",
+      roi: "32.71",
+      breakeven: "9.61",
+    },
+    {
+      flag: Country2,
+      bsr: "-",
+      price: "-",
+      profit: "-",
+      roi: "-",
+      breakeven: "-",
+    },
+    {
+      flag: Country3,
+      bsr: "#19.8k",
+      price: "16.00",
+      profit: "3.94",
+      roi: "32.71",
+      breakeven: "9.61",
+    },
+  ];
+
+  return (
+    <div className="rounded-xl bg-white p-4 lg:p-5">
+      <span className="bg-[#F3F4F6] px-3 py-1.5 rounded-3xl text-[#676A75] font-semibold text-sm w-max">
+        Multi-Market Analyzer
+      </span>
+
+      <div className="flex flex-col gap-6 mt-5">
+        <div className="flex flex-col gap-4">
+          <div className="bg-white drop-shadow-md rounded-3xl px-3 py-2 text-[#7F8BA1] font-semibold text-sm flex gap-4 items-center">
+            <span className="rounded-full w-[33px] h-[21px]" />
+
+            <div className="flex flex-1 items-center divide-x divide-[#7F8BA1]">
+              <p className="flex-1 text-center pr-3">#BSR</p>
+              <p className="flex-1 text-center">Price</p>
+              <p className="flex-1 text-center">Profit</p>
+              <p className="flex-1 text-center">ROI%</p>
+              <p className="flex-1 text-center pl-3">B/E</p>
+            </div>
+          </div>
+
+          {data.map((row, index) => (
+            <div
+              key={index}
+              className="bg-white drop-shadow-md rounded-3xl px-3 py-2 text-[#596375] font-normal text-sm flex gap-4 items-center"
+            >
+              <Image
+                src={row.flag}
+                alt="country flag"
+                className="rounded-full w-[33px] h-[21px]"
+                quality={90}
+                unoptimized
+              />
+              <div className="flex flex-1 items-center">
+                <p className="flex-1 text-center pr-2">{row.bsr}</p>
+                <p className="flex-1 text-center">{row.price}</p>
+                <p className="flex-1 text-center">{row.profit}</p>
+                <p className="flex-1 text-center">{row.roi}</p>
+                <p className="flex-1 text-center pl-2">{row.breakeven}</p>
+              </div>
+            </div>
+          ))}
+        </div>
+
+        <span className="bg-[#F3F4F6] px-3 py-1.5 rounded-3xl text-[#596375] font-medium text-xs flex items-center gap-2 justify-between">
+          <p className="font-normal text-sm">Exchange Rate(s)</p>
+          <p>1 = 1.18 </p>
+          <p>1 = $1.23</p>
+          <p>1 = CA$1.77</p>
+        </span>
+      </div>
+    </div>
+  );
+};
+
+export default MultiMarketAnalyzer;
+
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/new/nav.tsx b/app/(dashboard)/dashboard/_components/prodComponents/new/nav.tsx
new file mode 100644
index 0000000..6a1bf38
--- /dev/null
+++ b/app/(dashboard)/dashboard/_components/prodComponents/new/nav.tsx
@@ -0,0 +1,422 @@
+"use client";
+/* eslint-disable @typescript-eslint/no-explicit-any */
+/* eslint-disable @typescript-eslint/no-unused-vars */
+import Image from "next/image";
+import Link from "next/link";
+import { FC, ReactNode } from "react";
+import { FaGoogle, FaHashtag } from "react-icons/fa6";
+import { PiLightningFill } from "react-icons/pi";
+import { HiMiniBell, HiMiniEye, HiMiniShoppingCart } from "react-icons/hi2";
+import { TbCalculatorFilled } from "react-icons/tb";
+import { IoPricetag } from "react-icons/io5";
+import { AiOutlinePercentage } from "react-icons/ai";
+import { Tooltip as AntTooltip, message } from "antd";
+import AmazonIcon from "@/public/assets/svg/amazon-icon.svg";
+import toatanAiIcon from "@/public/assets/svg/ai.svg";
+import Tool1 from "@/public/assets/svg/tool-1.svg";
+import Tool2 from "@/public/assets/svg/tool-2.svg";
+import Tool3 from "@/public/assets/svg/tool-3.svg";
+import Tool4 from "@/public/assets/svg/tool-4.svg";
+import ExportToSheetsButton from "@/utils/exportGoogle";
+import { useAnalyzeMutation, useLazyPurchaseQuantityQuery } from "@/redux/api/totanAi";
+import { useAppDispatch } from "@/redux/hooks";
+import { 
+  createNewSession, 
+  updateCollectedData, 
+  updateConversationState,
+  addMessage,
+  updateAnalysisData,
+  updateSessionId
+} from "@/redux/slice/chatSlice";
+import { DesktopIcon } from "./icons";
+
+interface NavProps {
+  product?: any;
+  buyboxWinnerPrice?: number;
+  lowestFBAPrice?: number;
+  lowestFBMPrice?: number;
+  monthlySales?: number;
+  sellerCount?: number;
+  fbaSellers?: number;
+  fbmSellers?: number;
+  stockLevels?: number;
+  // New props for Totan AI functionality
+  asin?: string;
+  marketplaceId?: number;
+  profitabilityData?: any;
+  onNavigateToTotan?: () => void;
+}
+
+type NavItem = {
+  href?: string;
+  icon: ReactNode;
+  external?: boolean;
+  onClick?: () => void;
+  tooltip?: string;
+};
+
+const Nav: FC<NavProps> = ({
+  product,
+  buyboxWinnerPrice = 0,
+  lowestFBAPrice = 0,
+  lowestFBMPrice = 0,
+  monthlySales = 0,
+  sellerCount = 0,
+  fbaSellers = 0,
+  fbmSellers = 0,
+  stockLevels = 0,
+  asin,
+  marketplaceId,
+  profitabilityData,
+  onNavigateToTotan
+}) => {
+  const dispatch = useAppDispatch();
+  const [analyzeMutation] = useAnalyzeMutation();
+  const [getPurchaseQuantity] = useLazyPurchaseQuantityQuery();
+  const [messageApi, contextHolder] = message.useMessage();
+
+  const handleFindSupplier = () => {
+    if (product?.product_name) {
+      const query = encodeURIComponent(`${product.product_name} supplier`);
+      window.open(`https://www.google.com/search?q=${query}`, "_blank");
+    }
+  };
+
+  const handleViewOnAmazon = () => {
+    if (product?.amazon_link) {
+      window.open(product.amazon_link, "_blank");
+    }
+  };
+
+  // Handle navigation to Totan with prefilled data (same logic as in quick-info)
+  const handleNavigateToTotanWithData = async () => {
+    if (!profitabilityData?.costPrice || !asin || !marketplaceId) {
+      messageApi.warning('Missing required data for navigation. Please complete profitability calculation first.');
+      return;
+    }
+
+    try {
+      // Create new session in Redux
+      dispatch(createNewSession({ firstName: undefined }));
+      
+      // Update collected data with current profitability calculation
+      dispatch(updateCollectedData({
+        asin: asin,
+        costPrice: Number(profitabilityData.costPrice),
+        isAmazonFulfilled: profitabilityData.fulfillmentType === "FBA"
+      }));
+
+      // Add user messages to simulate the conversation flow
+      dispatch(addMessage({ 
+        sender: "user", 
+        text: asin 
+      }));
+      dispatch(addMessage({ 
+        sender: "user", 
+        text: profitabilityData.costPrice.toString() 
+      }));
+      dispatch(addMessage({ 
+        sender: "user", 
+        text: profitabilityData.fulfillmentType === "FBA" ? "yes" : "no"
+      }));
+
+      // Set conversation state to analyzing
+      dispatch(updateConversationState("analyzing"));
+
+      // Add analyzing message
+      dispatch(addMessage({
+        sender: "ai",
+        text: " Now analyzing your product... This may take a moment."
+      }));
+
+      // Perform the analysis
+      const result = await analyzeMutation({
+        asin: asin,
+        costPrice: Number(profitabilityData.costPrice),
+        marketplaceId: marketplaceId,
+        isAmazonFulfilled: profitabilityData.fulfillmentType === "FBA"
+      }).unwrap();
+
+      if (result.success) {
+        const analysis = result.data;
+        dispatch(updateAnalysisData(analysis));
+        dispatch(updateSessionId(analysis.session_id));
+        dispatch(updateConversationState("chat_ready"));
+
+        // Add analysis result message
+        const analysisMessage = ` **Analysis Complete!**
+
+ **Overall Score**: ${analysis.score} (${analysis.category})
+
+
+Now you can ask me any questions about this product! `;
+
+        dispatch(addMessage({
+          sender: "ai",
+          text: analysisMessage,
+          type: "analysis"
+        }));
+
+        // Try to get purchase quantity as well
+        try {
+          const quantityResult = await getPurchaseQuantity(asin).unwrap();
+          const quantityData = quantityResult.data;
+          const quantityMessage = ` **Purchase Quantity Recommendations:**
+ **Conservative Approach**: ${Math.round(quantityData.conservative_quantity)} units
+ **Aggressive Approach**: ${Math.round(quantityData.aggressive_quantity)} units`;
+          
+         
+        } catch (error) {
+          console.error("Failed to get purchase quantity:", error);
+        }
+
+        // Navigate to Totan component
+        if (onNavigateToTotan) {
+          onNavigateToTotan();
+        }
+
+        messageApi.success('Analysis complete! Navigating to Totan AI...');
+      }
+    } catch (error) {
+      console.error("Failed to perform analysis for navigation:", error);
+      // Handle error - could add error message to chat
+      dispatch(addMessage({
+        sender: "ai",
+        text: " Sorry, I couldn't analyze this product. Please try again.",
+        type: "error"
+      }));
+      
+      if (onNavigateToTotan) {
+        onNavigateToTotan();
+      }
+    }
+  };
+
+   const handleDuplicatePage = () => {
+    try {
+      // Open the current page in a new tab/window
+      const currentUrl = window.location.href;
+      const newWindow = window.open(currentUrl, '_blank');
+      
+      if (newWindow) {
+        message.success("Page duplicated in new tab!");
+      } else {
+        // Fallback if popup is blocked
+        message.warning("Please allow popups to duplicate the page");
+      }
+    } catch (err) {
+      console.error("Error duplicating page:", err);
+      message.error("Failed to duplicate page");
+    }
+  };
+
+  const navItems: NavItem[] = [
+    { 
+      icon: <FaGoogle className="size-6 text-[#0F172A]" />,
+      onClick: handleFindSupplier,
+      tooltip: "Search Google for suppliers of this product to explore sourcing options"
+    },
+    { 
+      icon: <TbCalculatorFilled className="size-6 text-[#0F172A]" />,
+      tooltip: "Export this product's information to a Google Sheet for further analysis or record keeping"
+    },
+    {
+      icon: (
+        <Image
+          src={AmazonIcon}
+          alt="Amazon icon"
+          width={32}
+          height={32}
+          className="size-6"
+        />
+      ),
+      external: true,
+      onClick: handleViewOnAmazon,
+      tooltip: "Visit the product's Amazon page to see listings, reviews, and more details"
+    },
+  ];
+
+  const NavIcon: FC<NavItem & { isCalculator?: boolean }> = ({ 
+    href, 
+    icon, 
+    external = false, 
+    onClick,
+    tooltip,
+    isCalculator = false
+  }) => {
+    const content = (
+      <div
+        onClick={onClick}
+        className="size-12 flex items-center justify-center rounded-lg bg-[#F3F4F6] cursor-pointer hover:bg-gray-200 transition-colors"
+      >
+        {isCalculator && product ? (
+          <ExportToSheetsButton
+            productData={{
+              asin: product?.asin,
+              title: product?.product_name,
+              brand: product?.vendor,
+              category: product?.category,
+              upcEan: product?.upc || product?.ean,
+              buyBoxPrice: buyboxWinnerPrice,
+              lowestFBAPrice: lowestFBAPrice,
+              lowestFBMPrice: lowestFBMPrice,
+              monthlySales: monthlySales,
+              sellerCount: sellerCount,
+              fbaSellers: fbaSellers,
+              fbmSellers: fbmSellers,
+              stockLevels: stockLevels,
+            }}
+            currencySymbol="$"
+          />
+        ) : (
+          icon
+        )}
+      </div>
+    );
+
+    if (tooltip) {
+      return (
+        <AntTooltip title={tooltip} placement="top">
+          {content}
+        </AntTooltip>
+      );
+    }
+
+    return content;
+  };
+
+  return (
+    <>
+      {contextHolder}
+      <div className="rounded-xl bg-white p-4 lg:p-5 flex flex-col lg:flex-row justify-between gap-4 md:gap-8">
+        <div>
+          <p className="mb-2 text-[#676A75] text-xs font-medium">Navigation</p>
+          <div className="flex items-center gap-2 flex-wrap">
+            {navItems.map((item, idx) => (
+              <NavIcon 
+                key={idx} 
+                {...item} 
+                isCalculator={idx === 1} // TbCalculatorFilled is at index 1
+              />
+            ))}
+            
+            {/* Totan AI Icon with same functionality as analysis box */}
+            <AntTooltip
+              title={
+                profitabilityData?.costPrice 
+                  ? "Launch Totan AI analysis with your profitability data to get detailed insights and recommendations"
+                  : "Complete profitability calculation first to access Totan AI analysis"
+              }
+              placement="top"
+            >
+              <Link href={profitabilityData?.costPrice ? "/totan" : "#"}>
+                <div
+                  onClick={profitabilityData?.costPrice ? handleNavigateToTotanWithData : undefined}
+                  className={`size-12 flex items-center justify-center rounded-lg transition-colors ${
+                    profitabilityData?.costPrice 
+                      ? "bg-[#F3F4F6] cursor-pointer hover:bg-primary hover:brightness-110" 
+                      : "bg-gray-100 cursor-not-allowed opacity-50"
+                  }`}
+                  title={
+                    profitabilityData?.costPrice 
+                      ? "Click to open detailed analysis in Totan chat"
+                      : "Complete profitability calculation to enable AI analysis"
+                  }
+                >
+                  <Image
+                    src={toatanAiIcon}
+                    alt="Totan AI icon"
+                    width={32}
+                    height={32}
+                    className="size-6"
+                  />
+                </div>
+              </Link>
+               
+            </AntTooltip>
+             <AntTooltip title="Duplicate page in new tab" placement="top">
+          <button
+            type="button"
+            onClick={handleDuplicatePage}
+            className="bg-[#F4F5F7] rounded-lg p-3 hover:bg-[#E7EBEE] transition-colors"
+            aria-label="Duplicate page"
+          >
+            <DesktopIcon />
+          </button>
+        </AntTooltip>
+          </div>
+        </div>
+
+        <div className="bg-[#FAFBFC] flex flex-col md:flex-row md:items-center justify-between gap-4 w-full max-w-[327px] p-4 pr-9 bg-[url(/assets/svg/worktools-bg.svg)] bg-cover bg-no-repeat bg-center rounded-lg shadow-sm">
+          <div className="flex flex-col gap-2">
+            <p className="text-[#676A75] font-semibold text-xs">
+              Your WorkTools:
+            </p>
+            <div className="flex gap-1">
+              <Image
+                src={Tool1}
+                alt="Tool"
+                className="size-8"
+                width={24}
+                height={23}
+                quality={90}
+                unoptimized
+              />
+              <Image
+                src={Tool2}
+                alt="Tool"
+                className="size-8"
+                width={24}
+                height={24}
+                quality={90}
+                unoptimized
+              />
+              <Image
+                src={Tool3}
+                alt="Tool"
+                className="size-8"
+                width={31}
+                height={28}
+                quality={90}
+                unoptimized
+              />
+              <Image
+                src={Tool4}
+                alt="Tool"
+                className="size-8"
+                width={22}
+                height={21}
+                quality={90}
+                unoptimized
+              />
+            </div>
+          </div>
+
+          <span className="flex gap-3 items-center">
+            {/** 
+            <Link href="" className="text-[10px] text-[#5B656C] hover:underline">
+              How to use <br />
+              Watch Tutorial
+            </Link>
+            */}
+            <svg
+              width="17"
+              height="17"
+              viewBox="0 0 17 17"
+              fill="none"
+              xmlns="http://www.w3.org/2000/svg"
+            >
+              <circle cx="8.5" cy="8.5" r="8.5" fill="#F5473F" />
+              <path
+                d="M11.25 8.06699C11.5833 8.25944 11.5833 8.74056 11.25 8.93301L7.5 11.0981C7.16667 11.2905 6.75 11.05 6.75 10.6651L6.75 6.33494C6.75 5.95004 7.16667 5.70947 7.5 5.90192L11.25 8.06699Z"
+                fill="white"
+              />
+            </svg>
+          </span>
+        </div>
+      </div>
+    </>
+  );
+};
+
+export default Nav;
\ No newline at end of file
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/new/new-offer-count.tsx b/app/(dashboard)/dashboard/_components/prodComponents/new/new-offer-count.tsx
new file mode 100644
index 0000000..d2eb99d
--- /dev/null
+++ b/app/(dashboard)/dashboard/_components/prodComponents/new/new-offer-count.tsx
@@ -0,0 +1,57 @@
+import {
+  BarChart,
+  Bar,
+  XAxis,
+  YAxis,
+  Tooltip,
+  ResponsiveContainer,
+  CartesianGrid,
+} from "recharts";
+
+const data = [
+  { name: "7 Days", value: 15 },
+  { name: "30 Days", value: 10 },
+  { name: "90 Days", value: 15 },
+  { name: "180 Days", value: 11 },
+  { name: "365 Days", value: 16 },
+  { name: "All Time", value: 14 },
+];
+
+const NewOfferCount = () => {
+  return (
+    <div className="rounded-xl bg-white p-4 lg:p-5">
+      <span className="bg-[#F3F4F6] px-3 py-1.5 rounded-3xl text-[#676A75] font-semibold text-sm w-max">
+        New Offer Count
+      </span>
+
+      <div className="mt-5 h-72">
+        <ResponsiveContainer width="100%" height="100%">
+          <BarChart
+            data={data}
+            barSize={30}
+            margin={{ top: 20, right: -10, left: -45, bottom: 20 }}
+          >
+            <CartesianGrid vertical={false} strokeDasharray="3 3" />
+            <XAxis dataKey="name" tick={{ fontSize: 12 }} />
+            <YAxis tick={{ fontSize: 12 }} />
+            <Tooltip />
+            <Bar
+              dataKey="value"
+              fill="url(#colorGradient)"
+              radius={[10, 10, 0, 0]}
+            />
+            <defs>
+              <linearGradient id="colorGradient" x1="0" y1="0" x2="0" y2="1">
+                <stop offset="0%" stopColor="#3895F9" stopOpacity={1} />
+                <stop offset="100%" stopColor="#1C72CE" stopOpacity={0.7} />
+              </linearGradient>
+            </defs>
+          </BarChart>
+        </ResponsiveContainer>
+      </div>
+    </div>
+  );
+};
+
+export default NewOfferCount;
+
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/new/offers-and-seller-feedback.tsx b/app/(dashboard)/dashboard/_components/prodComponents/new/offers-and-seller-feedback.tsx
new file mode 100644
index 0000000..79576e6
--- /dev/null
+++ b/app/(dashboard)/dashboard/_components/prodComponents/new/offers-and-seller-feedback.tsx
@@ -0,0 +1,80 @@
+import { Tooltip } from 'antd';
+import type { NextRouter } from 'next/router';
+/* eslint-disable @typescript-eslint/no-explicit-any */
+
+// Define the shape of the data it expects
+type SellerFeedback = {
+  id: number;
+  seller: string;
+  rating: number;
+  review_count: number;
+  sellerId: string;
+  seller_type: string;
+  avgPrice: string;
+  won: string;
+  lastWon: string;
+};
+
+interface OffersAndSellerFeedbackProps {
+    feedbackData: SellerFeedback[];
+    router: NextRouter | any; // Use a more specific type if available
+}
+
+const OffersAndSellerFeedback = ({ feedbackData, router }: OffersAndSellerFeedbackProps) => {
+  return (
+    <div className="mt-5 overflow-x-auto max-h-[300px] overflow-y-scroll show-scrollbar">
+      <table className="min-w-full text-left text-sm text-gray-700">
+        <thead>
+          <tr className="border-b bg-[#F7F7F7] font-medium">
+            <th className="p-4 w-[70px]">#</th>
+            <th className="p-4">Seller</th>
+            <th className="p-4">Avg. Price</th>
+            <th className="p-4">Won</th>
+            <th className="p-4">Last Won</th>
+          </tr>
+        </thead>
+        <tbody>
+          {feedbackData.length > 0 ? (
+            feedbackData.map((seller) => (
+              <tr key={seller.id} className="border-b last:border-none text-[#252525] text-sm">
+                <td className="p-4">{seller.id}</td>
+                <td className="p-4 min-w-[160px]">
+                  <Tooltip title={`Rating: ${seller.rating} (${seller.review_count} reviews)`} placement="topLeft">
+                    <div
+                      onClick={() => router.push(`/seller/${seller.sellerId}`)}
+                      className="cursor-pointer flex flex-col gap-0.5"
+                    >
+                      <span className="flex items-center gap-1.5">
+                        <span
+                          className={`size-2.5 rounded-sm ${
+                            seller.seller_type === "FBA"
+                              ? "bg-black"
+                              : seller.seller_type === "FBM"
+                                ? "bg-[#00E4E4]"
+                                : "bg-orange-400"
+                          }`}
+                        />
+                        <p className="truncate font-medium">{seller.seller}</p>
+                      </span>
+                    </div>
+                  </Tooltip>
+                </td>
+                <td className="p-4">${seller.avgPrice}</td>
+                <td className="p-4">{seller.won}</td>
+                <td className="p-4 whitespace-nowrap">{seller.lastWon}</td>
+              </tr>
+            ))
+          ) : (
+            <tr>
+              <td colSpan={5} className="text-center p-6 text-gray-500">
+                No seller feedback available for this product.
+              </td>
+            </tr>
+          )}
+        </tbody>
+      </table>
+    </div>
+  );
+};
+
+export default OffersAndSellerFeedback;
\ No newline at end of file
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/new/product-eligibility.tsx b/app/(dashboard)/dashboard/_components/prodComponents/new/product-eligibility.tsx
new file mode 100644
index 0000000..9a38efb
--- /dev/null
+++ b/app/(dashboard)/dashboard/_components/prodComponents/new/product-eligibility.tsx
@@ -0,0 +1,221 @@
+"use client";
+/* eslint-disable @typescript-eslint/no-explicit-any */
+/* eslint-disable @typescript-eslint/no-unused-vars */
+import { useState } from "react";
+import { FiArrowRightCircle } from "react-icons/fi";
+import { Drawer } from "antd";
+import Link from "next/link";
+import { Tooltip as AntTooltip } from "antd";
+
+interface ProductEligibilityProps {
+  product?: any;
+  ipData?: any;
+  eligibility?: boolean | string;
+  setIpIssue?: number;
+  asin: string;
+  marketplaceId: number;
+  isLoadingIpData?: boolean;
+}
+
+const ProductEligibility = ({
+  product,
+  ipData,
+  eligibility = false,
+  setIpIssue = 0,
+  asin,
+  marketplaceId,
+  isLoadingIpData = false,
+}: ProductEligibilityProps) => {
+  const [open, setOpen] = useState(false);
+ const amazonAuthUrl = `https://sellercentral.amazon.com/apps/authorize/consent?${new URLSearchParams(
+    {
+      application_id: process.env.NEXT_PUBLIC_AMAZON_CLIENT_ID!,
+      state: "ourauth",
+      version: "beta",
+      response_type: "code",
+      scope: "sellingpartnerapi::authorization",
+      redirect_uri: process.env.NEXT_PUBLIC_AMAZON_REDIRECT_URI!,
+    }
+  ).toString()}`;
+
+  if (isLoadingIpData) {
+    return (
+      <div className="h-[250px] w-full bg-[url(/assets/svg/product-eligibility.svg)] bg-cover bg-no-repeat bg-center p-4 lg:px-5 flex flex-col justify-center items-center">
+        <div className="flex items-center gap-3">
+          <div className="flex space-x-1">
+            <div className="w-2 h-2 bg-white rounded-full animate-bounce [animation-delay:-0.3s]"></div>
+            <div className="w-2 h-2 bg-white rounded-full animate-bounce [animation-delay:-0.15s]"></div>
+            <div className="w-2 h-2 bg-white rounded-full animate-bounce"></div>
+          </div>
+          <span className="text-white font-medium text-sm">
+            Analyzing product eligibility...
+          </span>
+        </div>
+      </div>
+    );
+  }
+
+  return (
+    <>
+      <div className="h-[250px] w-full bg-[url(/assets/svg/product-eligibility.svg)] bg-cover bg-no-repeat bg-center p-4 lg:px-5 flex flex-col justify-end">
+        {eligibility === "unauthorized" ? (
+          <AntTooltip
+            title=" You need to connect your amazon account to see product eligibility"
+            placement="top"
+          >
+            <p className="text-white text-sm font-medium cursor-help">
+              Amazon seller not connected
+            </p>
+          </AntTooltip>
+        ) : eligibility ? (
+          <AntTooltip
+            title=" You can list and sell this product! You have the necessary approvals and this product is not restricted (GATED) for your seller account."
+            placement="top"
+          >
+            <p className="text-white text-sm font-medium cursor-help">
+              This Product is eligible to sell
+            </p>
+          </AntTooltip>
+        ) : (
+          <AntTooltip
+            title=" You can't list or sell this product yet because it's restricted (GATED) by the brand or category. You'll need approval first."
+            placement="top"
+          >
+            <p className="text-white text-xs font-medium cursor-help max-w-[50%]">
+              You are not authorized to sell this product
+            </p>
+          </AntTooltip>
+        )}
+
+        <div className="text-xs font-medium mt-4">
+          <AntTooltip
+            title={
+              setIpIssue > 0
+                ? " Issues detected that prevent you from selling this product. Click 'See all alerts' below to see detailed information about each issue and potential solutions."
+                : " No restrictions found!"
+            }
+            placement="top"
+          >
+            <p
+              className={`text-xs cursor-help ${
+                setIpIssue ? "text-white" : "text-white/80"
+              }`}
+            >
+              {setIpIssue === 1
+                ? "There is 1 issue"
+                : setIpIssue > 1
+                ? `There are ${setIpIssue} issues`
+                : "No issues found"}
+            </p>
+          </AntTooltip>
+
+          <div className="mt-1.5">
+            <button
+              type="button"
+              onClick={() => setOpen(true)}
+              className="bg-white rounded-md py-1 px-2 text-[#0EAC7E] flex items-center gap-1.5 text-xs font-medium"
+            >
+              See all alerts
+              <FiArrowRightCircle />
+            </button>
+          </div>
+        </div>
+      </div>
+
+      <Drawer
+        title="Alerts"
+        placement="right"
+        closable
+        onClose={() => setOpen(false)}
+        open={open}
+        width={400}
+        bodyStyle={{ padding: 0 }}
+      >
+        <div className="rounded-xl bg-white h-full">
+          <div className="border-b border-[#E7EBEE] p-4 lg:p-5 flex items-center gap-6 justify-between">
+            <span className="bg-[#F3F4F6] px-3 py-1.5 rounded-3xl text-[#676A75] font-semibold text-sm w-max">
+              Alerts
+            </span>
+
+            <div className="flex items-center gap-1.5 text-white font-bold text-sm">
+              <span className="bg-primary rounded-full size-8 flex items-center justify-center">
+                {setIpIssue}
+              </span>
+              <span className="bg-[#FFC56E] opacity-15 rounded-full size-8 flex items-center justify-center" />
+              <span className="bg-[#DF4740] opacity-15 rounded-full size-8 flex items-center justify-center" />
+            </div>
+          </div>
+
+          <div className="p-4 lg:p-5">
+            {eligibility === "unauthorized" ? (
+             <div className="bg-[#FAF5EC] rounded-xl p-4 text-sm font-medium flex items-center gap-3 justify-between">
+                <p className="text-[#CA7D09] max-w-[250px]">
+                  Some alerts require you to be logged in to Seller Central
+                </p>
+                <Link
+                  href={amazonAuthUrl}
+                  target="_blank"
+                  className="bg-white hover:bg-gray-50 transition-colors duration-200 text-black py-1.5 px-4 rounded-[10px]"
+                >
+                  Login
+                </Link>
+              </div>
+              
+            ) : eligibility ? (
+               <h5 className=" text-primary font-semibold text-xl">
+                You are authorized to sell this product
+              </h5>
+            ) : (
+              <h5 className=" text-xl font-semibold  text-red-500">
+                You are not authorized to sell this product
+              </h5>
+            )}
+
+            <div className="mt-5 text-[#8C94A3] text-sm font-medium flex flex-col gap-4">
+              <span className="flex gap-4 items-center justify-between">
+                <p>Amazon Share Buy Box</p>
+                <p className="text-[#008158]">
+                  {ipData?.amazon_share_buybox
+                    ? `${ipData.amazon_share_buybox}%`
+                    : "Never on Listing"}
+                </p>
+              </span>
+              <span className="flex gap-4 items-center justify-between">
+                <p>Private Label</p>
+                <p className="text-[#008158]">
+                  {ipData?.private_label || "Unlikely"}
+                </p>
+              </span>
+              <span className="flex gap-4 items-center justify-between">
+                <p>IP Analysis</p>
+                <p className="text-[#008158]">
+                  {ipData?.ip_analysis?.description || "No known IP issues"}
+                </p>
+              </span>
+              <span className="flex gap-4 items-center justify-between">
+                <p>Size</p>
+                <p className="text-[#008158]">
+                  {ipData?.size || ipData?.size_text || "Standard Size"}
+                </p>
+              </span>
+              <span className="flex gap-4 items-center justify-between">
+                <p>Meltable</p>
+                <p className="text-[#008158]">
+                  {ipData?.is_meltable ? "Yes" : "No"}
+                </p>
+              </span>
+              <span className="flex gap-4 items-center justify-between">
+                <p>Variations</p>
+                <p className="text-[#008158]">
+                  {ipData?.has_variations ? "Yes" : "No"}
+                </p>
+              </span>
+            </div>
+          </div>
+        </div>
+      </Drawer>
+    </>
+  );
+};
+
+export default ProductEligibility;
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/new/product-overview.tsx b/app/(dashboard)/dashboard/_components/prodComponents/new/product-overview.tsx
new file mode 100644
index 0000000..58db95b
--- /dev/null
+++ b/app/(dashboard)/dashboard/_components/prodComponents/new/product-overview.tsx
@@ -0,0 +1,256 @@
+"use client";
+/* eslint-disable @typescript-eslint/no-explicit-any */
+/* eslint-disable @typescript-eslint/no-unused-vars */
+
+import Image from "next/image";
+import { useState } from "react";
+import { Tooltip as AntTooltip, message } from "antd";
+import {
+  CopyIcon,
+  DesktopIcon,
+  GoogleIcon,
+  JustifyIcon,
+  RobotIcon,
+  SubtitleIcon,
+} from "./icons";
+import AmazonIcon from "@/public/assets/svg/amazon.svg";
+import Sneakers from "@/public/assets/svg/sneakers.svg";
+import ProductThumbnail from "@/public/assets/images/women-shoes.png";
+import { CustomSelect as Select } from "@/lib/AntdComponents";
+import { useProductVariation } from "@/hooks/use-product-variation";
+
+interface ProductOverviewProps {
+  product?: any;
+  asin: string;
+  marketplaceId: number;
+  isLoading?: boolean;
+}
+
+const ProductOverview = ({ product, asin, marketplaceId, isLoading }: ProductOverviewProps) => {
+  const { handleVariationChange } = useProductVariation(asin, marketplaceId);
+  const [copyText, setCopyText] = useState("copy");
+
+  const handleCopyAsin = async () => {
+    try {
+      const textToCopy = product?.asin || asin;
+      await navigator.clipboard.writeText(textToCopy);
+      
+      // Visual feedback
+      setCopyText("copied!");
+      message.success("ASIN copied to clipboard!");
+      
+      // Reset text after 2 seconds
+      setTimeout(() => {
+        setCopyText("copy");
+      }, 2000);
+    } catch (err) {
+      // Fallback for browsers that don't support clipboard API
+      const textArea = document.createElement("textarea");
+      textArea.value = product?.asin || asin;
+      document.body.appendChild(textArea);
+      textArea.select();
+      try {
+        document.execCommand("copy");
+        setCopyText("copied!");
+        message.success("ASIN copied to clipboard!");
+        setTimeout(() => {
+          setCopyText("copy");
+        }, 2000);
+      } catch (fallbackErr) {
+        message.error("Failed to copy ASIN");
+      }
+      document.body.removeChild(textArea);
+    }
+  };
+
+ 
+
+  if (isLoading || !product) {
+    return (
+      <div className="rounded-xl bg-white">
+        <div className="p-4 lg:p-5">
+          <span className="bg-[#F3F4F6] px-3 py-1.5 rounded-3xl text-[#676A75] font-semibold text-sm flex items-center gap-2 w-max">
+            Product Overview
+            
+          </span>
+          <div className="mt-4 h-[200px] flex items-center justify-center">
+            <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
+          </div>
+        </div>
+      </div>
+    );
+  }
+
+  // Generate options for the select dropdown
+  const variationOptions =
+    product?.variations?.map((variation: any) => {
+      const attributeLabels = variation.attributes.map((attr: any) => `${attr.dimension}: ${attr.value}`).join(", ");
+
+      return {
+        value: variation.asin,
+        label: attributeLabels || variation.asin,
+      };
+    }) || [];
+
+  return (
+    <div className="rounded-xl bg-white">
+      <div className="p-4 lg:p-5">
+        <span className="bg-[#F3F4F6] px-3 py-1.5 rounded-3xl text-[#676A75] font-semibold text-sm flex items-center gap-2 w-max">
+          Product Overview
+        
+        </span>
+
+        <div className="mt-4 flex flex-col sm:grid sm:grid-cols-1 lg:grid-cols-[auto_1fr] gap-4">
+          <div className="bg-[#F3F4F6] w-[143px] h-[136px] flex items-center justify-center rounded-xl overflow-hidden mx-auto sm:mx-0">
+            <Image
+              src={product?.product_image || ProductThumbnail}
+              alt="Product"
+              className="size-[105px] object-cover"
+              width={105}
+              height={105}
+              quality={90}
+              unoptimized
+            />
+          </div>
+          <div className="flex flex-col gap-3 min-w-0 flex-1">
+            <AntTooltip title="Product name as displayed on Amazon marketplace." placement="top">
+              <h3 className="text-[#5B656C] font-semibold text-sm cursor-help break-words line-clamp-3 overflow-hidden">
+                {product?.product_name || "Product name not available"}
+              </h3>
+            </AntTooltip>
+            
+            {product?.rating && (
+              <AntTooltip
+                title="Average customer rating out of 5 stars. Higher ratings typically indicate better customer satisfaction and product quality."
+                placement="top"
+              >
+                <div className="flex items-center gap-1 text-[#858F96] text-xs font-medium cursor-help flex-wrap">
+                  <div className="flex items-center gap-1">
+                    {[...Array(5)].map((_, i) => (
+                      <svg
+                        key={i}
+                        className={`size-4 flex-shrink-0 ${
+                          i < Math.floor(product.rating.stars) ? "fill-[#FFB951]" : "fill-gray-300"
+                        }`}
+                        viewBox="0 0 20 20"
+                        aria-hidden="true"
+                      >
+                        <polygon points="10,1.5 12.59,7.36 18.9,7.97 14,12.14 15.45,18.36 10,15.1 4.55,18.36 6,12.14 1.1,7.97 7.41,7.36" />
+                      </svg>
+                    ))}
+                  </div>
+                  <span className="whitespace-nowrap">{product.rating.stars}/5</span>
+                  <span className="text-gray-500 whitespace-nowrap">({product.rating.count?.toLocaleString()})</span>
+                </div>
+              </AntTooltip>
+            )}
+            
+            {/* Product variations dropdown */}
+            <div className="w-full">
+              {product?.variations?.length > 0 ? (
+                <Select
+                  value={asin}
+                  onChange={handleVariationChange}
+                  options={variationOptions}
+                  style={{ width: "100%", borderRadius: 13 }}
+                  placeholder="Product variations"
+                  loading={isLoading}
+                />
+              ) : (
+                <Select
+                  options={[
+                    {
+                      value: "no_variations",
+                      label: "No variations available",
+                    },
+                  ]}
+                  style={{ width: "100%", borderRadius: 13 }}
+                  placeholder="Product variations"
+                  disabled
+                />
+              )}
+            </div>
+          </div>
+        </div>
+
+        <div className="mt-4 flex items-center gap-5 bg-[#F3F4F6E0] p-4 rounded-xl relative">
+          <span className="bg-[#DDE0E5] h-[45px] w-[6.8px] rounded-3xl" />
+          <span className="flex-1">
+            <h5 className="text-[#595959] font-medium text-sm">
+              {product?.category || "Category not available"}
+            </h5>
+            <p className="text-xs text-[#9E9D9D]">
+              <AntTooltip
+                title="Amazon Standard Identification Number - A unique product identifier assigned by Amazon."
+                placement="top"
+              >
+                <span className="cursor-help border-b border-dotted border-gray-400">
+                  ASIN: {product?.asin || asin}
+                </span>
+              </AntTooltip>
+            </p>
+          </span>
+
+          <span className="absolute bottom-3 right-3">
+            <AntTooltip title="Copy ASIN to clipboard" placement="top">
+              <button
+                type="button"
+                onClick={handleCopyAsin}
+                className="bg-white text-primary text-xs flex items-center gap-1 px-2 py-1 rounded-full hover:bg-gray-50 transition-colors active:scale-95 duration-200"
+              >
+                <CopyIcon />
+                {copyText}
+              </button>
+            </AntTooltip>
+          </span>
+        </div>
+      </div>
+
+
+      <div className="border-t border-[#E7EBEE] p-5 lg:px-5 flex items-center gap-2 flex-wrap">
+        {/** 
+        <button
+          type="button"
+          className="bg-[#18CB96] rounded-lg p-2"
+          aria-label="Details"
+        >
+          <SubtitleIcon />
+        </button>
+        <button
+          type="button"
+          className="bg-[#F4F5F7] rounded-lg p-2"
+          aria-label="Details"
+        >
+          <JustifyIcon />
+        </button>
+
+        <button
+          type="button"
+          className="bg-[#F4F5F7] rounded-lg p-2"
+          aria-label="Details"
+        >
+          <Image
+            src={AmazonIcon}
+            alt="Amazon icon"
+            className="size-5"
+            unoptimized
+          />
+        </button>
+
+        <button
+          type="button"
+          className="bg-[#F4F5F7] rounded-lg p-2"
+          aria-label="Details"
+        >
+          <GoogleIcon />
+        </button>
+
+      */}
+
+      
+      </div>
+    </div>
+  );
+};
+
+export default ProductOverview;
\ No newline at end of file
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/new/profitability-calculator.tsx b/app/(dashboard)/dashboard/_components/prodComponents/new/profitability-calculator.tsx
new file mode 100644
index 0000000..426ba81
--- /dev/null
+++ b/app/(dashboard)/dashboard/_components/prodComponents/new/profitability-calculator.tsx
@@ -0,0 +1,648 @@
+"use client";
+/* eslint-disable @typescript-eslint/no-explicit-any */
+/* eslint-disable @typescript-eslint/no-unused-vars */
+import { JSX, useState, useEffect, useCallback, useRef, forwardRef, useImperativeHandle } from "react";
+import { message, Skeleton, Tooltip as AntTooltip } from "antd";
+import { debounce } from "lodash";
+import { evaluate } from "mathjs";
+import { CustomSlider as Slider } from "@/lib/AntdComponents";
+import { useCalculateProfitablilityMutation, useGetBuyboxDetailsQuery } from "@/redux/api/productsApi";
+import { useAppSelector } from "@/redux/hooks";
+import type { BuyboxItem, Product, ProfitabilityData } from "../types";
+
+interface ProfitabilityCalculatorProps {
+  asin: string;
+  marketplaceId: number;
+  product: Product | undefined;
+  isLoading?: boolean;
+  onCalculationComplete?: (data: ProfitabilityData) => void;
+  offers: BuyboxItem[];
+  onCalculationStart?: () => void;
+}
+
+interface FeesState {
+  referralFee: number;
+  fulfillmentType: string;
+  fullfillmentFee: number;
+  closingFee: number;
+  storageFee: number;
+  prepFee: number;
+  shippingFee: number;
+  digitalServicesFee: number;
+  miscFee: number;
+}
+
+interface ResponseData {
+  fba: ProfitabilityData | null;
+  fbm: ProfitabilityData | null;
+}
+
+interface CalculationBody {
+  asin: string;
+  marketplaceId: string;
+  isAmazonFulfilled: boolean;
+  currencyCode: string;
+  storage: number;
+  costPrice: string;
+  salePrice: number | string;
+  pointsNumber: number;
+  pointsAmount: number;
+}
+
+type TabKey = "maximumCost" | "totalFees";
+
+const tabLabels: Record<TabKey, string> = {
+  maximumCost: "Maximum Cost",
+  totalFees: "Total Fees",
+};
+
+const ProfitabilityCalculator = forwardRef<
+  { updateCostPrice: (value: string) => void; updateSalesPrice: (value: string) => void },
+  ProfitabilityCalculatorProps
+>(({
+  asin,
+  marketplaceId,
+  product,
+  isLoading,
+  onCalculationComplete,
+  offers,
+  onCalculationStart
+}, ref) => {
+  const [costPrice, setCostPrice] = useState<string>("");
+  const [costPriceInput, setCostPriceInput] = useState<string>("");
+  const [salePrice, setSalePrice] = useState<string>("");
+  const [storageMonths, setStorageMonths] = useState(0);
+  const [fulfillmentType, setFulfillmentType] = useState("FBA");
+  const [activeTab, setActiveTab] = useState<TabKey>("maximumCost");
+  const [isCalculating, setIsCalculating] = useState(false);
+  const [isValidExpression, setIsValidExpression] = useState(true);
+
+  const { currencyCode } = useAppSelector((state) => state.global) || { currencyCode: "USD" };
+  const [calculateProfitability] = useCalculateProfitablilityMutation();
+
+  const { data: buyboxDetailsData, isLoading: isLoadingBuyboxDetails } = useGetBuyboxDetailsQuery({
+    marketplaceId,
+    itemAsin: asin,
+  });
+
+  const buyboxDetails = (buyboxDetailsData?.data?.buybox as BuyboxItem[]) ?? [];
+  const buyboxWinnerPrice = buyboxDetails.find((offer) => offer.is_buybox_winner)?.listing_price ?? 0;
+
+  const lastProfitabilityCalc = product?.last_profitability_calculation;
+  const lastCostPrice = lastProfitabilityCalc?.fba?.costPrice;
+
+  const [fees, setFees] = useState<FeesState>({
+    referralFee: lastProfitabilityCalc?.fba?.referralFee || 0,
+    fulfillmentType: lastProfitabilityCalc?.fba?.fulfillmentType || "FBA",
+    fullfillmentFee: lastProfitabilityCalc?.fba?.fullfillmentFee || 0,
+    closingFee: lastProfitabilityCalc?.fba?.closingFee || 0,
+    storageFee: lastProfitabilityCalc?.fba?.storageFee || 0,
+    prepFee: Number(lastProfitabilityCalc?.fba?.prepFee || 0),
+    shippingFee: Number(lastProfitabilityCalc?.fba?.shippingFee || 0),
+    digitalServicesFee: Number(lastProfitabilityCalc?.fba?.digitalServicesFee || 0),
+    miscFee: Number(lastProfitabilityCalc?.fba?.miscFee || 0),
+  });
+
+  const [totalFees, setTotalFees] = useState(lastProfitabilityCalc?.fba?.totalFees || 0);
+  const [minROI, setMinROI] = useState(lastProfitabilityCalc?.fba?.minRoi || 0);
+  const [ROI, setROI] = useState(lastProfitabilityCalc?.fba?.roi || 0);
+  const [minProfit, setMinProfit] = useState(lastProfitabilityCalc?.fba?.minProfit || 0);
+  const [profitAmount, setProfitAmount] = useState(lastProfitabilityCalc?.fba?.profitAmount || 0);
+  const [maxCost, setMaxCost] = useState(lastProfitabilityCalc?.fba?.maxCost || 0);
+  const [vatOnFees, setVatOnFees] = useState(lastProfitabilityCalc?.fba?.vatOnFees || 0);
+  const [discount, setDiscount] = useState(lastProfitabilityCalc?.fba?.discount || 0);
+  const [profitMargin, setProfitMargin] = useState(lastProfitabilityCalc?.fba?.profitMargin || 0);
+  const [breakEvenPrice, setBreakEvenPrice] = useState(lastProfitabilityCalc?.fba?.breakevenSalePrice || 0);
+  const [estimatedPayout, setEstimatedPayout] = useState(lastProfitabilityCalc?.fba?.estimatedAmzPayout || 0);
+
+  const [responseData, setResponseData] = useState<ResponseData>({
+    fba: lastProfitabilityCalc?.fba || null,
+    fbm: lastProfitabilityCalc?.fbm || null,
+  });
+
+  // Calculate cheapest price from offers
+  const cheapestPrice = offers.length > 0 
+    ? Math.min(...offers.map(offer => offer.listing_price)) 
+    : 0;
+
+  // Expose methods to parent component
+  useImperativeHandle(ref, () => ({
+    updateCostPrice: (value: string) => {
+      const { isValid, result } = evaluateExpression(value);
+      if (isValid) {
+        setCostPriceInput(result);
+        setCostPrice(result);
+        setIsValidExpression(true);
+      } else {
+        setCostPriceInput(value);
+        setCostPrice(value);
+        setIsValidExpression(false);
+      }
+    },
+    updateSalesPrice: (value: string) => {
+      setSalePrice(value);
+    }
+  }));
+
+  useEffect(() => {
+    if (lastCostPrice) {
+      setCostPrice(lastCostPrice);
+      setCostPriceInput(lastCostPrice);
+    }
+  }, [lastCostPrice]);
+
+  useEffect(() => {
+    // Use buybox winner price if available, otherwise use cheapest offer price
+    const initialSalePrice = buyboxWinnerPrice > 0 ? buyboxWinnerPrice : cheapestPrice;
+    setSalePrice(initialSalePrice.toString());
+  }, [buyboxWinnerPrice, cheapestPrice]);
+
+  useEffect(() => {
+    if (lastProfitabilityCalc) {
+      const data = fulfillmentType === "FBA" ? lastProfitabilityCalc.fba : lastProfitabilityCalc.fbm;
+      if (data) {
+        updateUIWithData(data);
+      }
+    }
+  }, [fulfillmentType, lastProfitabilityCalc]);
+
+  const updateUIWithData = (data: ProfitabilityData) => {
+    if (!data) return;
+
+    setFees({
+      referralFee: data.referralFee,
+      fulfillmentType: data.fulfillmentType,
+      fullfillmentFee: data.fullfillmentFee,
+      closingFee: data.closingFee,
+      storageFee: data.storageFee,
+      prepFee: Number(data.prepFee),
+      shippingFee: Number(data.shippingFee),
+      digitalServicesFee: data.digitalServicesFee,
+      miscFee: Number(data.miscFee),
+    });
+    setROI(data.roi);
+    setMinROI(data.minRoi);
+    setMinProfit(data.minProfit);
+    setProfitAmount(data.profitAmount);
+    setMaxCost(data.maxCost);
+    setTotalFees(data.totalFees);
+    setVatOnFees(data.vatOnFees);
+    setDiscount(data.discount);
+    setProfitMargin(data.profitMargin);
+    setBreakEvenPrice(data.breakevenSalePrice);
+    setEstimatedPayout(data.estimatedAmzPayout);
+  };
+
+  const evaluateExpression = (expression: string): { isValid: boolean; result: string } => {
+    try {
+      const result = evaluate(expression);
+      return { isValid: true, result: result.toString() };
+    } catch (error) {
+      console.error("Invalid mathematical expression", error);
+      return { isValid: false, result: expression };
+    }
+  };
+
+  const handleCalculateProfitability = useCallback(async () => {
+    if (!costPrice || !buyboxDetails) return;
+
+    if (isNaN(Number(costPrice))) {
+      message.error("Please enter a valid number for Cost Price");
+      return;
+    }
+    
+    onCalculationStart?.();
+    setIsCalculating(true);
+    try {
+      const body: CalculationBody = {
+        asin: asin,
+        marketplaceId: `${marketplaceId}`,
+        isAmazonFulfilled: fulfillmentType === "FBA",
+        currencyCode: currencyCode,
+        storage: storageMonths,
+        costPrice: costPrice,
+        salePrice: salePrice ? Number(salePrice) : buyboxWinnerPrice,
+        pointsNumber: 0,
+        pointsAmount: 0,
+      };
+
+      const response = await calculateProfitability({ body }).unwrap();
+      if (response.status === 200) {
+        setResponseData({
+          fba: response.data.fba,
+          fbm: response.data.fbm,
+        });
+        const data = fulfillmentType === "FBA" ? response.data.fba : response.data.fbm;
+        updateUIWithData(data);
+
+        if (onCalculationComplete && data) {
+          onCalculationComplete(data);
+        }
+      }
+    } catch (error: any) {
+      console.error("Calculation error:", error);
+      message.error(error?.data?.message as string);
+    } finally {
+      setIsCalculating(false);
+    }
+  }, [
+    costPrice,
+    salePrice,
+    storageMonths,
+    fulfillmentType,
+    asin,
+    marketplaceId,
+    currencyCode,
+    buyboxWinnerPrice,
+    calculateProfitability,
+    buyboxDetails,
+    onCalculationComplete,
+  ]);
+
+  const debouncedCalculationRef = useRef(
+    debounce(() => handleCalculateProfitability(), 500)
+  );
+
+  useEffect(() => {
+    debouncedCalculationRef.current = debounce(
+      () => handleCalculateProfitability(), 
+      500
+    );
+  }, [handleCalculateProfitability]);
+
+  useEffect(() => {
+    if (costPrice && !isNaN(Number(costPrice))) {
+      debouncedCalculationRef.current();
+    }
+    
+    return () => {
+      debouncedCalculationRef.current.cancel();
+    };
+  }, [costPrice, salePrice, storageMonths, fulfillmentType]);
+
+  const handleCostPriceChange = (e: React.ChangeEvent<HTMLInputElement>) => {
+    const inputValue = e.target.value;
+    setCostPriceInput(inputValue);
+
+    const { isValid, result } = evaluateExpression(inputValue);
+    setIsValidExpression(isValid);
+
+    if (isValid) {
+      setCostPrice(result);
+    }
+  };
+
+  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {
+    if (e.key === "Enter") {
+      e.preventDefault();
+      const { isValid, result } = evaluateExpression(costPriceInput);
+      if (isValid) {
+        setCostPriceInput(result);
+        setCostPrice(result);
+        setIsValidExpression(true);
+      } else {
+        setIsValidExpression(false);
+        message.error("Invalid mathematical expression");
+      }
+    }
+  };
+
+  const handleSalePriceChange = (e: React.ChangeEvent<HTMLInputElement>) => {
+    setSalePrice(e.target.value);
+  };
+
+  const formatValue = (value: string | number | null | undefined): string => {
+    if (value === null || value === undefined) return "N/A";
+    if (typeof value === "number") return `$${value.toFixed(2)}`;
+    return value;
+  };
+
+  const StrikethroughIfNull = ({ value, children }: { value: any; children: React.ReactNode }) => {
+    if (value === null) {
+      return <span style={{ textDecoration: "line-through" }}>{children}</span>;
+    }
+    return <>{children}</>;
+  };
+
+  if (isLoading || isLoadingBuyboxDetails) {
+    return (
+      <div className="rounded-xl bg-white p-3">
+        <div className="p-4">
+          <span className="bg-[#F3F4F6] px-3 py-1.5 rounded-3xl text-[#676A75] font-semibold text-sm w-max">
+            Profitability Calculator
+          </span>
+        </div>
+        <Skeleton active paragraph={{ rows: 6 }} />
+      </div>
+    );
+  }
+
+  const tabContent: Record<TabKey, JSX.Element> = {
+    maximumCost: (
+      <div className="px-2 flex flex-col gap-3">
+        <div className="flex gap-4 items-center justify-between text-[#8C94A3] text-sm font-medium">
+          <StrikethroughIfNull value={minROI}>
+            <AntTooltip
+              title="Minimum Return on Investment - The lowest acceptable percentage return on your investment for this product to be considered profitable."
+              placement="top"
+            >
+              <span>Min. ROI</span>
+            </AntTooltip>
+          </StrikethroughIfNull>
+          <StrikethroughIfNull value={minROI}>
+            <span className="text-[#596375]">{minROI || 0}%</span>
+          </StrikethroughIfNull>
+        </div>
+        <div className="flex gap-4 items-center justify-between text-[#8C94A3] text-sm font-medium">
+          <StrikethroughIfNull value={minProfit}>
+            <AntTooltip
+              title="Minimum Profit - The smallest dollar amount of profit you should accept when selling this product."
+              placement="top"
+            >
+              <span>Min. Profit</span>
+            </AntTooltip>
+          </StrikethroughIfNull>
+          <StrikethroughIfNull value={minProfit}>
+            <span className="text-[#596375]">${minProfit.toFixed(2)}</span>
+          </StrikethroughIfNull>
+        </div>
+        <div className="border-t pt-2 font-semibold flex gap-4 items-center justify-between text-[#8C94A3] text-sm">
+          <AntTooltip
+            title="The highest price you should pay for this product to maintain your target profit margin and ROI."
+            placement="top"
+          >
+            <span>Maximum Cost</span>
+          </AntTooltip>
+          <span className="text-[#596375]">${maxCost.toFixed(2)}</span>
+        </div>
+
+        {/* Additional metrics */}
+        <div className="flex gap-4 items-center justify-between text-[#8C94A3] text-sm font-medium">
+          <StrikethroughIfNull value={vatOnFees}>
+            <AntTooltip
+              title="Tax charged on the sale of your product that you need to collect and remit to tax authorities."
+              placement="top"
+            >
+              <span>VAT on Fees</span>
+            </AntTooltip>
+          </StrikethroughIfNull>
+          <span className="flex items-center gap-2">
+            <span className="w-[33px] h-2.5 rounded-3xl bg-gradient-to-r from-[#C4B5FD] to-[#7A5FE0]" />
+            <StrikethroughIfNull value={vatOnFees}>
+              <span className="text-[#596375]">{formatValue(vatOnFees)}</span>
+            </StrikethroughIfNull>
+          </span>
+        </div>
+        <div className="flex gap-4 items-center justify-between text-[#8C94A3] text-sm font-medium">
+          <StrikethroughIfNull value={discount}>
+            <AntTooltip
+              title="Any price reduction applied to the product, which reduces your overall revenue."
+              placement="top"
+            >
+              <span>Discount</span>
+            </AntTooltip>
+          </StrikethroughIfNull>
+          <span className="flex items-center gap-2">
+            <span className="w-[45px] h-2.5 rounded-3xl bg-gradient-to-r from-[#FF8551] to-[#E94F0E]" />
+            <StrikethroughIfNull value={discount}>
+              <span className="text-[#596375]">{formatValue(discount)}</span>
+            </StrikethroughIfNull>
+          </span>
+        </div>
+        <div className="flex gap-4 items-center justify-between text-[#8C94A3] text-sm font-medium">
+          <StrikethroughIfNull value={profitMargin}>
+            <AntTooltip
+              title="The percentage of profit relative to the sale price after all costs have been deducted."
+              placement="top"
+            >
+              <span>Profit Margin</span>
+            </AntTooltip>
+          </StrikethroughIfNull>
+          <span className="flex items-center gap-2">
+            <span className="w-[68px] h-2.5 rounded-3xl bg-gradient-to-r from-[#18CB96] to-[#0D8D67]" />
+            <StrikethroughIfNull value={profitMargin}>
+              <span className="text-[#596375]">{profitMargin.toFixed(2)}%</span>
+            </StrikethroughIfNull>
+          </span>
+        </div>
+        <div className="flex gap-4 items-center justify-between text-[#8C94A3] text-sm font-medium">
+          <StrikethroughIfNull value={breakEvenPrice}>
+            <AntTooltip
+              title="The minimum price you need to sell the product for to cover all costs without making or losing money."
+              placement="top"
+            >
+              <span>Breakeven Sale Price</span>
+            </AntTooltip>
+          </StrikethroughIfNull>
+          <span className="flex items-center gap-2">
+            <span className="w-[45px] h-2.5 rounded-3xl bg-gradient-to-r from-[#1499FF] to-[#0C5C99]" />
+            <StrikethroughIfNull value={breakEvenPrice}>
+              <span className="text-[#596375]">${breakEvenPrice.toFixed(2)}</span>
+            </StrikethroughIfNull>
+          </span>
+        </div>
+        <div className="flex gap-4 items-center justify-between text-[#8C94A3] text-sm font-medium">
+          <StrikethroughIfNull value={estimatedPayout}>
+            <AntTooltip
+              title="The approximate amount Amazon will pay you after deducting all fees and commissions."
+              placement="top"
+            >
+              <span className="underline">Estimated Amz. Payout</span>
+            </AntTooltip>
+          </StrikethroughIfNull>
+          <span className="flex items-center gap-2">
+            <span className="w-16 h-2.5 rounded-3xl bg-gradient-to-r from-[#6AD8DE] to-[#397578]" />
+            <StrikethroughIfNull value={estimatedPayout}>
+              <span className="text-[#596375]">${estimatedPayout.toFixed(2)}</span>
+            </StrikethroughIfNull>
+          </span>
+        </div>
+      </div>
+    ),
+    
+    totalFees: (
+      <div className="px-2 flex flex-col gap-3">
+        {Object.entries(fees).map(([key, value]) => {
+          const feeTooltips: Record<string, string> = {
+            referralFee: "Amazon's commission for selling your product on their platform, usually a percentage of the sale price.",
+            fulfillmentType: "The method used to fulfill orders (FBA: Fulfilled by Amazon, FBM: Fulfilled by Merchant).",
+            fullfillmentFee: "Fee charged by Amazon for picking, packing, and shipping your product (FBA only).",
+            closingFee: "Fixed fee applied to certain product categories.",
+            storageFee: "Fee charged for storing your product in Amazon's warehouses.",
+            prepFee: "Fee for any product preparation services provided by Amazon.",
+            shippingFee: "Cost to ship the product to the customer (primarily for FBM).",
+            digitalServicesFee: "Fee related to digital services or content.",
+            miscFee: "Any additional or miscellaneous fees not covered by other categories.",
+          };
+
+          const formattedKey = key.replace(/([A-Z])/g, " $1").replace(/^./, (str) => str.toUpperCase());
+
+          return (
+            <div key={key} className="flex gap-4 items-center justify-between text-[#8C94A3] text-sm font-medium">
+              <StrikethroughIfNull value={value}>
+                {feeTooltips[key] ? (
+                  <AntTooltip title={feeTooltips[key]} placement="top">
+                    <span className="cursor-help border-b border-dotted border-gray-400">
+                      {formattedKey}
+                    </span>
+                  </AntTooltip>
+                ) : (
+                  <span>{formattedKey}</span>
+                )}
+              </StrikethroughIfNull>
+              <StrikethroughIfNull value={value}>
+                <span className="text-[#596375]">{formatValue(value)}</span>
+              </StrikethroughIfNull>
+            </div>
+          );
+        })}
+        <div className="border-t pt-2 font-semibold flex gap-4 items-center justify-between text-[#8C94A3] text-sm">
+          <AntTooltip
+            title="The sum of all Amazon fees and expenses associated with selling this product."
+            placement="top"
+          >
+            <span>Total Fees</span>
+          </AntTooltip>
+          <span className="text-[#596375]">${totalFees.toFixed(2)}</span>
+        </div>
+      </div>
+    ),
+  };
+
+  return (
+    <div className="rounded-xl bg-white">
+      <div className="p-4">
+        <span className="bg-[#F3F4F6] px-3 py-1.5 rounded-3xl text-[#676A75] font-semibold text-sm w-max">
+          Profitability Calculator
+        </span>
+      </div>
+
+      <div className="p-4 lg:p-5 text-sm flex items-center gap-5 justify-between">
+        <p className="font-semibold">Fulfilment Type</p>
+
+        <div className="flex items-center gap-2">
+          <button
+            type="button"
+            onClick={() => setFulfillmentType("FBA")}
+            className={`rounded-3xl border px-3 py-1 text-xs font-semibold ${
+              fulfillmentType === "FBA"
+                ? "bg-[#FF8551] border-transparent text-white"
+                : "bg-transparent border-[#D2D2D2] text-[#B0B0B1]"
+            }`}
+          >
+            FBA
+          </button>
+          <button
+            type="button"
+            onClick={() => setFulfillmentType("FBM")}
+            className={`rounded-3xl border px-3 py-1 text-xs font-semibold ${
+              fulfillmentType === "FBM"
+                ? "bg-[#FF8551] border-transparent text-white"
+                : "bg-transparent border-[#D2D2D2] text-[#B0B0B1]"
+            }`}
+          >
+            FBM
+          </button>
+        </div>
+      </div>
+
+      <div className="p-4 lg:p-5">
+        <div className="text-[#676A75] text-sm flex flex-col gap-4">
+          <span className="flex gap-4 items-center justify-between">
+            <label htmlFor="cost_price">Cost Price</label>
+            <input
+              id="cost_price"
+              type="text"
+              placeholder={`${lastCostPrice || "0"} (e.g., 10+5*2)`}
+              value={costPriceInput}
+              onChange={handleCostPriceChange}
+              onBlur={() => {
+                const { isValid, result } = evaluateExpression(costPriceInput);
+                if (isValid) {
+                  setCostPriceInput(result);
+                  setCostPrice(result);
+                  setIsValidExpression(true);
+                } else {
+                  setIsValidExpression(false);
+                  message.error("Invalid mathematical expression");
+                }
+              }}
+              onKeyDown={handleKeyDown}
+              className={`text-[#596375] text-sm font-normal border rounded-[10px] px-3 py-2 outline-none transition-colors ${
+                isValidExpression ? "border-border focus:border-primary" : "border-red-500 focus:border-red-500"
+              }`}
+            />
+          </span>
+          {!isValidExpression && (
+            <p className="text-xs text-red-500 mt-1">Please enter a valid mathematical expression</p>
+          )}
+          <span className="flex gap-4 items-center justify-between">
+            <label htmlFor="sales_price">Sales Price</label>
+            <input
+              id="sales_price"
+              type="number"
+              value={salePrice}
+              onChange={handleSalePriceChange}
+              className="text-[#596375] text-sm font-normal border border-border focus:border-primary rounded-[10px] px-3 py-2 outline-none transition-colors"
+            />
+          </span>
+        </div>
+
+        {/* Storage Slider */}
+        <div className="mt-4 flex flex-col gap-2">
+          <label className="text-sm text-[#676A75]">Storage (Months): {storageMonths}</label>
+          <Slider 
+            value={storageMonths} 
+            onChange={(value: number) => setStorageMonths(value)} 
+            max={12} 
+            step={1} 
+          />
+          <div className="flex justify-between text-sm text-gray-500">
+            <span>0</span>
+            <span>12</span>
+          </div>
+        </div>
+
+        <div className="mt-5 flex flex-col gap-6">
+          <div className="bg-[#F3F4F6] rounded-3xl p-1.5 grid grid-cols-2 gap-2">
+            {Object.entries(tabLabels).map(([key, label]) => {
+              const isActive = key === activeTab;
+
+              const baseClasses =
+                "text-sm font-semibold px-4 py-2 rounded-3xl transition-colors";
+              const activeClasses =
+                "bg-white shadow-md shadow-[#00000008] text-[#333333]";
+              const inactiveClasses = "bg-transparent text-[#676A75]";
+
+              return (
+                <button
+                  key={key}
+                  type="button"
+                  onClick={() => setActiveTab(key as TabKey)}
+                  className={`${baseClasses} ${
+                    isActive ? activeClasses : inactiveClasses
+                  }`}
+                >
+                  {label}
+                </button>
+              );
+            })}
+          </div>
+
+          {/* Tab content */}
+          {isCalculating ? (
+            <div className="px-2">
+              <Skeleton active paragraph={{ rows: 4 }} />
+            </div>
+          ) : (
+            tabContent[activeTab]
+          )}
+        </div>
+      </div>
+    </div>
+  );
+});
+
+ProfitabilityCalculator.displayName = "ProfitabilityCalculator";
+
+export default ProfitabilityCalculator;
\ No newline at end of file
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/new/quick-info.tsx b/app/(dashboard)/dashboard/_components/prodComponents/new/quick-info.tsx
new file mode 100644
index 0000000..f90938c
--- /dev/null
+++ b/app/(dashboard)/dashboard/_components/prodComponents/new/quick-info.tsx
@@ -0,0 +1,774 @@
+"use client"
+/* eslint-disable @typescript-eslint/no-explicit-any */
+/* eslint-disable @typescript-eslint/no-unused-vars */
+import { BiChevronRight } from "react-icons/bi";
+import {  BSRIcon, PriceTagIcon, ProductSalesIcon, MaximumCostIcon, ROIIcon } from "../../icons";
+import Image from "next/image";
+import { Tooltip as AntTooltip, message } from "antd";
+import { useState, forwardRef, useImperativeHandle, useEffect, useRef } from "react";
+import { debounce } from "lodash";
+import AmazonIcon from "@/public/assets/svg/amazon-icon.svg"
+import { useAnalyzeMutation, useLazyPurchaseQuantityQuery } from "@/redux/api/totanAi"
+import { useAppDispatch } from "@/redux/hooks"
+import { 
+  createNewSession, 
+  updateCollectedData, 
+  updateConversationState,
+  addMessage,
+  updateAnalysisData,
+  updateSessionId
+} from "@/redux/slice/chatSlice"
+import Link from "next/link"
+import SalesAnalytics from "./sales-analytics";
+
+type Tab = "info" | "totan" | "analytics";
+
+interface AnalysisData {
+  session_id: string
+  score: number
+  category: string
+  breakdown: {
+    amazon_on_listing: number
+    fba_sellers: number
+    buy_box_eligible: number
+    variation_listing: number
+    sales_rank_impact: number
+    estimated_demand: number
+    offer_count: number
+    profitability: number
+  }
+  roi: number
+  profit_margin: number
+  monthly_sales: number
+}
+
+interface PurchaseQuantityData {
+  conservative_quantity: number
+  aggressive_quantity: number
+}
+
+interface Product {
+  last_profitability_calculation?: {
+    fba?: any
+  }
+  extra?: any
+}
+
+interface BuyboxDetails {
+  extra?: any
+}
+
+interface QuickInfoProps {
+  product?: Product
+  buyboxDetails?: BuyboxDetails
+  asin: string
+  marketplaceId: number
+  onNavigateToTotan?: () => void
+  onCostPriceChange?: (value: string) => void
+  onSalesPriceChange?: (value: string) => void
+}
+
+const QuickInfo = forwardRef<{ handleProfitabilityUpdate: (data: any) => void }, QuickInfoProps>(({ 
+  product, 
+  buyboxDetails, 
+  asin, 
+  marketplaceId, 
+  onNavigateToTotan,
+  onCostPriceChange,
+  onSalesPriceChange
+}, ref) => {
+  const dispatch = useAppDispatch()
+  const [activeTab, setActiveTab] = useState<Tab>("info");
+  const [latestProfitCalc, setLatestProfitCalc] = useState<any>(product?.last_profitability_calculation?.fba)
+  const [analysisData, setAnalysisData] = useState<AnalysisData | null>(null)
+  const [purchaseQuantityData, setPurchaseQuantityData] = useState<PurchaseQuantityData | null>(null)
+  const [isAnalyzing, setIsAnalyzing] = useState(false)
+  const [isLoadingQuantity, setIsLoadingQuantity] = useState(false)
+  const [messageApi, contextHolder] = message.useMessage();
+
+  // Local state for editable fields
+  const [editableCostPrice, setEditableCostPrice] = useState<string>("")
+  const [editableSalesPrice, setEditableSalesPrice] = useState<string>("")
+
+  // RTK Query hooks
+  const [analyzeMutation] = useAnalyzeMutation()
+  const [getPurchaseQuantity] = useLazyPurchaseQuantityQuery()
+
+  // Get the data from the correct sources
+  const extra = buyboxDetails?.extra || product?.extra
+  const profitabilityCalc = latestProfitCalc || product?.last_profitability_calculation?.fba
+
+  // Create debounced handlers for triggering calculations
+  const debouncedCostPriceUpdate = useRef(
+    debounce((value: string) => {
+      const numValue = parseFloat(value);
+      if (!isNaN(numValue) && numValue > 0) {
+        onCostPriceChange?.(value);
+      }
+    }, 500)
+  ).current;
+
+  const debouncedSalesPriceUpdate = useRef(
+    debounce((value: string) => {
+      const numValue = parseFloat(value);
+      if (!isNaN(numValue) && numValue > 0) {
+        onSalesPriceChange?.(value);
+      }
+    }, 500)
+  ).current;
+
+  // Initialize editable values when profitability calc changes
+  useEffect(() => {
+    if (profitabilityCalc?.costPrice) {
+      setEditableCostPrice(profitabilityCalc.costPrice)
+    }
+    if (profitabilityCalc?.salesPrice || extra?.buybox_price) {
+      setEditableSalesPrice(profitabilityCalc?.salesPrice || extra?.buybox_price)
+    }
+  }, [profitabilityCalc, extra])
+
+  // Reset states when ASIN changes
+  useEffect(() => {
+    setAnalysisData(null)
+    setPurchaseQuantityData(null)
+  }, [asin])
+
+  // Reset states when product changes
+  useEffect(() => {
+    setLatestProfitCalc(product?.last_profitability_calculation?.fba)
+  }, [product])
+
+  // Cleanup debounced functions on unmount
+  useEffect(() => {
+    return () => {
+      debouncedCostPriceUpdate.cancel();
+      debouncedSalesPriceUpdate.cancel();
+    };
+  }, [debouncedCostPriceUpdate, debouncedSalesPriceUpdate]);
+
+  // Expose the update function to the parent component
+  useImperativeHandle(ref, () => ({
+    handleProfitabilityUpdate: (data: any) => {
+      setLatestProfitCalc(data)
+      // Update local editable values
+      if (data?.costPrice) {
+        setEditableCostPrice(data.costPrice)
+      }
+      if (data?.salesPrice) {
+        setEditableSalesPrice(data.salesPrice)
+      }
+      // Trigger analysis when profitability is updated with the new data
+      if (data && activeTab === "totan") {
+        performAnalysis(data)
+      }
+    },
+  }))
+
+  // Handle cost price change with debounced calculation trigger
+  const handleCostPriceInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {
+    const value = e.target.value;
+    setEditableCostPrice(value);
+    
+    // Trigger debounced calculation as user types
+    debouncedCostPriceUpdate(value);
+  }
+
+  const handleCostPriceBlur = () => {
+    const numValue = parseFloat(editableCostPrice);
+    if (isNaN(numValue) || numValue <= 0) {
+      messageApi.error("Please enter a valid cost price");
+      // Reset to last valid value
+      setEditableCostPrice(profitabilityCalc?.costPrice || "0");
+    }
+  }
+
+  // Handle sales price change with debounced calculation trigger
+  const handleSalesPriceInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {
+    const value = e.target.value;
+    setEditableSalesPrice(value);
+    
+    // Trigger debounced calculation as user types
+    debouncedSalesPriceUpdate(value);
+  }
+
+  const handleSalesPriceBlur = () => {
+    const numValue = parseFloat(editableSalesPrice);
+    if (isNaN(numValue) || numValue <= 0) {
+      messageApi.error("Please enter a valid sales price");
+      // Reset to last valid value
+      setEditableSalesPrice(profitabilityCalc?.salesPrice || extra?.buybox_price || "0");
+    }
+  }
+
+  // Handle navigation to Totan with prefilled data
+  const handleNavigateToTotanWithData = async () => {
+    if (!profitabilityCalc?.costPrice || !asin || !marketplaceId) {
+     messageApi.warning('Missing required data for navigation')
+      return
+    }
+
+    try {
+      // Create new session in Redux
+      dispatch(createNewSession({ firstName: undefined }))
+      
+      // Update collected data with current profitability calculation
+      dispatch(updateCollectedData({
+        asin: asin,
+        costPrice: Number(profitabilityCalc.costPrice),
+        isAmazonFulfilled: profitabilityCalc.fulfillmentType === "FBA"
+      }))
+
+      // Add user messages to simulate the conversation flow
+      dispatch(addMessage({ 
+        sender: "user", 
+        text: asin 
+      }))
+      dispatch(addMessage({ 
+        sender: "user", 
+        text: profitabilityCalc.costPrice.toString() 
+      }))
+      dispatch(addMessage({ 
+        sender: "user", 
+        text: profitabilityCalc.fulfillmentType === "FBA" ? "yes" : "no"
+      }))
+
+      // Set conversation state to analyzing
+      dispatch(updateConversationState("analyzing"))
+
+      // Add analyzing message
+      dispatch(addMessage({
+        sender: "ai",
+        text: "Now analyzing your product... This may take a moment."
+      }))
+
+      // Perform the analysis
+      const result = await analyzeMutation({
+        asin: asin,
+        costPrice: Number(profitabilityCalc.costPrice),
+        marketplaceId: marketplaceId,
+        isAmazonFulfilled: profitabilityCalc.fulfillmentType === "FBA"
+      }).unwrap()
+
+      if (result.success) {
+        const analysis = result.data
+        dispatch(updateAnalysisData(analysis))
+        dispatch(updateSessionId(analysis.session_id))
+        dispatch(updateConversationState("chat_ready"))
+
+        // Add analysis result message
+        const analysisMessage = `Analysis Complete!
+
+Overall Score: ${analysis.score} (${analysis.category})
+
+Now you can ask me any questions about this product!`
+
+        dispatch(addMessage({
+          sender: "ai",
+          text: analysisMessage,
+          type: "analysis"
+        }))
+
+        // Try to get purchase quantity as well
+        try {
+          const quantityResult = await getPurchaseQuantity(asin).unwrap()
+          const quantityData = quantityResult.data
+        } catch (error) {
+          console.error("Failed to get purchase quantity:", error)
+        }
+
+        // Navigate to Totan component
+        if (onNavigateToTotan) {
+          onNavigateToTotan()
+        }
+      }
+    } catch (error) {
+      console.error("Failed to perform analysis for navigation:", error)
+      // Handle error - could add error message to chat
+      dispatch(addMessage({
+        sender: "ai",
+        text: "Sorry, I couldn't analyze this product. Please try again.",
+        type: "error"
+      }))
+      
+      if (onNavigateToTotan) {
+        onNavigateToTotan()
+      }
+    }
+  }
+
+  // Perform analysis
+  const performAnalysis = async (updatedProfitData?: any) => {
+    if (!asin || !marketplaceId) {
+      messageApi.warning('Missing asin or marketplaceId, skipping analysis')
+      return
+    }
+
+    // Use updated profit data if provided, otherwise use existing profitability calc
+    const currentProfitData = updatedProfitData || profitabilityCalc
+    
+    const costPrice = currentProfitData?.costPrice
+    const fulfillmentType = currentProfitData?.fulfillmentType || "FBA"
+    
+    if (!costPrice) {
+      messageApi.warning('No cost price available, skipping analysis')
+      return
+    }
+
+    setIsAnalyzing(true)
+    try {
+      const payload = {
+        asin,
+        costPrice: Number(costPrice),
+        marketplaceId,
+        isAmazonFulfilled: fulfillmentType === "FBA"
+      }
+
+      const response = await analyzeMutation(payload).unwrap()
+      
+      if (response.success) {
+        setAnalysisData(response.data)
+        messageApi.success('Analysis completed successfully!')
+      }
+    } catch (error) {
+      console.error("Analysis error:", error)
+      messageApi.error('Failed to analyze product. Please try again.')
+    } finally {
+      setIsAnalyzing(false)
+    }
+  }
+
+  // Fetch purchase quantity
+  const fetchPurchaseQuantity = async () => {
+    if (!asin) {
+      messageApi.warning('No ASIN provided, skipping purchase quantity fetch')
+      return
+    }
+
+    if (isLoadingQuantity) {
+      messageApi.warning('Already loading purchase quantity, skipping')
+      return
+    }
+
+    setIsLoadingQuantity(true)
+    try {
+      const response = await getPurchaseQuantity(asin).unwrap()
+      
+      if (response.success) {
+        setPurchaseQuantityData(response.data)
+        messageApi.success('Purchase quantity data loaded successfully!')
+      } else {
+        messageApi.error('Purchase quantity  unsuccessful response:', response)
+      }
+    } catch (error) {
+      messageApi.error(`Purchase quantity error`)
+    } finally {
+      setIsLoadingQuantity(false)
+    }
+  }
+
+  // Manual reload function for both analysis and purchase quantity
+  const handleReload = async () => {
+    if (!profitabilityCalc?.costPrice || !asin || !marketplaceId) {
+      messageApi.warning('Missing required data for reload. Please ensure profitability calculation is completed.')
+      return
+    }
+
+    messageApi.info('Refreshing analysis and purchase quantity data...')
+    
+    // Clear existing data first
+    setAnalysisData(null)
+    setPurchaseQuantityData(null)
+    
+    // Trigger both operations
+    await Promise.all([
+      performAnalysis(),
+      fetchPurchaseQuantity()
+    ])
+  }
+
+  // Trigger analysis and purchase quantity fetch when switching to totan tab
+  useEffect(() => {
+    if (activeTab === "totan" && asin && marketplaceId) {
+      // Trigger analysis if profitability calculation exists
+      if (profitabilityCalc?.costPrice) {
+        performAnalysis()
+      }
+      
+      // Always fetch purchase quantity when switching to totan tab (if not already loading)
+      fetchPurchaseQuantity()
+    }
+  }, [activeTab, asin, marketplaceId])
+
+  // Re-run analysis when profitability calculation changes and totan tab is active
+  useEffect(() => {
+    if (activeTab === "totan" && latestProfitCalc?.costPrice) {
+      performAnalysis(latestProfitCalc)
+    }
+  }, [latestProfitCalc, activeTab])
+
+  // Get score circle properties
+  const getScoreProperties = (score: number, category: string) => {
+    const normalizedScore = Math.max(0, Math.min(10, score))
+    const percentage = (normalizedScore / 10) * 100
+    const strokeDasharray = `${percentage}, 100`
+    
+    let color = "#10B981"
+    let bgColor = "#F0FDF4"
+    
+    if (category.toLowerCase() === "low") {
+      color = "#EF4444"
+      bgColor = "#FEF2F2"
+    } else if (category.toLowerCase() === "medium" || category.toLowerCase() === "average") {
+      color = "#F59E0B"
+      bgColor = "#FFFBEB"
+    } else if (category.toLowerCase() === "high" || category.toLowerCase() === "above average") {
+      color = "#10B981"
+      bgColor = "#F0FDF4"
+    }
+
+    return { strokeDasharray, color, bgColor }
+  }
+
+  // Get ROI text color based on roiIsOk
+  const getRoiTextColor = () => {
+    if (profitabilityCalc?.buying_criteria?.roiIsOk === true) {
+      return "text-green-600"
+    } else if (profitabilityCalc?.buying_criteria?.roiIsOk === false) {
+      return "text-red-600"
+    }
+    return ""
+  }
+
+  // Get Profit text color based on profitIsOk
+  const getProfitTextColor = () => {
+    if (profitabilityCalc?.buying_criteria?.profitIsOk === true) {
+      return "text-green-600"
+    } else if (profitabilityCalc?.buying_criteria?.profitIsOk === false) {
+      return "text-red-600"
+    }
+    return ""
+  }
+
+  // Get ROI tooltip message based on criteria
+  const getRoiTooltipMessage = () => {
+    const roi = profitabilityCalc?.roi ?? 0
+    const minRoi = profitabilityCalc?.minRoi ?? 0
+    
+    if (profitabilityCalc?.buying_criteria?.roiIsOk === true) {
+      return `Excellent ROI! This product's ${roi}% return exceeds your minimum requirement of ${minRoi}%, making it a profitable investment that meets your buying criteria.`
+    } else if (profitabilityCalc?.buying_criteria?.roiIsOk === false) {
+      return `ROI Below Target: This product's ${roi}% return is below your minimum requirement of ${minRoi}%. Consider finding a lower cost price or look for other products that meet your ROI criteria.`
+    }
+    return "Return on Investment - The percentage return you'll earn on your initial investment in this product."
+  }
+
+  // Get Profit tooltip message based on criteria
+  const getProfitTooltipMessage = () => {
+    const profitAmount = profitabilityCalc?.profitAmount ?? 0
+    const profitMargin = profitabilityCalc?.profitMargin ?? 0
+    const minProfit = profitabilityCalc?.minProfit ?? 0
+    
+    if (profitabilityCalc?.buying_criteria?.profitIsOk === true) {
+      return `Great Profit! This product generates $${profitAmount.toFixed(2)} (${profitMargin.toFixed(0)}%) which exceeds your minimum profit requirement of $${minProfit.toFixed(2)}, making it a solid choice for your business.`
+    } else if (profitabilityCalc?.buying_criteria?.profitIsOk === false) {
+      return `Profit Below Target: This product's profit of $${profitAmount.toFixed(2)} (${profitMargin.toFixed(0)}%) is below your minimum requirement of $${minProfit.toFixed(2)}. Consider negotiating a better cost price or look for higher-margin products.`
+    }
+    return "The total profit amount in dollars and profit margin percentage you can expect from selling this product."
+  }
+
+  // Get Maximum Cost tooltip message based on criteria
+  const getMaxCostTooltipMessage = () => {
+    const maxCost = profitabilityCalc?.maxCost ?? 0
+    const minRoi = profitabilityCalc?.minRoi ?? 0
+    const minProfit = profitabilityCalc?.minProfit ?? 0
+    
+    if (maxCost > 0) {
+      return `Smart Buying Guide: Based on your criteria (${minRoi}% min ROI, $${minProfit.toFixed(2)} min profit), don't pay more than $${maxCost.toFixed(2)} for this product. This ensures you'll meet your profit targets while maintaining your desired return on investment.`
+    }
+    return "The highest price you should pay for this product to maintain your target profit margin and ROI."
+  }
+
+  const scoreProperties = analysisData ? getScoreProperties(analysisData.score, analysisData.category) : null
+
+  return (
+    <>
+      {contextHolder}
+      <div className="rounded-xl bg-white h-full">
+        <div className="border-b border-[#E7EBEE] py-4 px-3 lg:p-5 flex items-center gap-1.5">
+          <span
+            onClick={() => setActiveTab("info")}
+            className={`${
+              activeTab === "info"
+                ? "bg-primary text-white"
+                : "bg-[#F3F4F6] text-[#676A75]"
+            } cursor-pointer px-2 py-1.5 rounded-3xl  font-semibold text-sm w-max`}
+          >
+            Quick Info
+          </span>
+          <span 
+          onClick={() => setActiveTab("analytics")}
+         className={`${
+              activeTab === "analytics"
+                ? "bg-primary text-white"
+                : "bg-[#F3F4F6] text-[#676A75]"
+            } cursor-pointer  px-2 py-1.5 rounded-3xl  font-semibold text-sm w-max`}>
+            Sales Analytics
+          </span>
+          <span
+            onClick={() => setActiveTab("totan")}
+            className={`${
+              activeTab === "totan"
+                ? "bg-primary text-white"
+                : "bg-[#F3F4F6] text-[#676A75]"
+            } cursor-pointer  px-2 py-1.5 rounded-3xl  font-semibold text-sm w-max`}
+          >
+            Totan (AI)
+          </span>
+        </div>
+
+        <div className="p-2 lg:p-2">
+          {activeTab === "info" && (
+            <div>
+              {/* BSR, Est. Sales, Max Cost - 3 column grid */}
+              <div className="mt-5 border border-[#E0E4EE] text-[#8E949F] rounded-[10px] text-xs flex divide-x divide-[#E0E4EE]">
+                <div className="flex-1 flex flex-col gap-0.5 p-4">
+                  <span className="flex items-center gap-1">
+                    BSR
+                    <span className="bg-[#FF8551] w-[12.5px] h-2 rounded-full" />
+                  </span>
+                  <p className="text-[#596375] font-bold text-base">{extra?.bsr ?? "0"}</p>
+                </div>
+                <div className="flex-1 flex flex-col gap-0.5 p-4 bg-[#FAFBFB]">
+                  <span className="flex items-center gap-1">
+                    Est. Sales
+                    <span className="bg-[#3895F9] w-[12.5px] h-2 rounded-full" />
+                  </span>
+                  <p className="text-[#596375] font-bold text-base">
+                    {extra?.monthly_est_product_sales?.toLocaleString() ?? "0"}/<span className="text-[#939EB2]">mo</span>
+                  </p>
+                </div>
+                <div className="flex-1 flex flex-col gap-0.5 p-4">
+                  <span className="flex items-center gap-1">
+                    Max Cost
+                    <span className="bg-primary w-[12.5px] h-2 rounded-full" />
+                  </span>
+                  <AntTooltip
+                    title={getMaxCostTooltipMessage()}
+                    placement="top"
+                  >
+                    <p className="text-[#596375] font-bold text-base cursor-help">
+                      $ {profitabilityCalc?.maxCost?.toFixed(2) ?? "0.00"}
+                    </p>
+                  </AntTooltip>
+                </div>
+              </div>
+
+              {/* Buy Box Price, Product Sales - 2 column grid */}
+              <div className="mt-5 border border-[#E0E4EE] text-[#8E949F] rounded-[10px] text-xs flex divide-x divide-[#E0E4EE]">
+                <div className="flex-1 flex flex-col gap-0.5 p-4">
+                  <span className="flex items-center gap-1">
+                    <PriceTagIcon  />
+                    Buy Box Price
+                  </span>
+                  <p className="text-[#596375] font-bold text-base">$ {extra?.buybox_price ?? "0"}</p>
+                </div>
+                <div className="flex-1 flex flex-col gap-0.5 p-4 bg-[#FAFBFB]">
+                  <span className="flex items-center gap-1">
+                    <ProductSalesIcon  />
+                    Product Sales
+                  </span>
+                  <p className="text-[#596375] font-bold text-base">
+                    {extra?.monthly_est_product_sales?.toLocaleString() ?? "0"}/<span className="text-[#939EB2]">mo</span>
+                  </p>
+                </div>
+              </div>
+
+              {/* Cost Price and Sales Price inputs - NOW WITH AUTO-CALCULATION */}
+              <div className="mt-5 text-[#676A75] font-medium text-xs grid grid-cols-2 gap-4">
+                <span className="flex flex-col gap-2">
+                  <label htmlFor="cost_price">Cost Price</label>
+                  <input
+                    id="cost_price"
+                    type="number"
+                    step="0.01"
+                    value={editableCostPrice}
+                    onChange={handleCostPriceInputChange}
+                    onBlur={handleCostPriceBlur}
+                    onKeyDown={(e) => {
+                      if (e.key === 'Enter') {
+                        e.currentTarget.blur()
+                      }
+                    }}
+                    className="text-[#596375] text-sm font-normal border border-border focus:border-primary rounded-[10px] px-3 py-2 outline-none transition-colors"
+                    placeholder="Enter cost price"
+                  />
+                </span>
+                <span className="flex flex-col gap-2">
+                  <label htmlFor="sales_price">Sales Price</label>
+                  <input
+                    id="sales_price"
+                    type="number"
+                    step="0.01"
+                    value={editableSalesPrice}
+                    onChange={handleSalesPriceInputChange}
+                    onBlur={handleSalesPriceBlur}
+                    onKeyDown={(e) => {
+                      if (e.key === 'Enter') {
+                        e.currentTarget.blur()
+                      }
+                    }}
+                    className="text-[#596375] text-sm font-normal border border-border focus:border-primary rounded-[10px] px-3 py-2 outline-none transition-colors"
+                    placeholder="Enter sales price"
+                  />
+                </span>
+              </div>
+
+              {/* Profit, Profit %, ROI - 3 column grid */}
+              <div className="mt-5 bg-[#FAFBFB] border border-[#E0E4EE] text-[#8E949F] rounded-[10px] text-xs flex divide-x divide-[#E0E4EE]">
+                <div className="flex-1 flex flex-col gap-0.5 p-4">
+                  <span className="flex items-center gap-1">
+                    Profit
+                    <span className="bg-primary w-[12.5px] h-2 rounded-full" />
+                  </span>
+                  <AntTooltip
+                    title={getProfitTooltipMessage()}
+                    placement="top"
+                  >
+                    <p className={`font-bold text-base cursor-help ${getProfitTextColor()}`}>
+                      $ {profitabilityCalc?.profitAmount?.toFixed(2) ?? "0.00"}
+                    </p>
+                  </AntTooltip>
+                </div>
+                <div className="flex-1 flex flex-col gap-0.5 p-4 ">
+                  <span className="flex items-center gap-1">
+                    Profit (%)
+                    <span className="bg-[#3895F9] w-[12.5px] h-2 rounded-full" />
+                  </span>
+                  <AntTooltip
+                    title={getProfitTooltipMessage()}
+                    placement="top"
+                  >
+                    <p className={`font-bold text-base cursor-help ${getProfitTextColor()}`}>
+                      {profitabilityCalc?.profitMargin?.toFixed(1) ?? "0.0"}%
+                    </p>
+                  </AntTooltip>
+                </div>
+                <div className="flex-1 flex flex-col gap-0.5 p-4">
+                  <span className="flex items-center gap-1">
+                    ROI
+                    <span className="bg-[#FF8551] w-[12.5px] h-2 rounded-full" />
+                  </span>
+                  <AntTooltip
+                    title={getRoiTooltipMessage()}
+                    placement="top"
+                  >
+                    <p className={`font-bold text-base cursor-help ${getRoiTextColor()}`}>
+                      {profitabilityCalc?.roi?.toFixed(1) ?? "0.0"}%
+                    </p>
+                  </AntTooltip>
+                </div>
+              </div>
+            </div>
+          )}
+
+          {activeTab === "totan" && (
+            <div className="flex flex-col gap-3">
+              {!profitabilityCalc?.costPrice ? (
+                <div className="flex flex-col items-center justify-center py-8 text-center">
+                  <div className=" rounded-lg p-6 max-w-md">
+                    <div className="text-primary mb-3">
+                      <svg className="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
+                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 14h.01M12 11h.01M12 7V4a1 1 0 00-1-1H9a1 1 0 00-1 1v3M5 7h14l-1 14H6L5 7z" />
+                      </svg>
+                    </div>
+                    <h3 className="text-lg font-semibold text-gray-900 mb-2">
+                      Profitability Calculation Required
+                    </h3>
+                    <p className="text-sm text-gray-600 mb-4">
+                      To access Totan AI analysis, please complete the profitability calculation first. 
+                      Enter your cost price and other details in the calculator above.
+                    </p>
+                    <div className="bg-primary/20 border border-primary rounded-md p-3">
+                      <p className="text-xs text-black">
+                        The AI analysis uses your profitability data to provide personalized insights and recommendations.
+                      </p>
+                    </div>
+                  </div>
+                </div>
+              ) : isAnalyzing ? (
+                <div className="flex items-center justify-center py-8">
+                  <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
+                  <span className="ml-2 text-sm text-gray-600">Analyzing product...</span>
+                </div>
+              ) : (
+                <>
+                  <div className="flex items-center justify-between">
+                    <div className="relative size-32">
+                      <svg className="w-full h-full transform -rotate-90" viewBox="0 0 36 36">
+                        <path
+                          className="text-[#F3F4F6]"
+                          stroke="currentColor"
+                          strokeWidth="3"
+                          fill="none"
+                          d="M18 2.0845
+                        a 15.9155 15.9155 0 0 1 0 31.831
+                        a 15.9155 15.9155 0 0 1 0 -31.831"
+                        />
+                      </svg>
+                      <div className="absolute inset-0 flex flex-col items-center justify-center text-xs">
+                        <span className="text-[10px] text-[#676A75] font-medium uppercase text-center">
+                          <p>{analysisData?.category.toUpperCase() || "ANALYZING"}</p>
+                        </span>
+                        <span className="text-lg font-semibold text-[#060606]">
+                          {analysisData?.score?.toFixed(1) || "0.0"}
+                        </span>
+                      </div>
+                    </div>
+
+                    <div className="flex flex-col gap-2">
+                      <Link href={`/totan`}>
+                        <div 
+                          className="bg-[#F3F4F6] rounded-lg p-3 text-[#676A75] text-sm hover:bg-primary hover:text-white cursor-pointer transition-colors duration-200"
+                          onClick={handleNavigateToTotanWithData}
+                          title="Click to open detailed analysis in Totan chat"
+                        >
+                          <p className="font-semibold">Analysis</p>
+                          <p>
+                            {analysisData ? 
+                              `Average Return On...` :
+                              "Calculating metrics..."
+                            }
+                          </p>
+                        </div>
+                      </Link>
+
+                      <div className="flex items-center gap-2 bg-muted rounded-md px-3 py-1 text-sm text-muted-foreground">
+                        <span className="bg-[#F3F4F6] rounded-lg p-2">
+                          <Image src={AmazonIcon || "/placeholder.svg"} alt="Amazon icon" width={32} height={32} />
+                        </span>
+                        <span className="bg-[#F3F4F6] rounded-lg p-3 text-[#676A75] text-xs">
+                          {analysisData?.breakdown?.amazon_on_listing && analysisData.breakdown.amazon_on_listing > 0 ? 
+                            "Amazon on listing" : 
+                            "Amazon not on listing"
+                          }
+                        </span>
+                      </div>
+                    </div>
+                  </div>
+                </>
+              )}
+            </div>
+          )}
+
+           {activeTab === "analytics" && (
+            <SalesAnalytics asin={asin} />
+           )}
+        </div>
+      </div>
+    </>
+  );
+});
+
+QuickInfo.displayName = "QuickInfo";
+
+export default QuickInfo;
\ No newline at end of file
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/new/sales-analytics.tsx b/app/(dashboard)/dashboard/_components/prodComponents/new/sales-analytics.tsx
new file mode 100644
index 0000000..0c5b8da
--- /dev/null
+++ b/app/(dashboard)/dashboard/_components/prodComponents/new/sales-analytics.tsx
@@ -0,0 +1,229 @@
+"use client";
+/* eslint-disable @typescript-eslint/no-explicit-any */
+/* eslint-disable @typescript-eslint/no-unused-vars */
+import { useState, useEffect } from "react";
+import { BsArrowDown, BsArrowUp } from "react-icons/bs";
+import { FaCheckCircle } from "react-icons/fa";
+import Image from "next/image";
+import { useGetSalesStatisticsQuery } from "@/redux/api/productsApi";
+import { useAppSelector } from "@/redux/hooks";
+import { useRouter } from "next/navigation";
+import CircularLoader from "@/utils/circularLoader";
+
+interface BuyBoxItem {
+  seller: string;
+  timestamp: string;
+}
+
+interface DateRange {
+  startDate: string;
+  endDate: string;
+}
+
+interface Product {
+  asin: string;
+  title: string;
+  image?: string;
+  upc?: string;
+}
+
+interface SalesAnalyticsProps {
+  //product?: Product | undefined;
+  asin?: string;
+  showProductHeader?: boolean;
+}
+
+const SalesAnalytics = ({  asin, showProductHeader = false }: SalesAnalyticsProps) => {
+  const router = useRouter();
+
+  // Calculate date range for previous month and current month
+  const getCurrentAndPreviousMonthRange = () => {
+    const now = new Date();
+    const currentYear = now.getFullYear();
+    const currentMonth = now.getMonth();
+    
+    // Start of previous month
+    const startOfPreviousMonth = new Date(currentYear, currentMonth - 1, 1);
+    
+    // End of current month
+    const endOfCurrentMonth = new Date(currentYear, currentMonth + 1, 0, 23, 59, 59);
+    
+    return {
+      startDate: startOfPreviousMonth.toISOString(),
+      endDate: endOfCurrentMonth.toISOString(),
+    };
+  };
+
+  const [dateRange] = useState<DateRange>(getCurrentAndPreviousMonthRange);
+
+  const { marketplaceId, currencyCode, currencySymbol } = useAppSelector(
+    (state) => state?.global
+  );
+
+  // Use the provided asin or fall back to product.asin
+  const productAsin = asin ;
+
+  // Fetch sales statistics
+  const { data: salesStatsData, isLoading: isLoadingSalesStats } =
+    useGetSalesStatisticsQuery(
+      {
+        marketplaceId,
+        itemAsin: productAsin,
+        startDate: dateRange.startDate,
+        endDate: dateRange.endDate,
+      },
+      { skip: !productAsin } // Only fetch when we have an ASIN
+    );
+
+  // Combine local data with fetched data, preferring fetched data when available
+  const salesStats = salesStatsData?.data || [];
+  const buyboxTimeline = salesStatsData?.data?.buybox_timeline || [];
+
+  // Format percentage with appropriate arrow
+  const formatPercentage = (value: number) => {
+    if (value > 0) {
+      return (
+        <p className="text-[#18CB96] flex items-center gap-1">
+          <BsArrowUp /> {Math.abs(value).toFixed(1)}%
+        </p>
+      );
+    } else if (value < 0) {
+      return (
+        <p className="text-[#FD3E3E] flex items-center gap-1">
+          <BsArrowDown /> {Math.abs(value).toFixed(1)}%
+        </p>
+      );
+    } else {
+      return <p className="text-gray-500 flex items-center gap-1">0%</p>;
+    }
+  };
+
+  if (isLoadingSalesStats) {
+    return (
+      <div className="rounded-xl bg-white p-2 lg:p-2">
+        <div className="flex items-center justify-center h-64">
+          <CircularLoader
+            duration={2000}
+            color="#18CB96"
+            size={64}
+            strokeWidth={4}
+          />
+        </div>
+      </div>
+    );
+  }
+
+  return (
+    <div className="rounded-xl bg-white p-2 lg:p-2">
+     
+
+      {/* Header */}
+      <div className="mb-4">
+      
+        <p className="text-sm text-[#595959]">
+          Data from previous month to current month
+        </p>
+      </div>
+
+      {/* Net Revenue Card */}
+      <div className="bg-[#FEF9F5] rounded-[10px] p-3 text-sm font-medium flex items-center gap-6 justify-between">
+        <span className="flex flex-col gap-1.5">
+          <p className="text-[#E88001]">Net Revenue</p>
+          <p className="text-black text-lg font-semibold">
+            {salesStats?.sales_analytics?.net_revenue?.currency || currencySymbol}
+            {salesStats?.sales_analytics?.net_revenue?.amount?.toLocaleString() || "55.82"}
+          </p>
+        </span>
+        {formatPercentage(
+          salesStats?.sales_analytics?.net_revenue?.percentage || 23.5
+        )}
+      </div>
+
+      {/* Price and Monthly Units Sold */}
+      <div className="mt-5 bg-[#FAFAFB] border border-[#E0E4EE] text-[#595959] rounded-[10px] text-sm flex divide-x divide-[#E0E4EE]">
+        <div className="flex-1 flex flex-col gap-1 p-3">
+          {formatPercentage(
+            salesStats?.sales_analytics?.price?.percentage || 23.5
+          )}
+          <p className="flex items-center gap-1">Price</p>
+          <p className="text-[#596375] font-bold text-lg">
+            {salesStats?.sales_analytics?.price?.currency || currencySymbol}
+            {salesStats?.sales_analytics?.price?.amount?.toLocaleString() || "34.19"}
+          </p>
+        </div>
+
+        <div className="flex-1 flex flex-col gap-1 p-3">
+          {formatPercentage(
+            salesStats?.sales_analytics?.monthly_units_sold?.percentage || 23.5
+          )}
+          <p className="flex items-center gap-1">Monthly Units Sold</p>
+          <p className="text-[#596375] font-bold text-lg">
+            {salesStats?.sales_analytics?.monthly_units_sold?.amount?.toLocaleString() || "8000"} / month
+          </p>
+        </div>
+      </div>
+
+      {/* Daily Units Sold and Monthly Revenue */}
+      <div className="mt-4 border border-[#E0E4EE] text-[#595959] rounded-[10px] text-sm flex divide-x divide-[#E0E4EE]">
+        <div className="flex-1 flex flex-col gap-1 p-3">
+          {formatPercentage(
+            salesStats?.sales_analytics?.daily_units_sold?.percentage || -23.5
+          )}
+          <p className="flex items-center gap-1">Daily Units Sold</p>
+          <p className="text-[#596375] font-bold text-lg">
+            {salesStats?.sales_analytics?.daily_units_sold?.amount?.toLocaleString() || "573"}
+          </p>
+        </div>
+
+        <div className="flex-1 flex flex-col gap-1 p-3">
+          {formatPercentage(
+            salesStats?.sales_analytics?.monthly_revenue?.percentage || 23.5
+          )}
+          <p className="flex items-center gap-1">Monthly Revenue</p>
+          <p className="text-[#596375] font-bold text-lg">
+            {salesStats?.sales_analytics?.monthly_revenue?.currency || currencySymbol}
+            {salesStats?.sales_analytics?.monthly_revenue?.amount?.toLocaleString() || "481,278"}
+          </p>
+        </div>
+      </div>
+
+      {/* Additional Details */}
+      <div className="mt-5 flex flex-col gap-1.5 text-sm text-[#595959] px-2">
+        <span className="flex items-center gap-4 justify-between">
+          <p>Date First Available</p>
+          <p className="text-black font-semibold">
+            {salesStats?.date_first_available
+              ? new Date(salesStats.date_first_available).toLocaleDateString()
+              : "07/05/2021"}
+          </p>
+        </span>
+        <span className="flex items-center gap-4 justify-between">
+          <p>Seller Type</p>
+          <p className="text-black font-semibold">
+            {salesStats?.seller_type || "AMZ"}
+          </p>
+        </span>
+        <span className="flex items-center gap-4 justify-between">
+          <p>No of Sellers</p>
+          <p className="text-black font-semibold flex items-center gap-2">
+            <span className="bg-[#009F6D0A] py-1 px-2 rounded-full text-[8px] text-[#008E61] flex items-center gap-1">
+              <BsArrowUp />
+              23.5%
+            </span>
+            {salesStats?.number_of_sellers || "5"} Sellers
+          </p>
+        </span>
+        <span className="flex items-center gap-4 justify-between">
+          <p>Estimated Sales</p>
+          <p className="text-black font-semibold">
+            {salesStats?.estimated_sales_per_month?.amount?.toLocaleString() || "0"} / month
+          </p>
+        </span>
+      </div>
+
+     
+    </div>
+  );
+};
+
+export default SalesAnalytics;
\ No newline at end of file
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/new/top-sellers.tsx b/app/(dashboard)/dashboard/_components/prodComponents/new/top-sellers.tsx
new file mode 100644
index 0000000..440d89f
--- /dev/null
+++ b/app/(dashboard)/dashboard/_components/prodComponents/new/top-sellers.tsx
@@ -0,0 +1,263 @@
+/* eslint-disable @typescript-eslint/no-unused-vars */
+import { useState } from "react";
+import { useGetBuyboxDetailsQuery } from "@/redux/api/productsApi";
+import { useRouter } from "next/navigation";
+import { Tooltip } from "antd";
+import { HiOutlineUsers } from "react-icons/hi";
+import { MdOutlineInsertChartOutlined } from "react-icons/md";
+import { ImSpinner9 } from "react-icons/im";
+import { FaStar, FaStarHalfAlt, FaRegStar } from "react-icons/fa"; // <-- Import all needed star icons
+import { GoDotFill } from "react-icons/go";
+import OffersAndSellerFeedback from "./offers-and-seller-feedback";
+import { CustomSelect as Select } from "@/lib/AntdComponents";
+import ProductDatePicker from "./datePicker";
+
+type BuyboxItem = {
+  seller: string;
+  rating: number;
+  review_count: number;
+  stock_quantity: number;
+  listing_price: number;
+  weight_percentage: number;
+  is_buybox_winner: boolean;
+  seller_id: string;
+  seller_type: "FBA" | "FBM" | "AMZ";
+  seller_feedback?: {
+    avg_price?: number;
+    percentage_won?: number;
+    last_won?: string;
+  };
+};
+
+interface TopSellersProps {
+  asin: string;
+  marketplaceId: number;
+}
+
+const TopSellers = ({ asin, marketplaceId }: TopSellersProps) => {
+  const [active, setActive] = useState("offers");
+  const [itemsToShow, setItemsToShow] = useState(3);
+  const [loadingMore, setLoadingMore] = useState(false);
+  const router = useRouter();
+
+  const { data: buyboxDetailsData, isLoading } = useGetBuyboxDetailsQuery({
+    marketplaceId,
+    itemAsin: asin,
+  });
+
+  const buyboxDetails: BuyboxItem[] = buyboxDetailsData?.data?.buybox ?? [];
+
+  const sortedBuyboxDetails = [...buyboxDetails].sort(
+    (a, b) => a.listing_price - b.listing_price
+  );
+
+  const offersData = {
+    offers: sortedBuyboxDetails.map((offer, index) => ({
+      id: index + 1,
+      seller: offer.seller || "N/A",
+      rating: typeof offer.rating === 'number' ? offer.rating : 0, // Ensure rating is a number
+      review_count: offer.review_count || "N/A",
+      stock: offer.stock_quantity ?? "N/A",
+      price: offer.listing_price ? `${offer.listing_price.toFixed(2)}` : "N/A",
+      buyboxShare:
+        offer.weight_percentage != null ? `${offer.weight_percentage}%` : "N/A",
+      leader: offer.is_buybox_winner || false,
+      seller_id: offer.seller_id || "N/A",
+      seller_type: offer.seller_type || "N/A",
+    })),
+  };
+
+  const sellerFeedbackData = sortedBuyboxDetails.map((seller, index) => ({
+    id: index + 1,
+    seller: seller.seller,
+    rating: seller.rating,
+    review_count: seller.review_count,
+    sellerId: seller.seller_id,
+    seller_type: seller.seller_type,
+    avgPrice: `${seller.seller_feedback?.avg_price?.toFixed(2) ?? "N/A"}`,
+    won: `${seller.seller_feedback?.percentage_won ?? 0}%`,
+    lastWon: seller.seller_feedback?.last_won
+      ? new Date(seller.seller_feedback.last_won).toLocaleDateString()
+      : "N/A",
+  }));
+
+  const displayedOffers = offersData.offers.slice(0, itemsToShow);
+  const displayedFeedback = sellerFeedbackData.slice(0, itemsToShow);
+  const fbaCount = offersData.offers.filter((o) => o.seller_type === "FBA").length;
+  const fbmCount = offersData.offers.filter((o) => o.seller_type === "FBM").length;
+  const amzCount = offersData.offers.filter((o) => o.seller_type === "AMZ").length;
+
+  const handleLoadMore = () => {
+    setLoadingMore(true);
+    setTimeout(() => {
+      setItemsToShow(itemsToShow + 5);
+      setLoadingMore(false);
+    }, 1500);
+  };
+  
+  const getSellerColor = (type: string) => {
+    switch (type) {
+      case "FBA": return "#0F172A";
+      case "FBM": return "#00E4E4";
+      case "AMZ": return "#F97316";
+      default: return "#6B7280";
+    }
+  };
+
+  // Helper function to render stars based on rating
+  const renderStars = (rating: number) => {
+    const stars = [];
+    const fullStars = Math.floor(rating);
+    const hasHalfStar = rating % 1 !== 0;
+
+    for (let i = 0; i < fullStars; i++) {
+      stars.push(<FaStar key={`full-${i}`} />);
+    }
+
+    if (hasHalfStar) {
+      stars.push(<FaStarHalfAlt key="half" />);
+    }
+
+    const emptyStars = 5 - stars.length;
+    for (let i = 0; i < emptyStars; i++) {
+      stars.push(<FaRegStar key={`empty-${i}`} />);
+    }
+
+    return <div className="flex text-yellow-400 mt-1 gap-0.5">{stars.map(star => ({...star, props: {...star.props, className: "size-3"}}))}</div>;
+  };
+
+  if (isLoading) {
+    return (
+      <div className="rounded-xl bg-white p-4 lg:p-5 h-64 flex justify-center items-center">
+        <ImSpinner9 className="animate-spin size-8 text-primary" />
+      </div>
+    );
+  }
+
+  return (
+    <div className="rounded-xl bg-white p-4 lg:p-5">
+      <div className=" flex justify-between items-center flex-wrap gap-3">
+        {/* TABS */}
+        <div className="flex items-center gap-3">
+          <button
+            onClick={() => setActive("offers")}
+            className={` ${
+              active === "offers"
+                ? "bg-primary text-white"
+                : "bg-[#F3F4F6] text-[#676A75]"
+            }  px-3 py-1.5 rounded-3xl  font-semibold text-sm w-max flex items-center gap-1.5`}
+          >
+            <HiOutlineUsers className="size-5" />
+            Offers
+          </button>
+          <button
+            type="button"
+            className={` ${
+              active === "feedback"
+                ? "bg-primary text-white"
+                : "bg-[#F3F4F6] text-[#676A75]"
+            }  px-3 py-1.5 rounded-3xl  font-semibold text-sm w-max flex items-center gap-1.5`}
+            onClick={() => setActive("feedback")}
+          >
+            <MdOutlineInsertChartOutlined className="size-5" />
+            Seller Feedback
+          </button>
+        </div>
+        {/* FILTERS */}
+        <div className="flex items-center gap-3">
+        
+          <ProductDatePicker />
+        </div>
+      </div>
+
+      {active === "offers" ? (
+        <div  className="mt-5 max-h-[300px] overflow-y-scroll show-scrollbar">
+          <table className="min-w-full text-left text-sm text-gray-700">
+            <thead>
+              <tr className="border-b bg-[#F7F7F7] font-medium">
+                <th className="p-4 w-[70px]">#</th>
+                <th className="p-4">Seller</th>
+                <th className="p-4">Price</th>
+                <th className="p-4">Stock</th>
+                <th className="p-4">Buybox Share</th>
+              </tr>
+            </thead>
+            <tbody>
+              {displayedOffers.length > 0 ? (
+                displayedOffers.map((offer) => (
+                  <tr key={offer.id} className="border-b last:border-none text-[#252525] text-sm">
+                    <td className="p-4 flex items-center gap-3">
+                      {offer.id}
+                      <GoDotFill color={getSellerColor(offer.seller_type)} />
+                    </td>
+                    <td className="p-4 min-w-[160px]">
+                       <Tooltip title={`Rating: ${offer.rating} (${offer.review_count} reviews)`} placement="topLeft">
+                          <div
+                            onClick={() => router.push(`/seller/${offer.seller_id}`)}
+                            className="cursor-pointer"
+                          >
+                            <div className="flex items-center gap-1.5">
+                             
+                              <p className="truncate font-medium">{offer.seller} ({offer.review_count})</p>
+                            </div>
+                            {offer.leader && <span className="text-xs text-primary block mt-1">BuyBox Leader</span>}
+                          </div>
+                        </Tooltip>
+                        {renderStars(offer.rating)}
+                    </td>
+                    <td className="p-4">${offer.price}</td>
+                    <td className="p-4">{offer.stock}</td>
+                    <td className="p-4">
+                      <div className="flex gap-2 items-center">
+                         <Tooltip title={`Wins the Buy Box ${offer.buyboxShare} of the time`} placement="top">
+                            <span>{offer.buyboxShare}</span>
+                         </Tooltip>
+                         <div className="w-20 h-2 bg-gray-200 rounded-full">
+                           <div
+                             className="h-2 bg-green-500 rounded-full"
+                             style={{ width: offer.buyboxShare && offer.buyboxShare !== "N/A" ? offer.buyboxShare : "0" }}
+                           />
+                         </div>
+                       </div>
+                    </td>
+                  </tr>
+                ))
+              ) : (
+                <tr>
+                  <td colSpan={5} className="text-center p-6 text-gray-500">
+                    No offers available for this product.
+                  </td>
+                </tr>
+              )}
+            </tbody>
+          </table>
+        </div>
+      ) : (
+        <OffersAndSellerFeedback feedbackData={displayedFeedback} router={router} />
+      )}
+
+      {/* FOOTER */}
+      <div className=" mt-5 px-5 flex justify-between items-center">
+        <div className=" flex items-start gap-3 flex-wrap">
+          {fbaCount > 0 && <button className=" h-[28px] px-3 bg-[#4D4D4D] text-white text-xs font-medium rounded-xl">FBA: {fbaCount}</button>}
+          {fbmCount > 0 && <button className=" h-[28px] px-3 bg-[#18CB96] text-white text-xs font-medium rounded-xl">FBM: {fbmCount}</button>}
+          {amzCount > 0 && <button className=" h-[28px] px-3 bg-orange-400 text-white text-xs font-medium rounded-xl">AMZ: {amzCount}</button>}
+        </div>
+
+        <div>
+          {offersData.offers.length > itemsToShow && (
+             <button
+              onClick={handleLoadMore}
+              className="text-[#18CB96] text-sm underline disabled:text-gray-400 disabled:no-underline"
+              disabled={loadingMore}
+            >
+              {loadingMore ? "Loading..." : "View more"}
+            </button>
+          )}
+        </div>
+      </div>
+    </div>
+  );
+};
+
+export default TopSellers;
\ No newline at end of file
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/product-info.tsx b/app/(dashboard)/dashboard/_components/prodComponents/product-info.tsx
index 2d491a8..9c3ad78 100644
--- a/app/(dashboard)/dashboard/_components/prodComponents/product-info.tsx
+++ b/app/(dashboard)/dashboard/_components/prodComponents/product-info.tsx
@@ -5,6 +5,7 @@ import { Tooltip as AntTooltip, message } from "antd"
 //import { Copy, Check } from "lucide-react"
 import { BsCopy } from "react-icons/bs";
 import { LuCheck } from "react-icons/lu";
+//import { Copy, Check } from "lucide-react"
 import { useState } from "react"
 import ProductThumbnail from "@/public/assets/images/women-shoes.png"
 import Illustration from "@/public/assets/svg/illustration.svg"
diff --git a/app/(dashboard)/dashboard/_components/prodComponents/product-stats.tsx b/app/(dashboard)/dashboard/_components/prodComponents/product-stats.tsx
index cb4fb4a..4ae0b7f 100644
--- a/app/(dashboard)/dashboard/_components/prodComponents/product-stats.tsx
+++ b/app/(dashboard)/dashboard/_components/prodComponents/product-stats.tsx
@@ -3,14 +3,21 @@
 /* eslint-disable @typescript-eslint/no-unused-vars */
 import { InfoCard } from "../info-card"
 import { BSRIcon, PriceTagIcon, ProductSalesIcon, MaximumCostIcon, ROIIcon } from "../icons"
-import { Skeleton, Tooltip as AntTooltip, message } from "antd"
+import { Skeleton, Tooltip as AntTooltip } from "antd"
 import type { Product } from "./types"
 import { useState, forwardRef, useImperativeHandle, useEffect } from "react"
 import Image from "next/image"
 import AmazonIcon from "@/public/assets/svg/amazon-icon.svg"
-
+import { useAnalyzeMutation, useLazyPurchaseQuantityQuery } from "@/redux/api/totanAi"
 import { useAppDispatch } from "@/redux/hooks"
-
+import { 
+  createNewSession, 
+  updateCollectedData, 
+  updateConversationState,
+  addMessage,
+  updateAnalysisData,
+  updateSessionId
+} from "@/redux/slice/chatSlice"
 import Link from "next/link"
 
 interface ProductStatsProps {
@@ -24,47 +31,333 @@ interface ProductStatsProps {
 
 type Tab = "info" | "totan"
 
+interface AnalysisData {
+  session_id: string
+  score: number
+  category: string
+  breakdown: {
+    amazon_on_listing: number
+    fba_sellers: number
+    buy_box_eligible: number
+    variation_listing: number
+    sales_rank_impact: number
+    estimated_demand: number
+    offer_count: number
+    profitability: number
+  }
+  roi: number
+  profit_margin: number
+  monthly_sales: number
+}
 
+interface PurchaseQuantityData {
+  conservative_quantity: number
+  aggressive_quantity: number
+}
 
 const ProductStats = forwardRef(({ 
   product, 
   isLoading, 
   buyboxDetails, 
- 
+  asin, 
+  marketplaceId, 
+  onNavigateToTotan 
 }: ProductStatsProps, ref) => {
   const dispatch = useAppDispatch()
   const [activeTab, setActiveTab] = useState<Tab>("info")
   const [latestProfitCalc, setLatestProfitCalc] = useState<any>(product?.last_profitability_calculation?.fba)
+  const [analysisData, setAnalysisData] = useState<AnalysisData | null>(null)
+  // const [purchaseQuantityData, setPurchaseQuantityData] = useState<PurchaseQuantityData | null>(null)
+  const [isAnalyzing, setIsAnalyzing] = useState(false)
+  // const [isLoadingQuantity, setIsLoadingQuantity] = useState(false)
+  const [analysisError, setAnalysisError] = useState<string | null>(null)
 
-
-  const [messageApi, contextHolder] = message.useMessage();
-
-
+  // RTK Query hooks
+  const [analyzeMutation] = useAnalyzeMutation()
+  // const [getPurchaseQuantity] = useLazyPurchaseQuantityQuery()
 
   // Get the data from the correct sources
   const extra = buyboxDetails?.extra || product?.extra
   const profitabilityCalc = latestProfitCalc || product?.last_profitability_calculation?.fba
 
-
+  // Reset states when ASIN changes
+  useEffect(() => {
+    console.log('ASIN changed, resetting states:', asin)
+    setAnalysisData(null)
+    // setPurchaseQuantityData(null)
+    setAnalysisError(null)
+  }, [asin])
 
   // Reset states when product changes
   useEffect(() => {
     setLatestProfitCalc(product?.last_profitability_calculation?.fba)
   }, [product])
 
- 
+  // Expose the update function to the parent component
+  useImperativeHandle(ref, () => ({
+    handleProfitabilityUpdate: (data: any) => {
+      console.log('Profitability updated:', data)
+      setLatestProfitCalc(data)
+      // Trigger analysis when profitability is updated with the new data
+      if (data && activeTab === "totan") {
+        performAnalysis(data)
+      }
+    },
+  }))
+
+  // Handle navigation to Totan with prefilled data
+  const handleNavigateToTotanWithData = async () => {
+    if (!profitabilityCalc?.costPrice || !asin || !marketplaceId) {
+      console.log('Missing required data for navigation')
+      return
+    }
+
+    try {
+      // Create new session in Redux
+      dispatch(createNewSession({ firstName: undefined }))
+      
+      // Update collected data with current profitability calculation
+      dispatch(updateCollectedData({
+        asin: asin,
+        costPrice: Number(profitabilityCalc.costPrice),
+        isAmazonFulfilled: profitabilityCalc.fulfillmentType === "FBA"
+      }))
+
+      // Add user messages to simulate the conversation flow
+      dispatch(addMessage({ 
+        sender: "user", 
+        text: asin 
+      }))
+      dispatch(addMessage({ 
+        sender: "user", 
+        text: profitabilityCalc.costPrice.toString() 
+      }))
+      dispatch(addMessage({ 
+        sender: "user", 
+        text: profitabilityCalc.fulfillmentType === "FBA" ? "yes" : "no"
+      }))
+
+      // Set conversation state to analyzing
+      dispatch(updateConversationState("analyzing"))
+
+      // Add analyzing message
+      dispatch(addMessage({
+        sender: "ai",
+        text: " Now analyzing your product... This may take a moment."
+      }))
+
+      // Perform the analysis
+      const result = await analyzeMutation({
+        asin: asin,
+        costPrice: Number(profitabilityCalc.costPrice),
+        marketplaceId: marketplaceId,
+        isAmazonFulfilled: profitabilityCalc.fulfillmentType === "FBA"
+      }).unwrap()
+
+      if (result.success) {
+        const analysis = result.data
+        dispatch(updateAnalysisData(analysis))
+        dispatch(updateSessionId(analysis.session_id))
+        dispatch(updateConversationState("chat_ready"))
+
+        // Add analysis result message
+        const analysisMessage = ` **Analysis Complete!**
+
+ **Overall Score**: ${analysis.score} (${analysis.category})
+
+Now you can ask me any questions about this product! `
+
+        dispatch(addMessage({
+          sender: "ai",
+          text: analysisMessage,
+          type: "analysis"
+        }))
+
+        // Try to get purchase quantity as well
+        /* 
+        try {
+          const quantityResult = await getPurchaseQuantity(asin).unwrap()
+          const quantityData = quantityResult.data
+          const quantityMessage = ` **Purchase Quantity Recommendations:**
+ **Conservative Approach**: ${Math.round(quantityData.conservative_quantity)} units
+ **Aggressive Approach**: ${Math.round(quantityData.aggressive_quantity)} units`
+          
+          dispatch(addMessage({
+            sender: "ai",
+            text: quantityMessage,
+            type: "analysis"
+          }))
+        } catch (error) {
+          console.error("Failed to get purchase quantity:", error)
+        }
+        */
+
+        // Navigate to Totan component
+        if (onNavigateToTotan) {
+          onNavigateToTotan()
+        }
+      }
+    } catch (error) {
+      console.error("Failed to perform analysis for navigation:", error)
+      // Handle error - could add error message to chat
+      dispatch(addMessage({
+        sender: "ai",
+        text: " Sorry, I couldn't analyze this product. Please try again.",
+        type: "error"
+      }))
+      
+      if (onNavigateToTotan) {
+        onNavigateToTotan()
+      }
+    }
+  }
+
+  // Perform analysis
+  const performAnalysis = async (updatedProfitData?: any) => {
+    console.log('performAnalysis called:', { asin, marketplaceId, hasUpdatedData: !!updatedProfitData })
+    
+    if (!asin || !marketplaceId) {
+      console.log('Missing asin or marketplaceId, skipping analysis')
+      return
+    }
+
+    // Use updated profit data if provided, otherwise use existing profitability calc
+    const currentProfitData = updatedProfitData || profitabilityCalc
+    
+    const costPrice = currentProfitData?.costPrice
+    const fulfillmentType = currentProfitData?.fulfillmentType || "FBA"
+    
+    if (!costPrice) {
+      console.log('No cost price available, skipping analysis')
+      return
+    }
+
+    setIsAnalyzing(true)
+    setAnalysisError(null) // Clear any previous errors
+    
+    try {
+      const payload = {
+        asin,
+        costPrice: Number(costPrice),
+        marketplaceId,
+        isAmazonFulfilled: fulfillmentType === "FBA"
+      }
+
+      console.log('Sending analysis payload:', payload)
+      const response = await analyzeMutation(payload).unwrap()
+      console.log('Analysis response:', response)
+      
+      if (response.success) {
+        setAnalysisData(response.data)
+        setAnalysisError(null)
+      } else {
+        setAnalysisError(response.message || "Analysis failed. Please try again.")
+      }
+    } catch (error: any) {
+      console.error("Analysis error:", error)
+      const errorMessage = error?.data?.message || error?.message || "Failed to analyze product. Please check your connection and try again."
+      setAnalysisError(errorMessage)
+    } finally {
+      setIsAnalyzing(false)
+    }
+  }
 
-  
+  // Fetch purchase quantity
+  /* 
+  const fetchPurchaseQuantity = async () => {
+    console.log('fetchPurchaseQuantity called:', { asin, isLoadingQuantity })
+    
+    if (!asin) {
+      console.log('No ASIN provided, skipping purchase quantity fetch')
+      return
+    }
 
- 
+    if (isLoadingQuantity) {
+      console.log('Already loading purchase quantity, skipping')
+      return
+    }
 
- 
+    setIsLoadingQuantity(true)
+    try {
+      console.log('Making purchase quantity API call for ASIN:', asin)
+      const response = await getPurchaseQuantity(asin).unwrap()
+      console.log('Purchase quantity response:', response)
+      
+      if (response.success) {
+        setPurchaseQuantityData(response.data)
+      } else {
+        console.warn('Purchase quantity API returned unsuccessful response:', response)
+      }
+    } catch (error) {
+      console.error("Purchase quantity error:", error)
+    } finally {
+      setIsLoadingQuantity(false)
+    }
+  }
+  */
 
+  // Trigger analysis and purchase quantity fetch when switching to totan tab
+  useEffect(() => {
+    console.log('Tab/ASIN/MarketplaceId effect triggered:', {
+      activeTab,
+      asin,
+      marketplaceId,
+      hasProfitCalc: !!profitabilityCalc?.costPrice,
+      hasAnalysisData: !!analysisData,
+      // hasPurchaseData: !!purchaseQuantityData
+    })
+
+    if (activeTab === "totan" && asin && marketplaceId) {
+      // Trigger analysis if profitability calculation exists
+      if (profitabilityCalc?.costPrice) {
+        console.log('Triggering analysis for tab switch')
+        performAnalysis()
+      }
+      
+      // Always fetch purchase quantity when switching to totan tab (if not already loading)
+      /* 
+      console.log('Triggering purchase quantity fetch for tab switch')
+      fetchPurchaseQuantity()
+      */
+    }
+  }, [activeTab, asin, marketplaceId])
 
+  // Re-run analysis when profitability calculation changes and totan tab is active
+  useEffect(() => {
+    console.log('Profit calc effect triggered:', {
+      activeTab,
+      hasLatestProfitCalc: !!latestProfitCalc?.costPrice,
+      costPrice: latestProfitCalc?.costPrice
+    })
+
+    if (activeTab === "totan" && latestProfitCalc?.costPrice) {
+      console.log('Re-running analysis due to profit calc change')
+      performAnalysis(latestProfitCalc)
+    }
+  }, [latestProfitCalc, activeTab])
 
-  
+  // Get score circle properties
+  const getScoreProperties = (score: number, category: string) => {
+    const normalizedScore = Math.max(0, Math.min(10, score)) // Ensure score is between 0-10
+    const percentage = (normalizedScore / 10) * 100
+    const strokeDasharray = `${percentage}, 100`
+    
+    let color = "#10B981" // Default green
+    let bgColor = "#F0FDF4"
+    
+    if (category.toLowerCase() === "low") {
+      color = "#EF4444" // Red
+      bgColor = "#FEF2F2"
+    } else if (category.toLowerCase() === "medium" || category.toLowerCase() === "average") {
+      color = "#F59E0B" // Yellow/Orange
+      bgColor = "#FFFBEB"
+    } else if (category.toLowerCase() === "high" || category.toLowerCase() === "above average") {
+      color = "#10B981" // Green
+      bgColor = "#F0FDF4"
+    }
 
-  
+    return { strokeDasharray, color, bgColor }
+  }
 
   if (isLoading || !product) {
     return <ProductStatsSkeleton />
@@ -98,7 +391,7 @@ const ProductStats = forwardRef(({
     if (profitabilityCalc?.buying_criteria?.roiIsOk === true) {
       return ` Excellent ROI! This product's ${roi}% return exceeds your minimum requirement of ${minRoi}%, making it a profitable investment that meets your buying criteria.`
     } else if (profitabilityCalc?.buying_criteria?.roiIsOk === false) {
-      return ` ROI Below Target: This product's ${roi}% return is below your minimum requirement of ${minRoi}%. Consider finding a lower cost price or look for other products that meet your ROI criteria.`
+      return ` ROI Below Target: This product's ${roi}% return is below your minimum requirement of ${minRoi}%. Consider finding a lower cost price or look for other products that meet your ROI criteria.`
     }
     return "Return on Investment - The percentage return you'll earn on your initial investment in this product."
   }
@@ -112,7 +405,7 @@ const ProductStats = forwardRef(({
     if (profitabilityCalc?.buying_criteria?.profitIsOk === true) {
       return ` Great Profit! This product generates $${profitAmount.toFixed(2)} (${profitMargin.toFixed(0)}%) which exceeds your minimum profit requirement of $${minProfit.toFixed(2)}, making it a solid choice for your business.`
     } else if (profitabilityCalc?.buying_criteria?.profitIsOk === false) {
-      return ` Profit Below Target: This product's profit of $${profitAmount.toFixed(2)} (${profitMargin.toFixed(0)}%) is below your minimum requirement of $${minProfit.toFixed(2)}. Consider negotiating a better cost price or look for higher-margin products.`
+      return ` Profit Below Target: This product's profit of $${profitAmount.toFixed(2)} (${profitMargin.toFixed(0)}%) is below your minimum requirement of $${minProfit.toFixed(2)}. Consider negotiating a better cost price or look for higher-margin products.`
     }
     return "The total profit amount in dollars and profit margin percentage you can expect from selling this product."
   }
@@ -129,14 +422,12 @@ const ProductStats = forwardRef(({
     return "The highest price you should pay for this product to maintain your target profit margin and ROI."
   }
 
-  
+  const scoreProperties = analysisData ? getScoreProperties(analysisData.score, analysisData.category) : null
 
   return (
-    <>
-      {contextHolder}
-      <div className="flex flex-col gap-4">
-        {/* tabs */}
-        <div className="flex gap-4 items-center text-sm font-semibold">
+    <div className="flex flex-col gap-4">
+      {/* tabs */}
+      <div className="flex gap-4 items-center text-sm font-semibold">
         <button
           type="button"
           onClick={() => setActiveTab("info")}
@@ -149,7 +440,6 @@ const ProductStats = forwardRef(({
    
         <button
           type="button"
-          disabled
           onClick={() => setActiveTab("totan")}
           className={`px-4 py-2 rounded-full ${
             activeTab === "totan" ? "bg-primary text-white" : "bg-[#F3F4F6] text-[#676A75]"
@@ -159,7 +449,168 @@ const ProductStats = forwardRef(({
         </button>
       </div>
 
-    
+      {/* Totan */}
+      {activeTab === "totan" && (
+        <div className="border border-border rounded-xl shadow-sm p-4 flex flex-col gap-3">
+          {!profitabilityCalc?.costPrice ? (
+            // Show nudge message when no profitability calculation exists
+            <div className="flex flex-col items-center justify-center py-8 text-center">
+              <div className=" rounded-lg p-6 max-w-md">
+                <div className="text-primary mb-3">
+                  <svg className="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
+                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 14h.01M12 11h.01M12 7V4a1 1 0 00-1-1H9a1 1 0 00-1 1v3M5 7h14l-1 14H6L5 7z" />
+                  </svg>
+                </div>
+                <h3 className="text-lg font-semibold text-gray-900 mb-2">
+                  Profitability Calculation Required
+                </h3>
+                <p className="text-sm text-gray-600 mb-4">
+                  To access Totan AI analysis, please complete the profitability calculation first. 
+                  Enter your cost price and other details in the calculator above.
+                </p>
+                <div className="bg-primary/20 border border-primary rounded-md p-3">
+                  <p className="text-xs text-black">
+                     The AI analysis uses your profitability data to provide personalized insights and recommendations.
+                  </p>
+                </div>
+              </div>
+            </div>
+          ) : isAnalyzing ? (
+            <div className="flex items-center justify-center py-8">
+              <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
+              <span className="ml-2 text-sm text-gray-600">Analyzing product...</span>
+            </div>
+          ) : analysisError ? (
+            // Show error message when analysis fails
+            <div className="flex flex-col items-center justify-center py-8 text-center">
+              <div className="rounded-lg p-6 max-w-md">
+                <div className="text-red-500 mb-3">
+                  <svg className="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
+                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
+                  </svg>
+                </div>
+                <h3 className="text-lg font-semibold text-gray-900 mb-2">
+                  Analysis Failed
+                </h3>
+                <p className="text-sm text-gray-600 mb-4">
+                  {analysisError}
+                </p>
+                <button
+                  onClick={() => performAnalysis()}
+                  className="bg-primary text-white px-4 py-2 rounded-lg text-sm hover:bg-primary/90 transition-colors"
+                >
+                  Try Again
+                </button>
+              </div>
+            </div>
+          ) : (
+            <>
+              {/* Score and Info Row */}
+              <div className="flex items-center justify-between">
+                {/* Circular Score */}
+                <div className="relative size-32">
+                  <svg className="w-full h-full transform -rotate-90" viewBox="0 0 36 36">
+                    <path
+                      className="text-[#F3F4F6]"
+                      stroke="currentColor"
+                      strokeWidth="3"
+                      fill="none"
+                      d="M18 2.0845
+                    a 15.9155 15.9155 0 0 1 0 31.831
+                    a 15.9155 15.9155 0 0 1 0 -31.831"
+                    />
+                    <path
+                      className="transition-all duration-1000 ease-out"
+                      stroke={scoreProperties?.color || "#6366F1"}
+                      strokeWidth="3"
+                      strokeDasharray={scoreProperties?.strokeDasharray || "0, 100"}
+                      fill="none"
+                      d="M18 2.0845
+                    a 15.9155 15.9155 0 0 1 0 31.831
+                    a 15.9155 15.9155 0 0 1 0 -31.831"
+                    />
+                  </svg>
+                  <div className="absolute inset-0 flex flex-col items-center justify-center text-xs">
+                    <span className="text-[10px] text-[#676A75] font-medium uppercase text-center">
+                      <p>{analysisData?.category.toUpperCase() || "ANALYZING"}</p>
+                    </span>
+                    <span className={`text-lg font-semibold  ${analysisData?.category.toLocaleLowerCase() === 'poor' ? "text-red-500" : "text-[#060606]"}`}>
+                      {analysisData?.score?.toFixed(1) || "0.0"}
+                    </span>
+                  </div>
+                </div>
+
+                {/* Analysis Box */}
+                <div className="flex flex-col gap-2">
+                  <Link href={`/totan`}>
+                    <div 
+                      className="bg-[#F3F4F6] rounded-lg p-3 text-[#676A75] text-sm hover:bg-primary hover:text-white cursor-pointer transition-colors duration-200"
+                      onClick={handleNavigateToTotanWithData}
+                      title="Click to open detailed analysis in Totan chat"
+                    >
+                      <p className="font-semibold">Analysis</p>
+                      <p>
+                        {analysisData ? 
+                          `Average Return On...` :
+                          "Calculating metrics..."
+                        }
+                      </p>
+                    </div>
+                  </Link>
+
+                  <div className="flex items-center gap-2 bg-muted rounded-md px-3 py-1 text-sm text-muted-foreground">
+                    <span className="bg-[#F3F4F6] rounded-lg p-2">
+                      <Image src={AmazonIcon || "/placeholder.svg"} alt="Amazon icon" width={32} height={32} />
+                    </span>
+                    <span className="bg-[#F3F4F6] rounded-lg p-3 text-[#676A75] text-xs">
+                      {analysisData?.breakdown?.amazon_on_listing && analysisData.breakdown.amazon_on_listing > 0 ? 
+                        "Amazon on listing" : 
+                        "Amazon not on listing"
+                      }
+                    </span>
+                  </div>
+                </div>
+              </div>
+
+              {/* Quantity Selector - COMMENTED OUT
+              <div className="flex items-center gap-4">
+                <span className="text-sm text-[#676A75] font-medium">
+                  Suggested Purchase Quantity
+                </span>
+                
+                <div className="flex items-center gap-2">
+                  <AntTooltip
+                    title="Conservative recommended quantity based on low-risk market analysis and steady demand patterns."
+                    placement="top"
+                  >
+                    <div className="border border-input rounded-md px-3 py-1 text-sm cursor-help">
+                      {isLoadingQuantity ? (
+                        <span className="animate-pulse">Loading...</span>
+                      ) : (
+                        `C: ${purchaseQuantityData?.conservative_quantity || "0"}`
+                      )}
+                    </div>
+                  </AntTooltip>
+
+                  <AntTooltip
+                    title="Aggressive recommended quantity based on optimistic market projections and higher risk tolerance."
+                    placement="top"
+                  >
+                    <div className="border border-input rounded-md px-3 py-1 text-sm cursor-help">
+                      {isLoadingQuantity ? (
+                        <span className="animate-pulse">Loading...</span>
+                      ) : (
+                        `A: ${purchaseQuantityData?.aggressive_quantity || "0"}`
+                      )}
+                    </div>
+                  </AntTooltip>
+                </div>
+              </div>
+              */}
+            </>
+          )}
+        </div>
+      )}
 
       {/* extra stats grid */}
       {activeTab === "info" && (
@@ -258,7 +709,6 @@ const ProductStats = forwardRef(({
         </div>
       )}
     </div>
-    </>
   )
 })
 
diff --git a/app/(dashboard)/go-compare/_components/Create.tsx b/app/(dashboard)/go-compare/_components/Create.tsx
deleted file mode 100644
index ee80853..0000000
--- a/app/(dashboard)/go-compare/_components/Create.tsx
+++ /dev/null
@@ -1,175 +0,0 @@
-"use client";
-
-import Image from "next/image"
-import deckIco from "@/public/assets/svg/gocompare/deck.svg"
-import { useEffect, useState } from "react"
-import { DndContext, type DragEndEvent, DragOverlay, type DragStartEvent, PointerSensor, useSensor, useSensors } from "@dnd-kit/core"
-import QuickSearchTable, { ProductObj } from "./QuickSearchTable"
-import { restrictToWindowEdges } from "@dnd-kit/modifiers"
-import { ProductCard } from "./ProductCard"
-import { Droppable } from "./dnd/Droppable"
-import Overlay from "./dnd/Overlay";
-import { TbListSearch } from "react-icons/tb";
-import ProductInformation from "./ProductInformation";
-import { AmazonProduct } from "./GoCompare";
-
-interface CreateProps {
-  deck: string;
-  searchRe: {
-    amazon_product: AmazonProduct | null; 
-    opportunities: ProductObj[];
-  };
-  asin: string;
-}
-
-const Create = ({ deck, searchRe, asin }: CreateProps) => {
-  const [selectedProducts, setSelectedProducts] = useState<ProductObj[]>([])
-  const [activeProduct, setActiveProduct] = useState<ProductObj | null>(null)
-
-  const sensors = useSensors(
-    useSensor(PointerSensor, {
-      activationConstraint: {
-        distance: 1,
-        tolerance: 5,
-        delay: 0,
-      },
-    }),
-  )
-
-  const handleDragStart = (event: DragStartEvent) => {
-    console.log("Drag started:", event)
-    const { active } = event
-    const draggedProduct = searchRe?.opportunities.find(
-      (product) => product.scraped_product.id === active.id
-    )
-    if (draggedProduct) {
-      setActiveProduct(draggedProduct)
-    }
-  }
-
-  const handleDragEnd = (event: DragEndEvent) => {
-    const { active, over } = event
-    console.log("Drag ended:", { active, over })
-    setActiveProduct(null)
-    if (over && over.id === "droppable-area") {
-      const draggedProduct = searchRe?.opportunities.find(
-        (product) => product.scraped_product.id === active.id
-      )
-      if (draggedProduct) {
-        setSelectedProducts([draggedProduct])
-      }
-    }
-  }
-
-  const handleRowClick = (product: ProductObj) => {
-    setSelectedProducts([product])
-  }
-
-  const handleRemoveProduct = (productId: string) => {
-    setSelectedProducts(selectedProducts.filter((product) => product.scraped_product.id !== productId))
-  }
-
-  const productData = {
-    "Avg. Amazon 90 day price": String(searchRe?.amazon_product?.pricing?.avg_amazon_90_day_price ?? '-'),
-    "Gross ROI": selectedProducts.length > 0 ? `${selectedProducts[0]?.roi_percentage.toFixed(1)}%` : '0%',
-    "Match quality%": selectedProducts.length > 0 ? `${(selectedProducts[0]?.confidence * 100).toFixed(0)}` : '0',
-    "Sales rank": String(searchRe?.amazon_product?.metrics?.sales_rank ?? '-'),
-    "Avg. 3 month sales rank": String(searchRe?.amazon_product?.metrics?.avg_3_month_sales_rank ?? '-'),
-    ASIN: asin,
-    "Number of sellers": String(searchRe?.amazon_product?.metrics?.number_of_sellers ?? 'Not available'),
-    "Amazon on listing": searchRe?.amazon_product?.metrics?.amazon_on_listing ? 'YES' : 'NO',
-  }
-
-  useEffect(() => {
-    setSelectedProducts([]);
-  }, [searchRe?.amazon_product]);
-
-  return (
-    <>
-      {deck === "empty" && (
-        <div className="flex flex-col gap-3 justify-center items-center my-auto">
-          <Image src={deckIco || "/placeholder.svg"} alt="deck icon" />
-          <h1 className="font-medium">Your deck is empty</h1>
-          <p className="text-sm text-[#737379]">Add products to compare deals and find the best opportunities.</p>
-        </div>
-      )}
-
-      {deck === "quickSearch" && (
-        <DndContext
-          sensors={sensors}
-          onDragEnd={handleDragEnd}
-          onDragStart={handleDragStart}
-          modifiers={[restrictToWindowEdges]}
-        >
-          <section className="flex flex-col gap-8 min-h-[50dvh] md:min-h-[80dvh]">
-            <div className="flex flex-col lg:flex-row gap-6">
-              <div className="flex-1">
-                <p className="font-semibold">Comparison Workspace</p>
-                <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2.5">
-                  {searchRe.amazon_product && (
-                    <ProductCard product={searchRe.amazon_product} />
-                  )}
-                  <Droppable
-                    id="droppable-area"
-                    className={selectedProducts.length > 0 ? `` : 'bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden p-2.5 h-[326px]'}
-                  >
-                    {selectedProducts.length > 0 ? (
-                      <div className="relative h-full">
-                        <ProductCard product={selectedProducts[0]} />
-                        <button
-                          onClick={() => handleRemoveProduct(selectedProducts[0].scraped_product.id)}
-                          className="absolute top-2 right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 z-10"
-                        >
-                          <svg
-                            xmlns="http://www.w3.org/2000/svg"
-                            width="16"
-                            height="16"
-                            viewBox="0 0 24 24"
-                            fill="none"
-                            stroke="currentColor"
-                            strokeWidth="2"
-                            strokeLinecap="round"
-                            strokeLinejoin="round"
-                          >
-                            <line x1="18" y1="6" x2="6" y2="18"></line>
-                            <line x1="6" y1="6" x2="18" y2="18"></line>
-                          </svg>
-                        </button>
-                      </div>
-                    ) : (
-                      <div className="relative h-full bg-gray-100 rounded-lg flex flex-col text-center gap-2 items-center justify-center">
-                        <TbListSearch size={30} className="text-gray-500" />
-                        <p>Drag and drop results here to compare</p>
-                      </div>
-                    )}
-                  </Droppable>
-                </div>
-              </div>
-
-              <ProductInformation
-                productData={productData}
-                isSelected={selectedProducts.length > 0}
-              />
-            </div>
-
-            <div>
-              <h2 className="font-semibold mb-4">Quick Search Results</h2>
-              <QuickSearchTable
-                products={searchRe?.opportunities || []}
-                onRowClick={handleRowClick}
-              />
-            </div>
-          </section>
-
-          <DragOverlay>
-            {activeProduct ? (
-              <Overlay activeProduct={activeProduct} />
-            ) : null}
-          </DragOverlay>
-        </DndContext>
-      )}
-    </>
-  )
-}
-
-export default Create
\ No newline at end of file
diff --git a/app/(dashboard)/go-compare/_components/CreateDropdown.tsx b/app/(dashboard)/go-compare/_components/CreateDropdown.tsx
new file mode 100644
index 0000000..041dece
--- /dev/null
+++ b/app/(dashboard)/go-compare/_components/CreateDropdown.tsx
@@ -0,0 +1,113 @@
+import { useEffect, useRef, useState } from "react";
+import { BsPlus } from "react-icons/bs";
+import { IoCloseOutline } from "react-icons/io5";
+import { CiImport, CiSearch } from "react-icons/ci";
+import { GoChevronRight } from "react-icons/go";
+import { LuScanSearch } from "react-icons/lu";
+import { ScanBrandsIcon } from "./icons";
+import wanted from '../../../../public/assets/svg/gocompare/wanted.svg';
+import Image from "next/image";
+import { MdOutlineHistory } from "react-icons/md";
+import { usePathname, useRouter } from "next/navigation";
+import { SearchModal } from "./SearchModal";
+
+export function CreateDropdown() {
+    const [isOpen, setIsOpen] = useState(false)
+    const [showModal, setShowModal] = useState<"quickSearch" | "reverseSearch" | null>(null);
+    const dropdownRef = useRef<HTMLDivElement>(null);
+    const toggleDropdown = () => setIsOpen(prev => !prev);
+    const pathname = usePathname();
+    const router = useRouter();
+    const isCreateActive = pathname === "/go-compare/quick-search"
+    const handleClickOutside = (event: MouseEvent) => {
+        if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {
+            setIsOpen(false);
+        }
+    };
+    const toggleModal = (modalType: "quickSearch" | "reverseSearch" | null) => {
+        setShowModal(prev => (prev === modalType ? null : modalType));
+        toggleDropdown();
+        setIsOpen(false);
+    };
+    useEffect(() => {
+        document.addEventListener("mousedown", handleClickOutside);
+        return () => {
+            document.removeEventListener("mousedown", handleClickOutside);
+        };
+    }, []);
+
+    return (
+        <>
+            <div className="bg-white border border-gray-200 rounded-lg z-20">
+                <div
+                    onClick={() => setIsOpen(true)}
+                    className={`border px-2 py-3 rounded-lg flex flex-col cursor-pointer gap-1.5 ${isCreateActive ? 'bg-gray-100' : 'bg-white'} `}
+                >
+                    <BsPlus size={20} className="text-green-600" />
+                    <p className="text-sm text-[#2E2E37]">Create</p>
+                </div>
+
+                {isOpen && (
+                    <div className="absolute z-10 bg-white rounded-lg shadow-2xl w-[290px] mt-1" ref={dropdownRef}>
+                        <div className="px-5 pt-2">
+                            <button onClick={toggleDropdown}>
+                                <IoCloseOutline size={22} className="text-gray-500" />
+                            </button>
+                            <p className="text-gray-500 text-xs mt-1">Create</p>
+                        </div>
+
+                        <div className="p-2 pt-0">
+                            <DropdownItem onClick={() => toggleModal("quickSearch")} icon={CiSearch} label="Quick Search" />
+                            <DropdownItem onClick={() => toggleModal("reverseSearch")} icon={CiSearch} label="Tactical Reverse Search" />
+                            <DropdownItem onClick={() => { }} icon={LuScanSearch} label="Search with Filter" disabled />
+                            <DropdownItem onClick={() => { }} icon={ScanBrandsIcon} label="Scan Brands" disabled />
+                            <DropdownItem onClick={() => { }} icon={WantedIcon} label="Scan Most Wanted" disabled />
+                        </div>
+
+                        <div className="py-1 px-2 border-t border-[#e1e0e5]">
+                            <div className="pt-2 px-3 text-xs text-gray-500">Add</div>
+                            <DropdownItem onClick={() => { }} icon={CiImport} label="Import Product Codes" disabled />
+                        </div>
+
+                        <div className="py-1 px-2 border-t border-[#e1e0e5]">
+                            <div className="pt-2 px-3 text-xs text-gray-500">Modify</div>
+                            <DropdownItem
+                                onClick={() => {
+                                    router.push("/go-compare/search-history");
+                                    setIsOpen(false);
+                                }}
+                                icon={MdOutlineHistory} label="Search History"
+                            />
+
+                        </div>
+                    </div>
+                )}
+            </div>
+
+            {/* {showModal === "quickSearch" && <QuickSearchModal isOpen={true} onClose={() => toggleModal(null)} />} */}
+            {/* {showModal === "reverseSearch" && <ReverseSearchModal isOpen={true} onClose={() => toggleModal(null)} />} */}
+            {showModal === "quickSearch" && <SearchModal
+                isOpen={true} onClose={() => toggleModal(null)}
+                title="Quick Search" inputLabel="Enter ASIN or UPC"
+            />}
+
+            {showModal === "reverseSearch" && <SearchModal
+                isOpen={true} onClose={() => toggleModal(null)}
+                title="Tactical Reverse Search" inputLabel="Seller Id's"
+            />}
+        </>
+    )
+}
+
+const DropdownItem = ({ onClick, icon: Icon, label, disabled }: { onClick: () => void; icon: React.ElementType; label: string; disabled?: boolean }) => (
+    <button onClick={onClick}
+        className={`flex items-center justify-between rounded-md w-full p-2 hover:bg-gray-100 ${disabled ? 'text-gray-300' : 'text-gray-500'}`}
+    >
+        <div className="flex items-center gap-2.5">
+            <Icon size={20} />
+            <span className="text-sm">{label}</span>
+        </div>
+        <GoChevronRight />
+    </button>
+);
+const WantedIcon = () => <Image src={wanted} alt="icon" width={20} height={20} />;
diff --git a/app/(dashboard)/go-compare/_components/GoCompare.tsx b/app/(dashboard)/go-compare/_components/GoCompare.tsx
deleted file mode 100644
index 10a416f..0000000
--- a/app/(dashboard)/go-compare/_components/GoCompare.tsx
+++ /dev/null
@@ -1,199 +0,0 @@
-"use client";
-
-import { useEffect, useRef, useState } from "react";
-import { BsPlus } from "react-icons/bs";
-import { PiFolderPlus } from "react-icons/pi";
-import { IoCloseOutline } from "react-icons/io5";
-import { CiImport, CiSearch } from "react-icons/ci";
-import { GoChevronRight } from "react-icons/go";
-import { LuScanSearch } from "react-icons/lu";
-import { MdOutlineHistory } from "react-icons/md";
-import Image from "next/image";
-import Modal from "./Modal";
-import { ScanBrandsIcon } from "./icons";
-import { ProductObj } from "./QuickSearchTable";
-import wanted from '../../../../public/assets/svg/gocompare/wanted.svg';
-import Create from "./Create";
-import SearchHistory from "./SearchHistory";
-
-export type Product = {
-    id: string;
-    name: string;
-    image: string;
-    price: number;
-    store: {
-        name: string;
-        logo: string;
-    };
-    description: string;
-    profitMargin: number;
-    grossROI: number;
-    targetLoss: number;
-    salesRank: number;
-    buyBoxPrice: number;
-    numberOfSellers: number;
-    asin?: string;
-    numberOfSellersTotal?: number;
-    amazonListing?: string;
-    avgMonthlyRank?: number;
-    avgDailyPrice?: number;
-};
-
-export interface AmazonProduct {
-    id: string;
-    store_id: string;
-    store_name: string;
-    asin: string;
-    sku: string;
-    product_name: string;
-    page_url: string;
-    image_url: string;
-    seller: string;
-    pricing: {
-        current_price: number;
-        original_price: number | null;
-        avg_amazon_90_day_price: number | null;
-        amazon_fees: number | null;
-    };
-    metrics: {
-        sales_rank: number | null;
-        avg_3_month_sales_rank: number | null;
-        number_of_sellers: number | null;
-        monthly_sellers: number | null;
-        amazon_on_listing: boolean;
-        estimated_monthly_sales: number | null;
-    };
-    ratings: {
-        rating: string;
-        rating_display: string;
-        review_count: number;
-    };
-    competition: string;
-    created_at: string;
-    updated_at: string;
-    store: {
-        id: string;
-        name: string;
-        logo: string;
-        marketplace_id: string | null;
-        country_id: number;
-        created_at: {
-            human: string;
-            string: string;
-            timestamp: number;
-            locale: string;
-        };
-    };
-}
-
-const DropdownItem = ({ onClick, icon: Icon, label, disabled }: { onClick: () => void; icon: React.ElementType; label: string; disabled?: boolean }) => (
-    <button onClick={onClick}
-        className={`flex items-center justify-between rounded-md w-full p-2 hover:bg-gray-100 ${disabled ? 'text-gray-300' : 'text-gray-500'}`}
-    >
-        <div className="flex items-center gap-2.5">
-            <Icon size={20} />
-            <span className="text-sm">{label}</span>
-        </div>
-        <GoChevronRight />
-    </button>
-);
-
-const WantedIcon = () => <Image src={wanted} alt="icon" width={20} height={20} />;
-
-const GoCompare = () => {
-    const [activeTab, setActiveTab] = useState("create");
-    const [isDropdownOpen, setIsDropdownOpen] = useState(false);
-    const [deck, setDeck] = useState("empty");
-    const [isModalOpen, setIsModalOpen] = useState(false);
-    const dropdownRef = useRef<HTMLDivElement>(null);
-    const [searchRe, setSearchRe] = useState<{
-        amazon_product: AmazonProduct | null;
-        opportunities: ProductObj[];
-    }>({
-        amazon_product: null,
-        opportunities: [],
-    });
-
-    const [asin, setAsin] = useState('');
-
-    const toggleDropdown = () => setIsDropdownOpen(prev => !prev);
-    const toggleModal = () => {
-        setIsModalOpen(prev => !prev);
-        toggleDropdown();
-    };
-
-    const handleClickOutside = (event: MouseEvent) => {
-        if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {
-            setIsDropdownOpen(false);
-        }
-    };
-
-    const handleCreate = () => {
-        setActiveTab("create");
-        toggleDropdown();
-    };
-
-    useEffect(() => {
-        document.addEventListener("mousedown", handleClickOutside);
-        return () => {
-            document.removeEventListener("mousedown", handleClickOutside);
-        };
-    }, []);
-
-    return (
-        <section className="flex flex-col gap-5 min-h-[50dvh] md:min-h-[80dvh]">
-            <div>
-                <div className="grid grid-cols-2 gap-4">
-                    <div
-                        onClick={handleCreate}
-                        className={`border px-2 py-3 rounded-lg flex flex-col cursor-pointer gap-1.5 ${activeTab === 'create' ? 'bg-gray-100' : 'bg-white'} ${isDropdownOpen ? 'border-green-600 bg-[#f6f6f7]' : 'border-[#E1E0E5] '}`}
-                    >
-                        <BsPlus size={20} className="text-green-600" />
-                        <p className="text-sm text-[#2E2E37]">Create</p>
-                    </div>
-                    <div
-                        onClick={() => setActiveTab("history")}
-                        className={`border-[#E1E0E5] border px-2 py-3 rounded-lg flex flex-col cursor-pointer gap-1.5 ${activeTab === 'history' ? 'bg-gray-100' : 'bg-white'}`}
-                    >
-                        <PiFolderPlus size={20} className="text-green-600" />
-                        <p className="text-sm text-[#2E2E37]">Search History</p>
-                    </div>
-                </div>
-
-                {isDropdownOpen && (
-                    <div className="absolute z-10 bg-white rounded-lg shadow-2xl w-[290px] mt-1" ref={dropdownRef}>
-                        <div className="px-5 pt-2">
-                            <button onClick={toggleDropdown}>
-                                <IoCloseOutline size={22} className="text-gray-500" />
-                            </button>
-                            <p className="text-gray-500 text-xs mt-1">Create</p>
-                        </div>
-
-                        <div className="p-2 pt-0">
-                            <DropdownItem onClick={toggleModal} icon={CiSearch} label="Quick Search (100 products)" />
-                            <DropdownItem onClick={() => { }} icon={CiSearch} label="Search Seller Products" disabled />
-                            <DropdownItem onClick={() => { }} icon={LuScanSearch} label="Search with Filter" disabled />
-                            <DropdownItem onClick={() => { }} icon={ScanBrandsIcon} label="Scan Brands" disabled />
-                            <DropdownItem onClick={() => { }} icon={WantedIcon} label="Scan Most Wanted" disabled />
-                        </div>
-
-                        <div className="py-1 px-2 border-t border-[#e1e0e5]">
-                            <div className="pt-2 px-3 text-xs text-gray-500">Add</div>
-                            <DropdownItem onClick={() => { }} icon={CiImport} label="Import Product Codes" disabled />
-                        </div>
-
-                        <div className="py-1 px-2 border-t border-[#e1e0e5]">
-                            <div className="pt-2 px-3 text-xs text-gray-500">Modify</div>
-                            <DropdownItem onClick={() => setActiveTab("searchHistory")} icon={MdOutlineHistory} label="Search History" />
-                        </div>
-                    </div>
-                )}
-            </div>
-
-            <Modal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} setDeck={setDeck} setSearchRe={setSearchRe} setAsin={setAsin} />
-            {activeTab === 'create' ? <Create deck={deck} searchRe={searchRe} asin={asin} /> : <SearchHistory />}
-        </section>
-    );
-};
-
-export default GoCompare;
diff --git a/app/(dashboard)/go-compare/_components/Loader.tsx b/app/(dashboard)/go-compare/_components/Loader.tsx
new file mode 100644
index 0000000..8594ae9
--- /dev/null
+++ b/app/(dashboard)/go-compare/_components/Loader.tsx
@@ -0,0 +1,242 @@
+"use client";
+import type React from "react";
+import { useEffect, useState } from "react";
+
+interface GoCompareLoaderProps {
+  asin: string;
+  storeNames: string[];
+  isLoading: boolean;
+}
+
+const GoCompareLoader: React.FC<GoCompareLoaderProps> = ({ asin, storeNames, isLoading }) => {
+  const [currentStoreIndex, setCurrentStoreIndex] = useState(0);
+  const [animatedProgress, setAnimatedProgress] = useState<number[]>([]);
+  const [isCompilingResults, setIsCompilingResults] = useState(false);
+
+  // Use fixed steps when storeNames is empty to ensure consistent 33%, 66%, 100% progression
+  const steps = storeNames.length > 0 ? [
+    ...storeNames.map((storeName, index) => ({
+      percent: `${Math.round(((index + 1) / (storeNames.length + 1)) * 100)}%`,
+      description: `Searching arbitrage opportunities for ${asin} in ${storeName}...`,
+      isStoreStep: true,
+      storeIndex: index,
+    })),
+    {
+      percent: "100%",
+      description: "Compiling results and finalizing data...",
+      isStoreStep: false,
+      storeIndex: storeNames.length,
+    }
+  ] : [
+    {
+      percent: "33%",
+      description: `Initializing search for ${asin}...`,
+      isStoreStep: true,
+      storeIndex: 0,
+    },
+    {
+      percent: "66%",
+      description: "Searching for products across marketplaces...",
+      isStoreStep: true,
+      storeIndex: 1,
+    },
+    {
+      percent: "100%",
+      description: "Compiling results and finalizing data...",
+      isStoreStep: false,
+      storeIndex: 2,
+    }
+  ];
+
+  useEffect(() => {
+    setAnimatedProgress(new Array(steps.length).fill(0));
+  }, [steps.length]);
+
+  useEffect(() => {
+    if (!isLoading) return;
+
+    if (currentStoreIndex === 0) {
+    }
+
+    // Ensure we progress through each step with consistent timing
+    const progressTiming = 15000; // 15 seconds per step
+    
+    const storeInterval = setInterval(() => {
+      setCurrentStoreIndex(prev => {
+        if (prev < storeNames.length - 1) {
+          return prev + 1;
+        } else {
+          setAnimatedProgress(prevProgress => {
+            const newProgress = [...prevProgress];
+            newProgress[prev] = 100;
+            return newProgress;
+          });
+
+          setTimeout(() => {
+            setIsCompilingResults(true);
+          }, 500);
+
+          clearInterval(storeInterval);
+          return prev;
+        }
+      });
+    }, progressTiming);
+
+    return () => clearInterval(storeInterval);
+  }, [isLoading, storeNames.length]);
+
+  useEffect(() => {
+    if (!isLoading) return;
+
+    setAnimatedProgress(prev => {
+      const newProgress = [...prev];
+      for (let i = 0; i < currentStoreIndex; i++) {
+        newProgress[i] = 100;
+      }
+      return newProgress;
+    });
+
+    if (currentStoreIndex < storeNames.length && !isCompilingResults) {
+      let progress = 0;
+      const progressTiming = 15000; // 15 seconds per step (must match storeInterval)
+      const increment = 100 / (progressTiming / 100); 
+
+      const currentStoreInterval = setInterval(() => {
+        progress += increment;
+        if (progress <= 100) {
+          setAnimatedProgress(prev => {
+            const newProgress = [...prev];
+            newProgress[currentStoreIndex] = Math.min(progress, 100);
+            return newProgress;
+          });
+        } else {
+          clearInterval(currentStoreInterval);
+        }
+      }, 100);
+
+      return () => clearInterval(currentStoreInterval);
+    }
+
+    if (isCompilingResults) {
+      const compilationIndex = storeNames.length;
+      let progress = 0;
+      const increment = 1; 
+
+      const compilationInterval = setInterval(() => {
+        if (!isLoading) {
+          setAnimatedProgress(prev => {
+            const newProgress = [...prev];
+            newProgress[compilationIndex] = 100;
+            return newProgress;
+          });
+          clearInterval(compilationInterval);
+          return;
+        }
+
+        progress += increment;
+        if (progress <= 95) {
+          setAnimatedProgress(prev => {
+            const newProgress = [...prev];
+            newProgress[compilationIndex] = progress;
+            return newProgress;
+          });
+        }
+      }, 200);
+
+      return () => clearInterval(compilationInterval);
+    }
+  }, [currentStoreIndex, isCompilingResults, isLoading, storeNames.length]);
+
+  useEffect(() => {
+    if (!isLoading && animatedProgress.length > 0) {
+      const completedProgress = new Array(steps.length).fill(100);
+      setAnimatedProgress(completedProgress);
+    }
+  }, [isLoading, steps.length]);
+
+  return (
+    <div className="flex flex-col space-y-5 max-w-[80%] w-full min-w-3xl mx-auto p-6">
+      {steps.map((step, index) => (
+        <div key={index} className="flex justify-between items-center">
+          {/* Timeline and percentage indicator */}
+          <div className="relative mr-40" style={{ width: "100px" }}>
+            {/* Vertical dotted line */}
+            {index < steps.length - 1 && (
+              <div
+                className="absolute h-full z-0"
+                style={{
+                  left: "5px",
+                  top: "0",
+                  height: "calc(100% + 70px)",
+                  width: "2px",
+                  backgroundImage:
+                    "linear-gradient(to bottom, #D1D5DB 1px, transparent 1px)",
+                  backgroundSize: "2px 4px",
+                  backgroundRepeat: "repeat-y",
+                }}
+              />
+            )}
+
+            {/* Step dot with pulse animation when active */}
+            <div
+              className="relative z-10 bg-white"
+              style={{ width: "12px", height: "12px" }}
+            >
+              <div
+                className={`w-3 h-3 rounded-full ${(step.isStoreStep && index === currentStoreIndex) ||
+                    (!step.isStoreStep && isCompilingResults)
+                    ? "bg-green-500 animate-pulse"
+                    : "bg-gray-300"
+                  } ${(step.isStoreStep && index < currentStoreIndex) ||
+                    (!step.isStoreStep && !isLoading)
+                    ? "bg-green-500"
+                    : ""
+                  }`}
+              ></div>
+            </div>
+
+            {/* Percentage pill */}
+            <div className="absolute left-5 -top-2">
+              <div
+                className={`px-3 text-xs py-0.5 rounded-full bg-green-50 transition-all duration-300 ${(step.isStoreStep && index <= currentStoreIndex) ||
+                    (!step.isStoreStep && isCompilingResults)
+                    ? "opacity-100"
+                    : "opacity-50"
+                  }`}
+              >
+                <span className="text-sm font-medium text-green-500">
+                  {step.percent}
+                </span>
+              </div>
+            </div>
+          </div>
+
+          {/* Content */}
+          <div className="flex-1">
+            <div
+              className={`mb-2 text-xs text-gray-400 transition-opacity duration-300 ${(step.isStoreStep && index <= currentStoreIndex) ||
+                  (!step.isStoreStep && isCompilingResults)
+                  ? "opacity-100"
+                  : "opacity-50"
+                }`}
+            >
+              {step.description}
+            </div>
+
+            {/* Custom progress bar with smooth animation */}
+            <div className="h-3 w-full bg-gray-200 rounded-full overflow-hidden">
+              <div
+                className="h-full bg-green-500 rounded-full transition-all duration-500 ease-out"
+                style={{
+                  width: `${animatedProgress[index] || 0}%`
+                }}
+              ></div>
+            </div>
+          </div>
+        </div>
+      ))}
+    </div>
+  );
+};
+
+export default GoCompareLoader;
\ No newline at end of file
diff --git a/app/(dashboard)/go-compare/_components/Modal.tsx b/app/(dashboard)/go-compare/_components/Modal.tsx
deleted file mode 100644
index 30cb2b3..0000000
--- a/app/(dashboard)/go-compare/_components/Modal.tsx
+++ /dev/null
@@ -1,280 +0,0 @@
-"use client"
-/* eslint-disable @typescript-eslint/no-explicit-any */
-import { useEffect, useRef, useState } from "react"
-import { GoChevronDown } from "react-icons/go"
-import { IoCloseOutline } from "react-icons/io5"
-import { RiCheckboxBlankCircleFill } from "react-icons/ri"
-import { useLazyGetAllCountriesQuery, useLazyQuickSearchQuery } from "@/redux/api/quickSearchApi"
-import { message } from "antd"
-import { AmazonProduct } from "./GoCompare"
-import { ProductObj } from "./QuickSearchTable"
-
-interface Store {
-    id: string;
-    name: string;
-    marketplace_id: string | null;
-    country_id: number;
-    created_at: {
-        human: string;
-        string: string;
-        timestamp: number;
-        locale: string;
-    };
-}
-
-interface Country {
-    id: number;
-    name: string;
-    flag: string;
-    short_code: string;
-    created_at: {
-        human: string;
-        string: string;
-        timestamp: number;
-        locale: string;
-    };
-    stores: Store[];
-}
-
-const Modal = ({ isOpen, onClose, setDeck, setSearchRe, setAsin }: {
-    isOpen: boolean;
-    onClose: () => void;
-    setDeck: React.Dispatch<React.SetStateAction<string>>;
-    setSearchRe: React.Dispatch<React.SetStateAction<{
-        amazon_product: AmazonProduct | null;
-        opportunities: ProductObj[];
-    }>>;
-    setAsin: React.Dispatch<React.SetStateAction<string>>;
-}) => {
-    const [getCountries, { data: countries }] = useLazyGetAllCountriesQuery();
-    const [selectedCountry, setSelectedCountry] = useState<Country | undefined>();
-    useEffect(() => {
-        console.log('fetching....')
-        getCountries({});
-    }, [])
-    useEffect(() => {
-        if (countries && countries?.data?.length > 0) {
-            console.log(countries);
-            setSelectedCountry(countries?.data[0]);
-        }
-    }, [countries]);
-    const [selectedStores, setSelectedStores] = useState<string[]>([])
-    const [asinOrUpc, setAsinOrUpc] = useState("");
-    const [triggerQuickSearch, { isFetching }] = useLazyQuickSearchQuery();
-    const [isCountryDropdownOpen, setIsCountryDropdownOpen] = useState(false)
-    const dropdownRef = useRef<HTMLDivElement>(null);
-    const [isSearchTypeDropdown, setIsSearchTypeDropdown] = useState(false);
-
-    const searchTypes = [
-        { id: 1, type: 'Normal Search - (No Images, Less wait time)', value: false },
-        { id: 2, type: 'Deep Search - (Longer wait time)', value: true },
-        // { id: 3, type: 'Pro Search - (Longer wait time)', value: true },
-    ]
-
-    const [selectedSearchType, setSelectedSearchType] = useState(searchTypes[0]);
-
-    const toggleStore = (storeName: string) => {
-        if (selectedStores.includes(storeName)) {
-            setSelectedStores(selectedStores.filter((name) => name !== storeName));
-        } else {
-            setSelectedStores([...selectedStores, storeName]);
-        }
-    }
-    const resetFields = () => {
-        setAsinOrUpc("");
-        setSelectedStores([]);
-        setSelectedCountry(countries?.data[0]);
-        setSelectedSearchType(searchTypes[0]);
-    };
-
-    const handleClose = () => {
-        resetFields();
-        onClose();
-    };
-
-
-    const handleSearch = async () => {
-        if (!asinOrUpc || !selectedCountry || selectedStores.length === 0) {
-            console.warn("Missing required fields");
-            return;
-        }
-        const country_ids = (String(selectedCountry.id));
-        const queue = selectedSearchType.value;
-        try {
-            setAsin(asinOrUpc)
-            const response = await triggerQuickSearch({ asin: asinOrUpc, store_names: selectedStores, country_ids, queue }).unwrap();
-            setSearchRe(response);
-            console.log("Quick Search Response:", response);
-            setDeck("quickSearch");
-            handleClose();
-        } catch (error: unknown) {
-            let errorMessage = "Unknown error";
-            if (typeof error === "object" && error !== null) {
-                if ("data" in error && typeof (error as any).data === "object") {
-                    errorMessage =
-                        (error as any).data?.error ||
-                        (error as any).error ||
-                        errorMessage;
-                } else if ("message" in error) {
-                    errorMessage = String((error as { message?: string }).message);
-                }
-            }
-            console.error("Quick Search failed:", errorMessage);
-            message.error(`Quick Search failed: ${errorMessage}`);
-        }
-    }
-
-    if (!isOpen) return null
-
-    return (
-        <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
-            <div className="bg-white rounded-lg w-full max-w-md mx-4 overflow-hidden shadow-xl">
-                <div className="flex justify-between items-center p-5 pb-4 font-medium">
-                    <h2 className="text-lg">Quick Search (100 Products)</h2>
-                    <button onClick={handleClose} className="text-gray-400 hover:text-gray-500">
-                        <IoCloseOutline size={22} />
-                    </button>
-                </div>
-
-                <div className="p-5 pt-0 max-h-[70vh] overflow-y-auto alp">
-                    <div className="space-y-4 font-normal">
-                        <div>
-                            <label htmlFor="asin-upc" className="block text-xs text-[#737379] mb-1.5">
-                                Enter ASIN, UPC or Product Name
-                            </label>
-                            <input
-                                id="asin-upc"
-                                type="text"
-                                value={asinOrUpc}
-                                onChange={(e) => setAsinOrUpc(e.target.value)}
-                                placeholder="1234-5678-90"
-                                className="w-full text-[#9F9FA3] text-sm p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4C3CC6] focus:border-transparent"
-                            />
-                        </div>
-
-                        <div>
-                            <label htmlFor="country" className="block text-xs text-[#737379] mb-1.5">
-                                Search Country
-                            </label>
-                            <div className="relative" ref={dropdownRef}>
-                                <button
-                                    id="country"
-                                    onClick={() => setIsCountryDropdownOpen(!isCountryDropdownOpen)}
-                                    className="w-full text-[#9F9FA3] text-sm p-3 border border-gray-300 rounded-md bg-white flex items-center justify-between focus:outline-none focus:ring-2 focus:ring-[#4C3CC6] focus:border-transparent"
-                                >
-                                    <div className="flex items-center">
-                                        <span
-                                            className="inline-block w-4 h-4 mr-2 mt-2"
-                                            dangerouslySetInnerHTML={{ __html: selectedCountry?.flag || "" }}
-                                        />
-                                        <span>{selectedCountry?.name}</span>
-                                    </div>
-                                    <GoChevronDown size={18} color="black" />
-                                </button>
-
-                                {isCountryDropdownOpen && (
-                                    <div className="absolute z-10 mt-1 px-2 w-full text-sm bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-auto">
-                                        {countries?.data.map((country: Country) => (
-                                            <button
-                                                key={country?.id}
-                                                onClick={() => {
-                                                    setSelectedCountry(country)
-                                                    setSelectedStores([]);
-                                                    setIsCountryDropdownOpen(false)
-                                                }}
-                                                className="w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center border-b"
-                                            >
-                                                {/* <Image src={country?.flag} alt={country?.short_code} className="mr-2" /> */}
-                                                <span
-                                                    className="inline-block w-4 h-4 mr-2 mt-2"
-                                                    dangerouslySetInnerHTML={{ __html: country?.flag || "" }}
-                                                />
-                                                <span>{country?.name}</span>
-                                            </button>
-                                        ))}
-                                    </div>
-                                )}
-                            </div>
-                        </div>
-
-                        <div>
-                            <label htmlFor="searchType" className="block text-xs text-[#737379] mb-1.5">
-                                Select Search Type
-                            </label>
-                            <div className="relative" ref={dropdownRef}>
-                                <button
-                                    id="searchType"
-                                    onClick={() => setIsSearchTypeDropdown(!isSearchTypeDropdown)}
-                                    className="w-full text-[#9F9FA3] text-sm p-3 border border-gray-300 rounded-md bg-white flex items-center justify-between focus:outline-none focus:ring-2 focus:ring-[#4C3CC6] focus:border-transparent"
-                                >
-                                    <div>
-                                        {selectedSearchType?.type}
-                                    </div>
-                                    <GoChevronDown size={18} color="black" />
-                                </button>
-
-                                {isSearchTypeDropdown && (
-                                    <div className="absolute z-10 mt-1 px-2 w-full text-sm bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-auto">
-                                        {searchTypes?.map((searchType) => (
-                                            <button
-                                                key={searchType?.id}
-                                                onClick={() => {
-                                                    setSelectedSearchType(searchType)
-                                                    setIsSearchTypeDropdown(false)
-                                                }}
-                                                className="w-full text-left px-4 py-2 hover:bg-gray-100 border-b"
-                                            >
-                                                <span>{searchType?.type}</span>
-                                            </button>
-                                        ))}
-                                    </div>
-                                )}
-                            </div>
-                        </div>
-
-                        <div>
-                            <label className="block text-xs text-[#737379] mb-1.5">{selectedCountry?.name} Stores</label>
-                            <div className="space-y-2">
-                                {selectedCountry?.stores?.map((store) => (
-                                    <div
-                                        key={store.id}
-                                        onClick={() => toggleStore(store.name)}
-                                        className={`text-xs px-3 py-4 border rounded-md flex items-center justify-between cursor-pointer ${selectedStores.includes(store.id) ? "border-[#4C3CC6] bg-gray-100" : "border-gray-300"
-                                            }`}
-                                    >
-                                        <span>{store.name}</span>
-                                        {selectedStores.includes(store.name) ? (
-                                            <div className="h-4 w-4 bg-[#365AF9] rounded-full flex items-center justify-center">
-                                                <RiCheckboxBlankCircleFill color="white" size={10} />
-                                            </div>
-                                        ) : (
-                                            <div className="h-4 w-4 border border-gray-300 rounded-full bg-white">
-                                            </div>
-                                        )}
-                                    </div>
-                                ))}
-                            </div>
-                        </div>
-                    </div>
-                </div>
-
-                <div className="p-5 text-sm font-medium flex justify-end space-x-3 D">
-                    <button
-                        onClick={handleClose}
-                        className="px-4 py-1 shadow-lg border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"
-                    >
-                        Cancel
-                    </button>
-                    <button onClick={handleSearch} disabled={isFetching} className="px-4 py-1 shadow-lg bg-[#18cb96] text-white rounded-md hover:bg-[#15b588]">
-                        {isFetching ? (
-                            <div className="h-4 w-4 border-2 border-t-transparent border-white animate-spin rounded-full"></div>
-                        ) : (
-                            'Search'
-                        )}
-                    </button>
-                </div>
-            </div>
-        </div>
-    )
-}
-export default Modal
diff --git a/app/(dashboard)/go-compare/_components/Navigation.tsx b/app/(dashboard)/go-compare/_components/Navigation.tsx
new file mode 100644
index 0000000..b8e0c6e
--- /dev/null
+++ b/app/(dashboard)/go-compare/_components/Navigation.tsx
@@ -0,0 +1,23 @@
+"use client"
+import Link from "next/link"
+import { PiFolderPlus } from "react-icons/pi";
+import { CreateDropdown } from "./CreateDropdown";
+import { usePathname } from "next/navigation";
+
+export default function Navigation() {
+    const pathname = usePathname();
+    const isHistoryActive = pathname === "/go-compare/search-history"
+
+    return (
+        <div className="grid grid-cols-2 gap-4">
+            <CreateDropdown />
+            <Link href="/go-compare/search-history"
+                className={`border-[#E1E0E5] border px-2 py-3 rounded-lg flex flex-col cursor-pointer gap-1.5 ${isHistoryActive  ? 'bg-gray-100' : 'bg-white'}`}
+            >
+                <PiFolderPlus size={20} className="text-green-600" />
+                <p className="text-sm text-[#2E2E37]">Search History</p>
+            </Link>
+        </div>
+    )
+}
+
diff --git a/app/(dashboard)/go-compare/_components/ProductCard.tsx b/app/(dashboard)/go-compare/_components/ProductCard.tsx
index c63b3dc..213ad04 100644
--- a/app/(dashboard)/go-compare/_components/ProductCard.tsx
+++ b/app/(dashboard)/go-compare/_components/ProductCard.tsx
@@ -1,7 +1,10 @@
-import { ProductObj } from "./QuickSearchTable"
-import { AmazonProduct } from "./GoCompare"
+import Link from "next/link";
+import Image from "next/image";
+/* eslint-disable @typescript-eslint/no-explicit-any */
+/* eslint-disable @typescript-eslint/no-unused-vars */
+import { AmazonProduct, ProductObj, ReverseAmazon, ReverseAmazonScraped, QuickSearchResult } from "@/types/goCompare";
 
-type ProductCardType = ProductObj | AmazonProduct;
+type ProductCardType = ProductObj | AmazonProduct | ReverseAmazon | ReverseAmazonScraped | QuickSearchResult;
 
 interface ProductCardProps {
   product: ProductCardType;
@@ -13,6 +16,7 @@ const getCurrencySign = (currency: string | number | undefined): string => {
     case 2:
       return ""
     case "USD":
+    case "$":
     case 1:
       return "$"
     case "CAD":
@@ -24,49 +28,142 @@ const getCurrencySign = (currency: string | number | undefined): string => {
 }
 
 export function ProductCard({ product }: ProductCardProps) {
-  if (!product) return null;
 
-  const isAmazonProduct = (p: ProductCardType): p is AmazonProduct => 'asin' in p;
+  if (!product) return null;
 
-  const imageUrl = isAmazonProduct(product)
-    ? product.image_url
-    : product.scraped_product.image_url;
+  const isAmazonProduct = (p: ProductCardType): p is AmazonProduct => 'store' in p && 'pricing' in p;
+  const isProductObj = (p: ProductCardType): p is ProductObj => 'scraped_product' in p;
+  const isReverseAmazonScraped = (p: ProductCardType): p is ReverseAmazonScraped => 'id' in p && 'image' in p && 'price' in p && 'name' in p;
+  const isQuickSearchResult = (p: ProductCardType): p is QuickSearchResult => 'store_name' in p && 'asin' in p;
 
-  const productName = isAmazonProduct(product)
-    ? product.product_name
-    : product.scraped_product.product_name;
+  let imageUrl = "";
+  let productUrl = "";
+  let productName = "";
+  let logoUrl = "";
+  let currencySign = "";
+  let price: number | string = "";
 
-  const logoUrl = isAmazonProduct(product)
-    ? product.store.logo
-    : product.scraped_product.store_logo_url;
+  try {
+    if (isAmazonProduct(product)) {
+      imageUrl = product.image_url || '';
+      productUrl = product.page_url || '#';
+      productName = product.product_name || 'Product Name';
+      logoUrl = product.store && product.store.logo ? product.store.logo : '';
+      currencySign = getCurrencySign(product.store && product.store.country_id ? product.store.country_id : 1);
+      price = product.pricing && product.pricing.current_price ? product.pricing.current_price : 0;
+    }
+    else if (isProductObj(product)) {
+      imageUrl = product.scraped_product && product.scraped_product.image_url ? product.scraped_product.image_url : '';
+      productUrl = product.scraped_product && product.scraped_product.product_url ? product.scraped_product.product_url : '#';
+      productName = product.scraped_product && product.scraped_product.product_name ? product.scraped_product.product_name : 'Product Name';
+      logoUrl = product.scraped_product && product.scraped_product.store_logo_url ? product.scraped_product.store_logo_url : '';
+      currencySign = getCurrencySign(product.scraped_product && product.scraped_product.price && product.scraped_product.price.currency ? product.scraped_product.price.currency : '');
+      price = product.scraped_product && product.scraped_product.price && product.scraped_product.price.amount ? product.scraped_product.price.amount : 0;
+    }
+    else if (isReverseAmazonScraped(product)) {
+      imageUrl = product.image || '';
+      productUrl = product.url || '#';
+      productName = product.name || 'Product Name';
+      logoUrl = product.store && product.store.logo ? product.store.logo : '';
+      currencySign = getCurrencySign(product.currency || '');
+      price = product.price || 0;
+    } 
+    else if (isQuickSearchResult(product)) {
+      imageUrl = product.image_url || '';
+      productUrl = product.product_url || '#';
+      productName = product.product_name || 'Product Name';
+      logoUrl = '';  // QuickSearchResult typically doesn't have a logo URL
+      currencySign = getCurrencySign(product.currency || '$');
+      price = product.price || 0;
+    } 
+    else {
+      // Handle any other type as fallback
+      imageUrl = (product as any).image_url || (product as any).image || '';
+      productUrl = (product as any).product_url || (product as any).url || '#';
+      productName = (product as any).product_name || (product as any).name || 'Product Name';
+      
+      // Handle store logo safely
+      if (('store' in product && product.store && typeof product.store === 'object' && product.store.logo)) {
+        logoUrl = product.store.logo;
+      } else if ((product as any).store_logo_url) {
+        logoUrl = (product as any).store_logo_url;
+      } else {
+        logoUrl = '';
+      }
+      
+      currencySign = getCurrencySign((product as any).currency || 1);
+      price = (product as any).price || 0;
+      
+      // If price is a string with currency symbol, try to extract just the number
+      if (typeof price === 'string' && /[$]/.test(price)) {
+        const numericPrice = parseFloat(price.replace(/[$,]/g, ''));
+        if (!isNaN(numericPrice)) {
+          price = numericPrice;
+          // Don't add currency sign since it already has one
+          currencySign = '';
+        }
+      }
+    }
+  } catch (error) {
+    console.error("Error processing product data:", error);
+    // Set defaults if there's an error
+    imageUrl = '';
+    productUrl = '#';
+    productName = 'Product Name';
+    logoUrl = '';
+    currencySign = '$';
+    price = 0;
+  }
 
-  const currencySign = isAmazonProduct(product)
-    ? getCurrencySign(product.store.country_id)
-    : getCurrencySign(product.scraped_product.price.currency);
+  // Format price to show with commas for thousands
+  // If price is a string with currency symbol, use it as-is without adding currency sign
+  const formattedPrice = typeof price === 'string' && /[$]/.test(price)
+    ? price
+    : typeof price === 'number'
+      ? new Intl.NumberFormat('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 }).format(price)
+      : price;
 
-  const price = isAmazonProduct(product)
-    ? product.pricing.current_price
-    : product.scraped_product.price.amount;
+  // Determine marketplace logo
+  let marketplaceLogo = "";
+  const storeName = (product as any).store_name || 
+                   ('store' in product && product.store && typeof product.store === 'object' ? product.store.name : null) || 
+                   "";
+  
+  if (isAmazonProduct(product) || storeName.toLowerCase().includes("amazon")) {
+    marketplaceLogo = "/assets/images/amazon-logo.png"; // Adjust path as needed
+  } else if (storeName.toLowerCase().includes("ebay") || logoUrl?.toLowerCase()?.includes("ebay")) {
+    marketplaceLogo = "/assets/images/ebay-logo.png"; // Adjust path as needed
+  }
 
   return (
-    <div className="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden p-2.5 pb-0 h-[326px]">
-      <div className="relative h-48 ">
-        <img
-          src={imageUrl}
-          alt={productName}
-          className="object-contain w-full h-full rounded-md object-center"
-
+    <div className="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden p-2.5 pb-0 flex flex-col h-full min-h-[250px] max-h-[326px]">
+      <div className="relative flex-grow flex items-center justify-center p-2">
+        <Image 
+          src={imageUrl || "https://via.placeholder.com/150?text=No+Image"}
+          alt={productName || "Product"} 
+          className="object-contain w-full max-h-[180px] rounded-md"
+          width={180}
+          height={180}
+          unoptimized={imageUrl?.startsWith('data:') || !imageUrl}
+          onError={() => {
+            // Handle error in a Next.js compatible way
+            console.error("Image failed to load");
+          }}
         />
       </div>
-      <div className="mt-3">
-        <h3 className="text-sm text-left mb-1 line-clamp-2">{productName}</h3>
-        <div className="flex items-center justify-between">
-          <span className="font-bold">{currencySign}{price}</span>
-          <img
-            src={logoUrl}
-            alt={productName}
-            className="object-contain w-10 h-10"
-          />
+      <div className="mt-auto p-2">
+        <Link className="text-sm text-left mb-2 line-clamp-2 hover:underline block"
+          target="_blank" rel="noopener noreferrer" href={productUrl || "#"}
+        >
+          {productName}
+        </Link>
+        <div className="flex flex-wrap items-center justify-between mt-2">
+          <span className="text-xl font-bold">
+            {typeof price === 'string' && /[$]/.test(price) ? formattedPrice : `${currencySign}${formattedPrice}`}
+          </span>
+          <span className="text-sm text-gray-600 font-medium">
+            {storeName || "Unknown Store"}
+          </span>
         </div>
       </div>
     </div>
diff --git a/app/(dashboard)/go-compare/_components/ProductInformation.tsx b/app/(dashboard)/go-compare/_components/ProductInformation.tsx
index 8fadf7e..0efe08f 100644
--- a/app/(dashboard)/go-compare/_components/ProductInformation.tsx
+++ b/app/(dashboard)/go-compare/_components/ProductInformation.tsx
@@ -5,24 +5,39 @@ interface ProductDataProp {
         [key: string]: string
     }
     isSelected: boolean
+    isLoading?: boolean
 }
 
-const ProductInformation = ({ productData, isSelected }: ProductDataProp) => {
+const ProductInformation = ({ productData, isSelected, isLoading }: ProductDataProp) => {
     return (
-        <div className="w-full lg:w-[400px] mt-3 md:mt-0 flex flex-col lg:h-auto h-96">
+        <div className="w-full lg:w-[400px] mt-3 md:mt-0 flex flex-col lg:h-auto">
             {isSelected &&
                 <>
-                    <p className="font-semibold">Product Information</p>
-                    <div className="bg-white rounded-lg shadow-md border border-gray-200 mt-2.5 flex-1 flex">
-                        <div className="flex flex-col flex-1 justify-between">
-                            {Object.entries(productData).map(([key, value]) => (
-                                <div key={key} className="grid grid-cols-3 gap-8 border-b px-4 flex-1">
-                                    <span className="text-sm font-medium col-span-2 flex items-center">{key}</span>
-                                    <span className="text-sm font-medium flex items-center">{value}</span>
-                                </div>
-                            ))}
-                        </div>
-                    </div></>}
+                    <h2 className="text-lg font-semibold mb-4">Product Information</h2>
+                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
+                        {isLoading ? (
+                            <div className="flex items-center justify-center py-8">
+                                <div className="animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900"></div>
+                                <span className="ml-2 text-sm text-gray-600">Loading...</span>
+                            </div>
+                        ) : (
+                            <div className="flex flex-col">
+                                {Object.entries(productData).map(([key, value], index) => (
+                                    <div
+                                        key={key}
+                                        className={`flex justify-between py-3 px-4 ${
+                                            index !== Object.entries(productData).length - 1 ? 'border-b border-gray-100' : ''
+                                        }`}
+                                    >
+                                        <span className="text-sm text-gray-700">{key}</span>
+                                        <span className="text-sm font-medium">{value}</span>
+                                    </div>
+                                ))}
+                            </div>
+                        )}
+                    </div>
+                </>
+            }
         </div>
     )
 }
diff --git a/app/(dashboard)/go-compare/_components/QuickSearchTable.tsx b/app/(dashboard)/go-compare/_components/QuickSearchTable.tsx
index e4c39a2..20a31cd 100644
--- a/app/(dashboard)/go-compare/_components/QuickSearchTable.tsx
+++ b/app/(dashboard)/go-compare/_components/QuickSearchTable.tsx
@@ -1,62 +1,218 @@
 "use client";
 /* eslint-disable @typescript-eslint/no-explicit-any */
+/* eslint-disable @typescript-eslint/no-unused-vars */
 import { useDraggable } from "@dnd-kit/core"
 import { useState } from "react"
-import TablePagination from "./TablePagination"
+import Image from "next/image"
 import placeholder from '../../../../public/assets/images/gocompare/placeholder.png'
+import { ProductObj, QuickSearchResult } from "@/types/goCompare";
+import TablePagination from "./TablePagination";
 
+// Three-dot loading component
+const ThreeDotLoader = () => (
+  <div className="three-dot-loader">
+    <div className="dot"></div>
+    <div className="dot"></div>
+    <div className="dot"></div>
+  </div>
+);
 
-export type ProductObj = {
-  scraped_product: {
-    id: string
-    product_name: string
-    image_url: string
-    store_logo_url: string
-    price: {
-      amount: number
-      currency: string
-      formatted: string
-    }
-    original_price?: {
-      amount: number
-      currency: string
-      formatted: string
-    }
-  }
-  price_difference: number
-  roi_percentage: number
-  profit_margin: number
-  estimated_profit: number
-  amazon_fees: number
-  potential_monthly_sales: number
-  store: {
-    id: string
-    name: string
-  }
-  links: {
-    amazon_product: string
-    scraped_product: string
-  }
-  confidence: number
-}
+// Helper function to determine if data should show loading animation
+const shouldShowLoading = (value: any): boolean => {
+  return value === null || 
+         value === undefined || 
+         value === 'N/A' || 
+         value === '' || 
+         value === 0 ||
+         (typeof value === 'string' && value.trim() === '');
+};
 
 interface ProductTableProps {
-  products: ProductObj[]
-  onRowClick: (product: ProductObj) => void
+  products: ProductObj[] | QuickSearchResult[]
+  onRowClick: (product: ProductObj | QuickSearchResult) => void
 }
 
-function DraggableRow({ product, onRowClick }: { product: ProductObj; onRowClick: (product: ProductObj) => void }) {
+
+function DraggableRow({
+  product,
+  onRowClick,
+  isQuickSearchResult = false,
+  rowIndex,
+}: {
+  product: ProductObj | QuickSearchResult;
+  onRowClick: (product: ProductObj | QuickSearchResult) => void;
+  isQuickSearchResult?: boolean;
+  rowIndex: number;
+}) {
+  // Always call hooks at the top level
+  const [mouseDownTime, setMouseDownTime] = useState<number | null>(null);
+
+  // Determine the draggable ID based on product type
+  const draggableId = isQuickSearchResult 
+    ? `${(product as QuickSearchResult).store_name}-${(product as QuickSearchResult).asin}-${rowIndex}`
+    : (product as ProductObj).scraped_product.id;
+
   const { attributes, listeners, setNodeRef, transform, isDragging } = useDraggable({
-    id: product.scraped_product.id,
-    data: { product },
-  })
+    id: draggableId,
+    data: { 
+      product,
+      type: isQuickSearchResult ? 'quickSearchResult' : 'productObj'
+    },
+  });
 
- 
+  const handleMouseDown = () => {
+    setMouseDownTime(Date.now());
+  };
 
-  const amazonPrice = (product.scraped_product.price.amount + product.price_difference).toFixed(2)
-  const formattedAmazonPrice = `${product.scraped_product.price.currency} ${amazonPrice}`
-  const formattedProfitMargin = `${product.profit_margin.toFixed(1)}%`
-  const formattedROI = `${product.roi_percentage.toFixed(1)}%`
+  const handleMouseUp = () => {
+    if (mouseDownTime && Date.now() - mouseDownTime < 200) {
+      onRowClick(product);
+    }
+    setMouseDownTime(null);
+  };
+
+  // Render different content based on product type
+  const renderProductCell = () => {
+    if (isQuickSearchResult) {
+      const quickSearchProduct = product as QuickSearchResult;
+      return (
+        <td className="px-4 py-1.5 flex items-center gap-2">
+          <div className="w-8 h-8 relative rounded overflow-hidden">
+            <Image 
+              src={quickSearchProduct.image_url} 
+              alt={quickSearchProduct.store_name || 'Product'} 
+              className="object-cover"
+              width={32}
+              height={32}
+              onError={(e) => {
+                (e.target as HTMLImageElement).src = "https://via.placeholder.com/32?text=No+Image";
+              }}
+            />
+          </div>
+          <span className="text-sm line-clamp-1">
+            {quickSearchProduct.product_name && quickSearchProduct.product_name.length > 25
+              ? `${quickSearchProduct.product_name.slice(0, 25)}...`
+              : quickSearchProduct.product_name}
+          </span>
+        </td>
+      );
+    } else {
+      const productObj = product as ProductObj;
+      return (
+        <td className="px-4 py-1.5 flex items-center gap-2">
+          <div className="w-8 h-8 relative rounded overflow-hidden">
+            <Image src={productObj.scraped_product?.image_url} alt={productObj.store.name} className="object-cover" width={32} height={32} />
+          </div>
+          <span className="text-sm line-clamp-1">
+            {productObj.scraped_product.product_name.length > 25
+              ? `${productObj.scraped_product.product_name.slice(0, 25)}...`
+              : productObj.scraped_product.product_name}
+          </span>
+        </td>
+      );
+    }
+  };
+
+  const renderTableCells = () => {
+    if (isQuickSearchResult) {
+      const quickSearchProduct = product as QuickSearchResult;
+      return (
+        <>
+          <td className="px-4 py-1.5">
+            <div className="w-auto h-auto px-2 py-1 flex items-center">
+              {quickSearchProduct.product_url ? (
+                <a 
+                  href={quickSearchProduct.product_url} 
+                  target="_blank" 
+                  rel="noopener noreferrer" 
+                  className="text-sm font-medium hover:underline"
+                >
+                  {quickSearchProduct.store_name || 'Unknown Store'}
+                </a>
+              ) : (
+                <span className="text-sm font-medium">{quickSearchProduct.store_name || 'Unknown Store'}</span>
+              )}
+            </div>
+          </td>
+          <td className="px-4 py-1.5 text-sm">{quickSearchProduct.price || quickSearchProduct.buybox_price || 'N/A'}</td>
+          <td className="px-4 py-1.5 text-sm">
+            {shouldShowLoading(quickSearchProduct.amazon_price) ? (
+              <ThreeDotLoader />
+            ) : (
+              `${quickSearchProduct.amazon_price}`
+            )}
+          </td>
+          <td className="px-4 py-1.5 text-sm">
+            {shouldShowLoading(quickSearchProduct.profit_margin) ? (
+              <ThreeDotLoader />
+            ) : (
+              `${quickSearchProduct.profit_margin}%`
+            )}
+          </td>
+          <td className="px-4 py-1.5 text-sm">
+            {shouldShowLoading(quickSearchProduct.gross_roi) ? (
+              <ThreeDotLoader />
+            ) : (
+              `${quickSearchProduct.gross_roi}%`
+            )}
+          </td>
+          <td className="px-4 py-1.5 text-sm">{quickSearchProduct.sales_rank || 'N/A'}</td>
+          <td className="px-4 py-1.5 text-sm">{quickSearchProduct.number_of_sellers || 'N/A'}</td>
+        </>
+      );
+    } else {
+      const productObj = product as ProductObj;
+      const amazonPrice = (productObj.scraped_product.price.amount + productObj.price_difference).toFixed(2);
+      const formattedAmazonPrice = `${productObj.scraped_product.price.currency} ${amazonPrice}`;
+      const formattedProfitMargin = `${productObj.profit_margin.toFixed(1)}%`;
+      const formattedROI = `${productObj.roi_percentage.toFixed(1)}%`;
+
+      return (
+        <>
+          <td className="px-4 py-1.5">
+            <div className="w-auto h-auto px-2 py-1 flex items-center">
+              {productObj.scraped_product?.product_url ? (
+                <a 
+                  href={productObj.scraped_product.product_url} 
+                  target="_blank" 
+                  rel="noopener noreferrer" 
+                  className="text-sm font-medium hover:underline"
+                >
+                  {productObj.store?.name || 'Unknown Store'}
+                </a>
+              ) : (
+                <span className="text-sm font-medium">{productObj.store?.name || 'Unknown Store'}</span>
+              )}
+            </div>
+          </td>
+          <td className="px-4 py-1.5 text-sm">{productObj.scraped_product.price?.formatted || productObj.buybox_price || 'N/A'}</td>
+          <td className="px-4 py-1.5 text-sm">
+            {shouldShowLoading(productObj.scraped_product.price.amount + productObj.price_difference) ? (
+              <ThreeDotLoader />
+            ) : (
+              formattedAmazonPrice
+            )}
+          </td>
+          <td className="px-4 py-1.5 text-sm">
+            {shouldShowLoading(productObj.profit_margin) ? (
+              <ThreeDotLoader />
+            ) : (
+              formattedProfitMargin
+            )}
+          </td>
+          <td className="px-4 py-1.5 text-sm">
+            {shouldShowLoading(productObj.roi_percentage) ? (
+              <ThreeDotLoader />
+            ) : (
+              formattedROI
+            )}
+          </td>
+          <td className="px-4 py-1.5 text-sm">{productObj.sales_rank || 'N/A'}</td>
+          <td className="px-4 py-1.5 text-sm">{productObj.number_of_sellers || 'N/A'}</td>
+        </>
+      );
+    }
+  };
 
   return (
     <tr
@@ -64,68 +220,48 @@ function DraggableRow({ product, onRowClick }: { product: ProductObj; onRowClick
       style={
         transform
           ? {
-              transform: `translate3d(${transform.x}px, ${transform.y}px, 0)`,
-              zIndex: isDragging ? 1000 : 1,
-              opacity: isDragging ? 0.5 : 1,
-              position: isDragging ? "relative" : "static" as "static" | "relative",
-            }
+            transform: `translate3d(${transform.x}px, ${transform.y}px, 0)`,
+            zIndex: isDragging ? 1000 : 1,
+            opacity: isDragging ? 0.5 : 1,
+            position: isDragging ? "relative" : "static" as "static" | "relative",
+          }
           : undefined
       }
+      onMouseDown={handleMouseDown}
+      onMouseUp={handleMouseUp}
+      className={`hover:bg-gray-50 cursor-pointer ${isDragging ? "opacity-50 bg-gray-100" : ""}`}
       {...listeners}
       {...attributes}
-      onClick={() => onRowClick(product)}
-      className={`hover:bg-gray-50 cursor-pointer ${isDragging ? "opacity-50 bg-gray-100" : ""}`}
     >
-      <td className="px-4 py-1.5 flex items-center gap-2">
-        <div className="w-8 h-8 relative rounded overflow-hidden">
-          {/* <Image src={product.scraped_product?.image_url} alt={product.store.name} width={32} height={32} className="object-cover" /> */}
-          <img src={product.scraped_product?.image_url} alt={product.store.name} className="object-cover" />
-        </div>
-        <span className="text-sm line-clamp-1">
-          {product.scraped_product.product_name.length > 25
-            ? `${product.scraped_product.product_name.slice(0, 25)}...`
-            : product.scraped_product.product_name}
-        </span>
-      </td>
-      <td className="px-4 py-1.5">
-        <div className="w-12 h-12 relative">
-          {product.scraped_product?.store_logo_url ?
-            <img src={product.scraped_product?.store_logo_url} alt={product.store.name} className="object-contain w-10 h-10" /> : (
-              <img src={placeholder.src} alt={product.store.name} className="object-contain w-10 h-10" />
-            )
-          }
-        </div>
-      </td>
-      <td className="px-4 py-1.5 text-sm">{product.scraped_product.price.formatted}</td>
-      <td className="px-4 py-1.5 text-sm">{formattedAmazonPrice}</td>
-      <td className="px-4 py-1.5 text-sm">{formattedProfitMargin}</td>
-      <td className="px-4 py-1.5 text-sm">{formattedROI}</td>
-      <td className="px-4 py-1.5 text-sm">{product.potential_monthly_sales}</td>
-      <td className="px-4 py-1.5 text-sm">N/A</td>
+      {renderProductCell()}
+      {renderTableCells()}
     </tr>
-  )
+  );
 }
 
 export default function QuickSearchTable({ products, onRowClick }: ProductTableProps) {
-  const [page, setPage] = useState(1)
-  const [perPage, setPerPage] = useState(10)
+  const [currentPage, setCurrentPage] = useState(1);
+  const itemsPerPage = 10;
+  const maxPages = 2;
 
-  const sortedProducts = [...products].sort((a, b) => b.roi_percentage - a.roi_percentage)
-  const totalPages = Math.ceil(sortedProducts.length / perPage)
-  // const totalPages = Math.ceil(products.length / perPage)
-  const startIndex = (page - 1) * perPage
-  const endIndex = startIndex + perPage
-  const currentData = products.slice(startIndex, endIndex)
+  // Check if products are QuickSearchResult type
+  const isQuickSearchResult = products.length > 0 && ('store_name' in products[0] || 'product_name' in products[0]);
 
+  // Sort products (for ProductObj type only)
+  const sortedProducts = isQuickSearchResult
+    ? products
+    : [...(products as ProductObj[])].sort((a, b) => b.roi_percentage - a.roi_percentage)
 
-  const handlePageChange = (page: number) => {
-    setPage(page)
-  }
+  // Calculate pagination
+  const totalItems = sortedProducts.length;
+  const totalPages = Math.min(Math.ceil(totalItems / itemsPerPage), maxPages);
+  const startIndex = (currentPage - 1) * itemsPerPage;
+  const endIndex = Math.min(startIndex + itemsPerPage, totalItems);
+  const currentData = sortedProducts.slice(startIndex, endIndex);
 
-  const handlePerPageChange = (value: number) => {
-    setPerPage(value)
-    setPage(1)
-  }
+  const handlePageChange = (page: number) => {
+    setCurrentPage(page);
+  };
 
   return (
     <div className="border border-gray-200 rounded-lg">
@@ -140,27 +276,29 @@ export default function QuickSearchTable({ products, onRowClick }: ProductTableP
                 <th className="px-4 py-3 text-left font-medium text-gray-600">Amazon Price</th>
                 <th className="px-4 py-3 text-left font-medium text-gray-600">Profit Margin</th>
                 <th className="px-4 py-3 text-left font-medium text-gray-600">Gross ROI</th>
-                <th className="px-4 py-3 text-left font-medium text-gray-600">Estimated Monthly Sales</th>
+                <th className="px-4 py-3 text-left font-medium text-gray-600">Sales Rank</th>
                 <th className="px-4 py-3 text-left font-medium text-gray-600">No. of Sellers</th>
               </tr>
             </thead>
             <tbody>
-              {currentData.map((product) => (
-                <DraggableRow key={product.scraped_product.id} product={product} onRowClick={onRowClick} />
+              {currentData.map((product, index) => (
+                <DraggableRow
+                  key={`${isQuickSearchResult ? `${(product as any).store_name}-${(product as any).asin}` : (product as any).scraped_product.id}-${startIndex + index}`}
+                  product={product}
+                  onRowClick={onRowClick}
+                  isQuickSearchResult={isQuickSearchResult}
+                  rowIndex={startIndex + index}
+                />
               ))}
             </tbody>
           </table>
         </div>
+        <TablePagination
+          page={currentPage}
+          totalPages={totalPages}
+          handlePageChange={handlePageChange}
+        />
       </div>
-
-      <TablePagination
-        page={page}
-        perPage={perPage}
-        totalPages={totalPages}
-        handlePageChange={handlePageChange}
-        handlePerPageChange={handlePerPageChange}
-      />
     </div>
   )
-}
-
+}
\ No newline at end of file
diff --git a/app/(dashboard)/go-compare/_components/ReverseSearchTable.tsx b/app/(dashboard)/go-compare/_components/ReverseSearchTable.tsx
new file mode 100644
index 0000000..4c16165
--- /dev/null
+++ b/app/(dashboard)/go-compare/_components/ReverseSearchTable.tsx
@@ -0,0 +1,223 @@
+"use client";
+/* eslint-disable @typescript-eslint/no-unused-vars */
+/* eslint-disable @typescript-eslint/no-explicit-any */
+import { useDraggable } from "@dnd-kit/core"
+import { useState } from "react"
+import TablePagination from "./TablePagination"
+import { ReverseSearchData } from "@/types/goCompare";
+import placeholder from '../../../../public/assets/images/gocompare/placeholder.png'
+
+
+interface ProductTableProps {
+    products: ReverseSearchData[]
+    onRowClick: (product: ReverseSearchData) => void
+}
+
+type SortColumn = 'profit_margin' | 'roi_percentage' | 'buybox_price' | null;
+type SortDirection = 'asc' | 'desc'
+
+function DraggableRow({ product, onRowClick }: { product: ReverseSearchData; onRowClick: (product: ReverseSearchData) => void }) {
+    const { attributes, listeners, setNodeRef, transform, isDragging } = useDraggable({
+        id: product.scraped_product?.id,
+        data: { product },
+    });
+
+    const [mouseDownTime, setMouseDownTime] = useState<number | null>(null);
+
+    const handleMouseDown = () => {
+        setMouseDownTime(Date.now());
+    };
+
+    const handleMouseUp = () => {
+        if (mouseDownTime && Date.now() - mouseDownTime < 200) {
+            onRowClick(product);
+        }
+        setMouseDownTime(null);
+    };
+
+    const formattedProfitMargin = product.profit_margin ? `${product.profit_margin.toFixed(1)}% ` : '0%';
+    const formattedROI = product.roi_percentage ? `${product.roi_percentage.toFixed(1)}% ` : '0%';
+
+    return (
+        <tr
+            ref={setNodeRef}
+            style={
+                transform
+                    ? {
+                        transform: `translate3d(${transform.x}px, ${transform.y}px, 0)`,
+                        zIndex: isDragging ? 1000 : 1,
+                        opacity: isDragging ? 0.5 : 1,
+                        position: isDragging ? "relative" : "static" as "static" | "relative",
+                    }
+                    : undefined
+            }
+            onMouseDown={handleMouseDown}
+            onMouseUp={handleMouseUp}
+            className={`hover:bg-gray-50 cursor-pointer ${isDragging ? "opacity-50 bg-gray-100" : ""}`}
+            {...listeners}
+            {...attributes}
+        >
+            <td className="px-4 py-1.5 flex items-center gap-2">
+                <div className="w-8 h-8 relative rounded overflow-hidden">
+                    <img src={product.scraped_product?.image} alt={product.scraped_product.name} className="object-cover" />
+                </div>
+                <span className="text-sm line-clamp-1">
+                    {product?.scraped_product?.name?.length > 25
+                        ? `${product.scraped_product.name.slice(0, 25)}...`
+                        : product.scraped_product.name}
+                </span>
+            </td>
+            <td className="px-4 py-1.5">
+                <div className="w-auto h-auto px-2 py-1 flex items-center">
+                    <span className="text-sm font-medium">{product.scraped_product?.store?.name || 'Unknown Store'}</span>
+                </div>
+            </td>
+            <td className="px-4 py-1.5 text-sm">{formattedProfitMargin}</td>
+            <td className="px-4 py-1.5 text-sm">{formattedROI}</td>
+            <td className="px-4 py-1.5 text-sm">{product.target_fees || 'N/A'}</td>
+            <td className="px-4 py-1.5 text-sm">{product.price || product.buybox_price || product.amazon_product?.price || product.amazon_product?.buybox_price || 'N/A'}</td>
+            <td className="px-4 py-1.5 text-sm">{product.amazon_product?.metrics?.number_of_sellers ?? 'N/A'}</td>
+        </tr>
+    )
+}
+
+function SortButton({ column, currentColumn, currentDirection, onSort
+}: {
+    column: SortColumn; currentColumn: SortColumn; currentDirection: SortDirection;
+    onSort: (column: SortColumn, direction: SortDirection) => void;
+}) {
+    const isActive = currentColumn === column;
+    const handleSort = (direction: SortDirection) => {
+        onSort(column, direction);
+    };
+
+    return (
+        <div className="flex flex-col ml-2">
+            <button onClick={() => handleSort('asc')}
+                className={`text-xs leading-none ${isActive && currentDirection === 'asc'
+                    ? 'text-blue-600'
+                    : 'text-gray-400 hover:text-gray-600'
+                    }`}
+            >
+                
+            </button>
+            <button onClick={() => handleSort('desc')}
+                className={`text-xs leading-none ${isActive && currentDirection === 'desc'
+                    ? 'text-blue-600'
+                    : 'text-gray-400 hover:text-gray-600'
+                    }`}
+            >
+                
+            </button>
+        </div>
+    );
+}
+
+export default function ReverseSearchTable({ products, onRowClick }: ProductTableProps) {
+    const [page, setPage] = useState(1)
+    const perPage = 10 // Fixed number of rows per page
+    const [sortColumn, setSortColumn] = useState<SortColumn>(null)
+    const [sortDirection, setSortDirection] = useState<SortDirection>('desc')
+
+    const handleSort = (column: SortColumn, direction: SortDirection) => {
+        setSortColumn(column);
+        setSortDirection(direction);
+        setPage(1);
+    };
+    const sortedProducts = [...products].sort((a, b) => {
+        if (!sortColumn) return 0;
+
+        let aValue: number = 0;
+        let bValue: number = 0;
+
+        if (sortColumn === 'buybox_price') {
+            // Handle price as string with currency symbol
+            const getNumericPrice = (price: any): number => {
+                if (typeof price === 'number') return price;
+                if (typeof price === 'string') {
+                    // Remove currency symbols and parse to number
+                    const numericValue = parseFloat(price.replace(/[$,]/g, ''));
+                    return isNaN(numericValue) ? 0 : numericValue;
+                }
+                return 0;
+            };
+            
+            const aPriceValue = a.price || a.buybox_price || a.amazon_product?.price || a.amazon_product?.buybox_price || 0;
+            const bPriceValue = b.price || b.buybox_price || b.amazon_product?.price || b.amazon_product?.buybox_price || 0;
+            
+            aValue = getNumericPrice(aPriceValue);
+            bValue = getNumericPrice(bPriceValue);
+        } else {
+            aValue = a[sortColumn] ?? 0;
+            bValue = b[sortColumn] ?? 0;
+        }
+
+        return sortDirection === 'asc' ? aValue - bValue : bValue - aValue;
+    });
+
+
+    const totalPages = Math.ceil(sortedProducts.length / perPage)
+    const startIndex = (page - 1) * perPage
+    const endIndex = startIndex + perPage
+    const currentData = sortedProducts.slice(startIndex, endIndex)
+
+    const handlePageChange = (page: number) => {
+        setPage(page)
+    }
+
+    // Dummy function to maintain compatibility with TablePagination
+    const handlePerPageChange = () => {
+        // No longer used
+    }
+
+    return (
+        <div className="border border-gray-200 rounded-lg">
+            <div className="w-full bg-white rounded-lg">
+                <div className="overflow-x-auto">
+                    <table className="w-full text-sm">
+                        <thead>
+                            <tr className="bg-gray-50 border-b">
+                                <th className="px-4 py-3 text-left font-medium text-gray-600">Product name</th>
+                                <th className="px-4 py-3 text-left font-medium text-gray-600">Store</th>
+                                <th className="px-4 py-3 text-left font-medium text-gray-600">
+                                    <div className="flex items-center">
+                                        Profit Margin
+                                        <SortButton column="profit_margin" currentColumn={sortColumn} currentDirection={sortDirection} onSort={handleSort} />
+                                    </div>
+                                </th>
+                                <th className="px-4 py-3 text-left font-medium text-gray-600">
+                                    <div className="flex items-center">
+                                        Gross ROI
+                                        <SortButton column="roi_percentage" currentColumn={sortColumn} currentDirection={sortDirection} onSort={handleSort} />
+                                    </div>
+                                </th>
+                                <th className="px-4 py-3 text-left font-medium text-gray-600">Target Fees</th>
+                                <th className="px-4 py-3 text-left font-medium text-gray-600">
+                                    <div className="flex items-center">
+                                        BuyBox Price
+                                        <SortButton column="buybox_price" currentColumn={sortColumn} currentDirection={sortDirection} onSort={handleSort} />
+                                    </div>
+                                </th>
+                                <th className="px-4 py-3 text-left font-medium text-gray-600">No. of Sellers</th>
+                            </tr>
+                        </thead>
+                        <tbody>
+                            {currentData.map((product) => (
+                                <DraggableRow key={product.scraped_product.id} product={product} onRowClick={onRowClick} />
+                            ))}
+                        </tbody>
+                    </table>
+                </div>
+            </div>
+
+            <TablePagination
+                page={page}
+                perPage={perPage}
+                totalPages={totalPages}
+                handlePageChange={handlePageChange}
+                handlePerPageChange={handlePerPageChange}
+            />
+        </div>
+    )
+}
+
diff --git a/app/(dashboard)/go-compare/_components/SearchHistory.tsx b/app/(dashboard)/go-compare/_components/SearchHistory.tsx
deleted file mode 100644
index 3c59126..0000000
--- a/app/(dashboard)/go-compare/_components/SearchHistory.tsx
+++ /dev/null
@@ -1,153 +0,0 @@
-"use client";
-import { useState } from "react";
-import TablePagination from "./TablePagination";
-import { useSearchHistoryQuery } from "@/redux/api/quickSearchApi";
-import Loader from "@/utils/loader";
-
-export interface SearchRecord {
-    id: number
-    asinOrUpc: string
-    searchType: string
-    searchDate: string
-    amazonPrice: string
-    country: string
-    countryCode: string
-    countryFlag: string
-    store: string
-    storeLogo: string
-    results: number
-}
-
-interface CreatedAt {
-    human: string;
-    string: string;
-    timestamp: number;
-    locale: string;
-}
-
-interface Store {
-    id: string;
-    name: string;
-    logo: string;
-    marketplace_id: string | null;
-    country_id: number;
-    created_at: CreatedAt;
-}
-
-interface Country {
-    id: number;
-    name: string;
-    flag: string;
-    short_code: string;
-    created_at: CreatedAt;
-}
-
-interface ApiSearchResponseItem {
-    id: string;
-    user_id: number;
-    query: string;
-    amazon_price: string;
-    number_of_results: number;
-    type_of_search: string;
-    created_at: CreatedAt;
-    updated_at: string;
-    store: Store;
-    country: Country;
-    marketplace: string | null;
-}
-
-const tableColumns = [
-    { label: 'ASIN or UPC', key: 'asinOrUpc' },
-    { label: 'Type of search', key: 'searchType' },
-    { label: 'Search Date', key: 'searchDate' },
-    { label: 'Amazon Price', key: 'amazonPrice' },
-    { label: 'Country', key: 'country' },
-    { label: 'Store(s)', key: 'storeLogo' },
-    { label: 'No. of results', key: 'results' },
-]
-
-const SearchHistory = () => {
-    const [page, setPage] = useState(1)
-    const [perPage, setPerPage] = useState(10)
-
-    const { data, isLoading, isError } = useSearchHistoryQuery({});
-    const searchData: SearchRecord[] = data?.data.map((item: ApiSearchResponseItem) => ({
-        id: item.id,
-        asinOrUpc: item.query,
-        searchType: item.type_of_search,
-        searchDate: new Date(item.created_at.string).toLocaleDateString(),
-        amazonPrice: item.amazon_price ? `$${item.amazon_price}` : "-",
-        country: item.country.name,
-        countryCode: item.country.short_code,
-        countryFlag: item.country.flag,
-        store: item.store.name,
-        storeLogo: item.store.logo,
-        results: item.number_of_results,
-    })) || [];
-
-
-    const totalPages = Math.ceil(searchData.length / perPage)
-    const startIndex = (page - 1) * perPage
-    const endIndex = startIndex + perPage
-    const currentData = searchData.slice(startIndex, endIndex)
-
-
-    const handlePageChange = (page: number) => {
-        setPage(page)
-    }
-
-    const handlePerPageChange = (value: number) => {
-        setPerPage(value)
-        setPage(1)
-    }
-    return (
-        <div>
-            <p className="font-semibold">Search History</p>
-            {isError && <p>Error fetching history</p>}
-            <div className="flex items-center justify-center">
-                {isLoading && <Loader />}
-            </div>
-            {data?.data &&
-                <div className="w-full bg-white mt-5 border border-gray-200 rounded-lg ">
-                    <div className="overflow-x-auto ">
-                        <table className="w-full text-sm ">
-                            <thead>
-                                <tr className="border-b bg-[#FCFCFC]">
-                                    {tableColumns.map((column) => (
-                                        <th key={column.key} className="px-4 py-3 text-left text-[#737379] font-normal">{column.label}</th>
-                                    ))}
-                                </tr>
-                            </thead>
-                            <tbody className="">
-                                {currentData.map((record) => (
-                                    <tr key={record.id} className="font-medium">
-                                        <td className="px-4 pr-20 py-3 ">{record.asinOrUpc}</td>
-                                        <td className="px-4 py-3">{record.searchType}</td>
-                                        <td className="px-4 py-3">{record.searchDate}</td>
-                                        <td className="px-4 py-3">{record.amazonPrice}</td>
-                                        <td className="px-4 py-3">
-                                            <div className="flex items-center gap-2">
-                                                <div
-                                                    className="w-4 h-4 mt-2"
-                                                    dangerouslySetInnerHTML={{ __html: record.countryFlag.trim() || "" }}
-                                                />
-                                                <span className="font-normal">{record.country}</span>
-                                            </div>
-                                        </td>
-                                        <td className="px-4 py-3">
-                                            <img src={record.storeLogo} alt="" className="object-contain w-10 h-10" />
-                                        </td>
-                                        <td className="px-4 py-3">{record.results}</td>
-                                    </tr>
-                                ))}
-                            </tbody>
-                        </table>
-                    </div>
-                    <TablePagination page={page} perPage={perPage} totalPages={totalPages} handlePageChange={handlePageChange} handlePerPageChange={handlePerPageChange} />
-                </div>
-            }
-        </div>
-    )
-}
-
-export default SearchHistory
diff --git a/app/(dashboard)/go-compare/_components/SearchModal.tsx b/app/(dashboard)/go-compare/_components/SearchModal.tsx
new file mode 100644
index 0000000..db224c9
--- /dev/null
+++ b/app/(dashboard)/go-compare/_components/SearchModal.tsx
@@ -0,0 +1,410 @@
+"use client";
+/* eslint-disable @typescript-eslint/no-explicit-any */
+import { useEffect, useRef, useState } from "react";
+import { GoChevronDown, GoChevronUp } from "react-icons/go";
+import { IoCloseOutline } from "react-icons/io5";
+import { useLazyGetAllCountriesQuery } from "@/redux/api/quickSearchApi";
+import { useLazyGetProductCategoriesQuery } from "@/redux/api/auth";
+import { useRouter } from "next/navigation";
+import { Country } from "@/types/goCompare";
+import { message } from "antd";
+import { useDispatch } from "react-redux";
+import { setMarketPlaceId } from "@/redux/slice/globalSlice";
+import { CustomSelect as Select } from "@/lib/AntdComponents";
+
+interface SearchModalProps {
+    isOpen: boolean;
+    onClose: () => void;
+    title: string;
+    inputLabel: string;
+}
+
+const searchTypes = [
+    { id: 1, type: "Normal Search - (No Images, Less wait time)", value: false },
+    { id: 2, type: "Deep Search - (Longer wait time)", value: true },
+];
+
+export function SearchModal({ isOpen, onClose, title, inputLabel }: SearchModalProps) {
+    const router = useRouter();
+    const dispatch = useDispatch();
+    const [getCountries, { data: countries }] = useLazyGetAllCountriesQuery();
+    const [getProductCategories, { data: categoriesData }] = useLazyGetProductCategoriesQuery();
+    const [selectedCountry, setSelectedCountry] = useState<Country | undefined>();
+    const [isLoading, setIsLoading] = useState(true);
+    const [asinOrUpc, setAsinOrUpc] = useState("");
+    const [selectedSearchType, setSelectedSearchType] = useState(searchTypes[0]);
+    const [isCountryDropdownOpen, setIsCountryDropdownOpen] = useState(false);
+    const [isSearchTypeDropdown, setIsSearchTypeDropdown] = useState(false);
+    const [activeTab, setActiveTab] = useState<"manual" | "ai">("manual");
+    const [showAINotification, setShowAINotification] = useState(false);
+    const [selectedCategories, setSelectedCategories] = useState<string[]>([]);
+    const dropdownRef = useRef<HTMLDivElement>(null);
+
+    const isTacticalReverseSearch = title === "Tactical Reverse Search";
+
+    useEffect(() => {
+        setIsLoading(true);
+        getCountries({});
+        // Fetch categories for Tactical Reverse Search
+        if (isTacticalReverseSearch) {
+            getProductCategories({});
+        }
+    }, [isTacticalReverseSearch]);
+
+    useEffect(() => {
+        if (countries?.data?.length > 0) {
+            const defaultCountry = countries?.data[0];
+            setSelectedCountry(defaultCountry);
+            const marketplaceMapping: { [key: string]: number } = {
+                'US': 1,
+                'UK': 2,
+                'CA': 6,
+                'AU': 4,
+                'DE': 5,
+                'FR': 3,
+                'NG': 7,
+                'IN': 8
+            };
+            const marketplaceId = marketplaceMapping[defaultCountry.short_code] || 1;
+            dispatch(setMarketPlaceId(marketplaceId));
+            setIsLoading(false);
+        }
+    }, [countries, dispatch]);
+
+    const handleClose = () => {
+        setAsinOrUpc("");
+        setSelectedSearchType(searchTypes[0]);
+        setSelectedCountry(countries?.data[0]);
+        setActiveTab("manual");
+        setShowAINotification(false);
+        setSelectedCategories([]);
+        onClose();
+    };
+
+    const handleSearch = () => {
+        if (isTacticalReverseSearch && activeTab === "ai") {
+            if (!asinOrUpc) {
+                message.error("Please enter a query");
+                return;
+            }
+            setShowAINotification(true);
+            return;
+        }
+
+        if (!asinOrUpc || !selectedCountry) {
+            message.error("Missing required fields");
+            return;
+        }
+        
+        message.loading({
+            content: "Initiating search...",
+            key: "searchLoading",
+            duration: 1
+        });
+        
+        if (title === "Quick Search") {
+            const marketplaceMapping: { [key: string]: number } = {
+                'US': 1,
+                'UK': 2,
+                'CA': 6,
+                'AU': 4,
+                'DE': 5,
+                'FR': 3,
+                'NG': 7,
+                'IN': 8
+            };
+            const marketplaceId = marketplaceMapping[selectedCountry.short_code] || 1;
+            
+            setTimeout(() => {
+                router.push(
+                    `/go-compare/quick-search?asin=${asinOrUpc}&marketplace_id=${marketplaceId}&queue=${selectedSearchType.value}`
+                );
+                handleClose();
+            }, 100);
+        } else {
+            // Build query params for Tactical Reverse Search
+            let queryString = `/go-compare/reverse-search?query=${asinOrUpc}`;
+            
+            // Add categories if selected
+            if (selectedCategories.length > 0) {
+                queryString += `&categories=${selectedCategories.join(',')}`;
+            }
+            
+            setTimeout(() => {
+                router.push(queryString);
+                handleClose();
+            }, 100);
+        }
+    };
+
+    const handleAINotificationClose = () => {
+        setShowAINotification(false);
+        handleClose();
+    };
+
+    if (!isOpen) return null;
+
+    // AI Notification Modal
+    if (showAINotification) {
+        return (
+            <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
+                <div className="bg-white rounded-lg w-full max-w-md mx-4 overflow-hidden shadow-xl">
+                    <div className="p-6 text-center">
+                        <div className="mb-4">
+                            <svg className="mx-auto h-12 w-12 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
+                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
+                            </svg>
+                        </div>
+                        <h3 className="text-lg font-medium text-gray-900 mb-2">Thank You!</h3>
+                        <p className="text-gray-600">We will notify you when a report is ready.</p>
+                        <button
+                            onClick={handleAINotificationClose}
+                            className="mt-6 px-6 py-2 bg-[#18cb96] text-white rounded-md hover:bg-[#15b588]"
+                        >
+                            OK
+                        </button>
+                    </div>
+                </div>
+            </div>
+        );
+    }
+
+    return (
+        <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
+            <div className="bg-white rounded-lg w-full max-w-md mx-4 overflow-hidden shadow-xl">
+                <div className="flex justify-between items-center p-5 pb-4 font-medium">
+                    <h2 className="font-medium">{title}</h2>
+                    <button onClick={handleClose} className="text-gray-400 hover:text-gray-500">
+                        <IoCloseOutline size={22} />
+                    </button>
+                </div>
+
+                {/* Tabs - Only show for Tactical Reverse Search */}
+                {isTacticalReverseSearch && (
+                    <div className="px-5 border-b border-gray-200">
+                        <div className="flex gap-4">
+                            <button
+                                onClick={() => setActiveTab("manual")}
+                                className={`pb-3 px-1 text-sm font-medium border-b-2 transition-colors ${
+                                    activeTab === "manual"
+                                        ? "border-primary text-primary"
+                                        : "border-transparent text-gray-500 hover:text-gray-700"
+                                }`}
+                            >
+                                Manual Search
+                            </button>
+                            <button
+                                onClick={() => setActiveTab("ai")}
+                                className={`pb-3 px-1 text-sm font-medium border-b-2 transition-colors ${
+                                    activeTab === "ai"
+                                        ? "border-primary text-primary"
+                                        : "border-transparent text-gray-500 hover:text-gray-700"
+                                }`}
+                            >
+                                AI Search
+                            </button>
+                        </div>
+                    </div>
+                )}
+
+                <div className="p-5 pt-4 max-h-[70vh] overflow-y-auto space-y-4 font-normal">
+                    {/* AI Search Tab Content */}
+                    {isTacticalReverseSearch && activeTab === "ai" ? (
+                        <div className="py-6">
+                            <div className="text-center">
+                                <div className="mb-4">
+                                    <svg className="mx-auto h-16 w-16 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
+                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
+                                    </svg>
+                                </div>
+                                <h3 className="text-lg font-medium text-gray-900 mb-2">AI-Powered Search</h3>
+                                <p className="text-sm text-gray-600 leading-relaxed">
+                                    Our AI will automatically search and analyze the best possible products for you based on intelligent market analysis and trends.
+                                </p>
+                            </div>
+                        </div>
+                    ) : (
+                        /* Manual Search / Default Content */
+                        <>
+                            <div>
+                                <label htmlFor="asin-upc" className="block text-xs text-[#737379] mb-1.5">
+                                    {inputLabel}
+                                </label>
+                                <input
+                                    id="asin-upc"
+                                    type="text"
+                                    value={asinOrUpc}
+                                    onChange={(e) => setAsinOrUpc(e.target.value)}
+                                    placeholder={title === "Quick Search" ? "1234-5678-90" : inputLabel}
+                                    className="w-full text-[#9F9FA3] text-sm p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#4C3CC6]"
+                                />
+                            </div>
+
+                            {/* Categories Selection - Only for Tactical Reverse Search */}
+                            {isTacticalReverseSearch && (
+                                <div>
+                                    <label className="block text-xs text-[#737379] mb-1.5">
+                                        Product Categories 
+                                    </label>
+                                    <Select
+                                        mode="multiple"
+                                        className="w-full"
+                                        style={{ width: "100%" }}
+                                        placeholder="Select categories"
+                                        value={selectedCategories.length > 0 ? selectedCategories : undefined}
+                                        onChange={(value: string[]) => setSelectedCategories(value)}
+                                        options={
+                                            categoriesData?.data?.map((category: any) => ({
+                                                value: category.id.toString(),
+                                                label: category.category_name,
+                                            })) || []
+                                        }
+                                        loading={!categoriesData}
+                                        maxTagCount="responsive"
+                                        showSearch
+                                        filterOption={(input: string, option?: { label: string; value: string }) =>
+                                            (option?.label ?? '').toLowerCase().includes(input.toLowerCase())
+                                        }
+                                    />
+                                </div>
+                            )}
+
+                            <div>
+                                <label className="block text-xs text-[#737379] mb-1.5">Search Country</label>
+                                <div className="relative" ref={dropdownRef}>
+                                    <button
+                                        onClick={() => setIsCountryDropdownOpen(!isCountryDropdownOpen)}
+                                        className="w-full text-[#9F9FA3] text-sm p-3 border border-gray-300 rounded-md bg-white flex items-center justify-between focus:outline-none focus:ring-2 focus:ring-[#4C3CC6]"
+                                    >
+                                        <div className="flex items-center">
+                                            {isLoading ? (
+                                                <div className="inline-block w-4 h-4 mr-2 mt-2 rounded-sm bg-gray-200 flex items-center justify-center animate-pulse">
+                                                    <span className="text-xs"></span>
+                                                </div>
+                                            ) : selectedCountry?.flag ? (
+                                                <img
+                                                    src={selectedCountry.flag}
+                                                    alt={`${selectedCountry.name} flag`}
+                                                    className="inline-block w-4 h-4 mr-2 mt-2 rounded-sm"
+                                                    onError={(e) => {
+                                                        (e.target as HTMLImageElement).style.display = 'none';
+                                                        const nextElement = (e.target as HTMLImageElement).nextElementSibling as HTMLElement;
+                                                        if (nextElement) nextElement.style.display = 'flex';
+                                                    }}
+                                                />
+                                            ) : (
+                                                <div className="inline-block w-4 h-4 mr-2 mt-2 rounded-sm bg-gray-200 flex items-center justify-center">
+                                                    <span className="text-xs"></span>
+                                                </div>
+                                            )}
+                                            <span>{isLoading ? "Loading..." : selectedCountry?.name}</span>
+                                        </div>
+                                        <GoChevronDown size={18} color="black" />
+                                    </button>
+
+                                    {isCountryDropdownOpen && (
+                                        <div className="absolute z-10 mt-1 px-2 w-full text-sm bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-auto">
+                                            {countries?.data.map((country: Country) => (
+                                                <button
+                                                    key={country.id}
+                                                    onClick={() => {
+                                                        setSelectedCountry(country);
+                                                        setIsCountryDropdownOpen(false);
+                                                        const marketplaceMapping: { [key: string]: number } = {
+                                                            'US': 1,
+                                                            'UK': 2,
+                                                            'CA': 3,
+                                                            'AU': 4,
+                                                            'DE': 5,
+                                                            'FR': 6,
+                                                            'NG': 7,
+                                                            'IN': 8
+                                                        };
+                                                        const marketplaceId = marketplaceMapping[country.short_code] || 1;
+                                                        dispatch(setMarketPlaceId(marketplaceId));
+                                                    }}
+                                                    className="w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center border-b"
+                                                >
+                                                    {country.flag ? (
+                                                        <>
+                                                            <img
+                                                                src={country.flag}
+                                                                alt={`${country.name} flag`}
+                                                                className="inline-block w-4 h-4 mr-2 mt-2 rounded-sm"
+                                                                onError={(e) => {
+                                                                    (e.target as HTMLImageElement).style.display = 'none';
+                                                                    const parentElement = (e.target as HTMLImageElement).parentElement;
+                                                                    if (parentElement) {
+                                                                        const nextElement = parentElement.nextElementSibling as HTMLElement;
+                                                                        if (nextElement) nextElement.style.display = 'flex';
+                                                                    }
+                                                                }}
+                                                            />
+                                                            <div className="hidden inline-block w-4 h-4 mr-2 mt-2 rounded-sm bg-gray-200 items-center justify-center">
+                                                                <span className="text-xs"></span>
+                                                            </div>
+                                                        </>
+                                                    ) : (
+                                                        <div className="inline-block w-4 h-4 mr-2 mt-2 rounded-sm bg-gray-200 flex items-center justify-center">
+                                                            <span className="text-xs"></span>
+                                                        </div>
+                                                    )}
+                                                    <span>{country.name}</span>
+                                                </button>
+                                            ))}
+                                        </div>
+                                    )}
+                                </div>
+                            </div>
+
+                            <div>
+                                <label className="block text-xs text-[#737379] mb-1.5">Select Search Type</label>
+                                <div className="relative" ref={dropdownRef}>
+                                    <button
+                                        onClick={() => setIsSearchTypeDropdown(!isSearchTypeDropdown)}
+                                        className="w-full text-[#9F9FA3] text-sm p-3 border border-gray-300 rounded-md bg-white flex items-center justify-between focus:outline-none focus:ring-2 focus:ring-[#4C3CC6]"
+                                    >
+                                        <span>{selectedSearchType?.type}</span>
+                                        <GoChevronUp size={18} color="black" />
+                                    </button>
+
+                                    {isSearchTypeDropdown && (
+                                        <div className="absolute z-10 bottom-full mb-1 px-2 w-full text-sm bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-auto">
+                                            {searchTypes.map((searchType) => (
+                                                <button
+                                                    key={searchType.id}
+                                                    onClick={() => {
+                                                        setSelectedSearchType(searchType);
+                                                        setIsSearchTypeDropdown(false);
+                                                    }}
+                                                    className="w-full text-left px-4 py-2 hover:bg-gray-100 border-b"
+                                                >
+                                                    <span>{searchType.type}</span>
+                                                </button>
+                                            ))}
+                                        </div>
+                                    )}
+                                </div>
+                            </div>
+                        </>
+                    )}
+                </div>
+
+                <div className="p-5 text-sm font-medium flex justify-end space-x-3">
+                    <button
+                        onClick={handleClose}
+                        className="px-4 py-1 shadow-lg border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"
+                    >
+                        Cancel
+                    </button>
+                    <button
+                        onClick={handleSearch}
+                        className="px-4 py-1 shadow-lg bg-[#18cb96] text-white rounded-md hover:bg-[#15b588]"
+                    >
+                        Search
+                    </button>
+                </div>
+            </div>
+        </div>
+    );
+}
\ No newline at end of file
diff --git a/app/(dashboard)/go-compare/_components/SimpleProductCard.tsx b/app/(dashboard)/go-compare/_components/SimpleProductCard.tsx
new file mode 100644
index 0000000..e0f4df5
--- /dev/null
+++ b/app/(dashboard)/go-compare/_components/SimpleProductCard.tsx
@@ -0,0 +1,169 @@
+import React from 'react';
+import Image from 'next/image';
+import { AmazonProduct, ProductObj, ReverseAmazon, ReverseAmazonScraped, QuickSearchResult } from "@/types/goCompare";
+
+type ProductCardType = ProductObj | AmazonProduct | ReverseAmazon | ReverseAmazonScraped | QuickSearchResult;
+
+interface SimpleProductCardProps {
+  product: ProductCardType;
+}
+
+// Type guards to check for specific properties
+const hasImageUrl = (product: unknown): product is { image_url: string } => 
+  product !== null && typeof product === 'object' && 'image_url' in product && typeof (product as Record<string, unknown>).image_url === 'string';
+
+const hasImages = (product: unknown): product is { images: string[] } => 
+  product !== null && typeof product === 'object' && 'images' in product && Array.isArray((product as Record<string, unknown>).images);
+
+const hasImage = (product: unknown): product is { image: string } => 
+  product !== null && typeof product === 'object' && 'image' in product && typeof (product as Record<string, unknown>).image === 'string';
+
+const hasProductName = (product: unknown): product is { product_name: string } => 
+  product !== null && typeof product === 'object' && 'product_name' in product && typeof (product as Record<string, unknown>).product_name === 'string';
+
+const hasTitle = (product: unknown): product is { title: string } => 
+  product !== null && typeof product === 'object' && 'title' in product && typeof (product as Record<string, unknown>).title === 'string';
+
+const hasName = (product: unknown): product is { name: string } => 
+  product !== null && typeof product === 'object' && 'name' in product && typeof (product as Record<string, unknown>).name === 'string';
+
+const hasPrice = (product: unknown): product is { price: string | number } => 
+  product !== null && typeof product === 'object' && 'price' in product && 
+  (typeof (product as Record<string, unknown>).price === 'string' || typeof (product as Record<string, unknown>).price === 'number');
+  
+const hasStore = (product: unknown): product is { store: string } => 
+  product !== null && typeof product === 'object' && 'store' in product && typeof (product as Record<string, unknown>).store === 'string';
+
+// Function to create a short name from the full product name
+  const createShortName = (fullName: string): string => {
+    if (!fullName) return 'Product Name';
+    
+    // Split by common separators and take first meaningful part
+    const words = fullName.split(/[,\-|]/)[0].trim();
+    
+    // If still too long, take first 3-4 words
+    const wordArray = words.split(' ');
+    if (wordArray.length > 4) {
+      return wordArray.slice(0, 4).join(' ') + '...';
+    }
+    
+    // If single part is too long, truncate at character limit
+    if (words.length > 50) {
+      return words.substring(0, 47) + '...';
+    }
+    
+    return words;
+  };
+
+  const SimpleProductCard: React.FC<SimpleProductCardProps> = ({ product }) => {
+  // Extract product details with fallbacks
+  let imageUrl = '';
+  let productName = '';
+  let price: string | number = 0;
+  let storeName = '';
+
+  try {
+    // Handle different product data structures
+    if (!product) {
+      throw new Error("No product data");
+    }
+
+    // Extract image URL
+    if (hasImageUrl(product)) {
+      imageUrl = product.image_url;
+    } else if (hasImages(product) && product.images.length > 0) {
+      imageUrl = product.images[0];
+    } else if (hasImage(product)) {
+      imageUrl = product.image;
+    }
+
+    // Extract product name and create short version
+    if (hasProductName(product)) {
+      productName = createShortName(product.product_name);
+    } else if (hasTitle(product)) {
+      productName = createShortName(product.title);
+    } else if (hasName(product)) {
+      productName = createShortName(product.name);
+    } else {
+      productName = 'Product Name';
+    }
+
+    // Extract store name
+    if (hasStore(product)) {
+      storeName = product.store;
+    } else if ('store_name' in product && typeof product.store_name === 'string') {
+      storeName = product.store_name;
+    } else if ('merchant' in product && typeof product.merchant === 'string') {
+      storeName = product.merchant;
+    } else {
+      storeName = 'Unknown Store';
+    }
+
+    // Extract price
+    if (hasPrice(product)) {
+      if (typeof product.price === 'number') {
+        price = product.price;
+      } else if (typeof product.price === 'string') {
+        // Try to extract numeric value from string with currency
+        const numericPrice = parseFloat(product.price.replace(/[^0-9.]/g, ''));
+        if (!isNaN(numericPrice)) {
+          price = numericPrice;
+        } else {
+          price = product.price;
+        }
+      }
+    }
+  } catch (error) {
+    console.error("Error processing product data:", error);
+    // Set defaults if there's an error
+    imageUrl = '';
+    productName = 'Product Name';
+    storeName = 'Unknown Store';
+    price = 0;
+  }
+
+  // Format price to show with commas for thousands
+  const formattedPrice = typeof price === 'string' && /[$]/.test(price)
+    ? price
+    : typeof price === 'number'
+      ? new Intl.NumberFormat('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 }).format(price)
+      : price;
+
+  // Ensure currency sign is present
+  const displayPrice = typeof price === 'string' && /[$]/.test(price)
+    ? price
+    : `$${formattedPrice}`;
+
+  return (
+    <div className="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden p-2.5 pb-0 flex flex-col h-full min-h-[250px] max-h-[326px]">
+      <div className="relative flex-grow flex items-center justify-center p-2">
+        <Image 
+          src={imageUrl || "https://via.placeholder.com/150?text=No+Image"}
+          alt={productName || "Product"} 
+          className="object-contain w-full max-h-[180px] rounded-md"
+          width={180}
+          height={180}
+          unoptimized={imageUrl?.startsWith('data:') || !imageUrl}
+          onError={() => {
+            console.error("Image failed to load");
+          }}
+        />
+      </div>
+      <div className="mt-auto p-2">
+        <div className="text-sm text-left mb-2 line-clamp-2 block" title={productName}>
+          {productName}
+        </div>
+        <div className="flex flex-wrap items-center justify-between mt-2">
+          <span className="text-xl font-bold">
+            {displayPrice}
+          </span>
+          <span className="text-sm text-gray-600 font-medium">
+            {storeName || "Unknown Store"}
+          </span>
+        </div>
+      </div>
+    </div>
+  );
+};
+
+export default SimpleProductCard;
\ No newline at end of file
diff --git a/app/(dashboard)/go-compare/_components/TablePagination.tsx b/app/(dashboard)/go-compare/_components/TablePagination.tsx
index 2fe87a1..9d2f723 100644
--- a/app/(dashboard)/go-compare/_components/TablePagination.tsx
+++ b/app/(dashboard)/go-compare/_components/TablePagination.tsx
@@ -1,64 +1,54 @@
+/* eslint-disable @typescript-eslint/no-unused-vars */
 import { GoChevronDown, GoChevronLeft, GoChevronRight } from "react-icons/go";
 
 interface PaginationProps {
     page: number
     totalPages: number
-    perPage: number
+    perPage?: number
     handlePageChange: (page: number) => void
-    handlePerPageChange: (value: number) => void
+    handlePerPageChange?: (value: number) => void
 }
 
-const TablePagination = ({ page, totalPages, perPage, handlePageChange, handlePerPageChange }: PaginationProps) => {
-    return (
-        <div className="flex items-center justify-between px-4 py-3 flex-wrap border-t border-gray-200 pb-16">
-            <div className="text-sm text-gray-600">
-                Page {page} of {totalPages}
-            </div>
+const TablePagination = ({ page, totalPages, handlePageChange }: PaginationProps) => {
+    const pagesToShow = 5;
+    const startPage = Math.max(1, page - Math.floor(pagesToShow / 2));
+    const endPage = Math.min(totalPages, startPage + pagesToShow - 1);
+    const adjustedStartPage = Math.max(1, endPage - pagesToShow + 1);
 
+    // Generate array of page numbers to display
+    const pageNumbers = [];
+    for (let i = adjustedStartPage; i <= endPage; i++) {
+        pageNumbers.push(i);
+    }
+
+    return (
+        <div className="flex items-center justify-center px-4 py-3 flex-wrap border-t border-gray-200 pb-16">
             <div className="flex items-center space-x-2">
                 <button
-                    onClick={() => handlePageChange(Math.max(1, page - 1))}
-                    disabled={page === 1}
-                    className="h-9 w-9 flex items-center justify-center rounded-full border border-gray-200 shadow-md hover:bg-gray-100 disabled:text-gray-400 cursor-pointer"
+                    disabled={page <= 1}
+                    onClick={() => page > 1 && handlePageChange(page - 1)}
+                    className="h-9 w-9 flex items-center justify-center rounded-full border border-gray-200 shadow-md disabled:text-gray-400 enabled:hover:bg-gray-100 enabled:cursor-pointer"
                 >
                     <GoChevronLeft className="h-5 w-5" />
                 </button>
 
-                {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {
-                    const pageNumber = i + 1
-                    return (
-                        <button
-                            key={pageNumber}
-                            onClick={() => handlePageChange(pageNumber)}
-                            className={`h-9 w-9 border-gray-200 rounded-full text-sm flex items-center justify-center ${page === pageNumber ? "bg-green-600 text-white" : "hover:bg-gray-100 border"
-                                }`}
-                        >
-                            {pageNumber}
-                        </button>
-                    )
-                })}
+                {pageNumbers.map(pageNumber => (
+                    <button
+                        key={pageNumber}
+                        onClick={() => handlePageChange(pageNumber)}
+                        className={`h-9 w-9 border-gray-200 rounded-full text-sm flex items-center justify-center ${page === pageNumber ? "bg-green-600 text-white" : "hover:bg-gray-100 border"}`}
+                    >
+                        {pageNumber}
+                    </button>
+                ))}
 
                 <button
-                    onClick={() => handlePageChange(Math.min(totalPages, page + 1))}
-                    disabled={page === totalPages}
-                    className="h-9 w-9 flex items-center justify-center rounded-full border border-gray-200 shadow-md hover:bg-gray-100 disabled:text-gray-400 cursor-pointer"
+                    disabled={page >= totalPages}
+                    onClick={() => page < totalPages && handlePageChange(page + 1)}
+                    className="h-9 w-9 flex items-center justify-center rounded-full border border-gray-200 shadow-md disabled:text-gray-400 enabled:hover:bg-gray-100 enabled:cursor-pointer"
                 >
                     <GoChevronRight className="h-5 w-5" />
                 </button>
-
-
-            </div>
-            <div className="md:flex hidden items-center ml-4 border rounded-md border-gray-300 justify-center px-3 py-1.5 gap-2 shadow-md">
-                <GoChevronDown className="pointer-events-none" />
-                <select
-                    value={perPage}
-                    onChange={(e) => handlePerPageChange(Number(e.target.value))}
-                    className="focus:outline-none appearance-none text-sm font-medium"
-                >
-                    <option value={5}>5 Data per row</option>
-                    <option value={10}>10 Data per row</option>
-                    <option value={20}>20 Data per row</option>
-                </select>
             </div>
         </div>
     )
diff --git a/app/(dashboard)/go-compare/_components/dnd/Overlay.tsx b/app/(dashboard)/go-compare/_components/dnd/Overlay.tsx
index 31b7a5f..3895a32 100644
--- a/app/(dashboard)/go-compare/_components/dnd/Overlay.tsx
+++ b/app/(dashboard)/go-compare/_components/dnd/Overlay.tsx
@@ -1,36 +1,54 @@
-import React from 'react'
-import { ProductObj } from '../QuickSearchTable'
+import { ProductObj, ReverseAmazonScraped } from '@/types/goCompare';
+import React from 'react';
+import Image from 'next/image';
 
 interface ActiveProductProp {
-    activeProduct: ProductObj
+    activeProduct: ProductObj | ReverseAmazonScraped | null | undefined;
 }
 
 const Overlay = ({ activeProduct }: ActiveProductProp) => {
     if (!activeProduct) return null;
 
-    const { scraped_product, store} = activeProduct;
+    const isScrapedProduct = 'scraped_product' in activeProduct && 'store' in activeProduct;
+
+    const imageSrc = isScrapedProduct ? activeProduct.scraped_product.store_logo_url : activeProduct.image;
+    const altText = isScrapedProduct ? activeProduct.scraped_product.product_name : activeProduct.name;
+    const productName = isScrapedProduct ? activeProduct.scraped_product.product_name : activeProduct.name;
+    const subText = isScrapedProduct ? activeProduct.store.name : activeProduct.brand;
+    
     return (
         <div className="bg-white rounded-lg shadow-lg border border-gray-200 p-3 w-64 cursor-pointer">
             <div className="flex items-center gap-2">
                 <div className="w-10 h-10 relative rounded overflow-hidden flex-shrink-0 flex items-center justify-center">
-                    <img
-                        src={scraped_product.store_logo_url}
-                        alt={scraped_product.product_name}
-                        className="object-contain w-10 h-10"
+                    <Image 
+                        src={imageSrc?.startsWith('data:') ? imageSrc : imageSrc?.includes(',') ? imageSrc : `data:image/png;base64,${imageSrc}`} 
+                        alt={altText || "Product image"} 
+                        width={40}
+                        height={40}
+                        className="object-contain" 
+                        onError={() => {
+                            // Handle error with placeholder
+                            const imgElement = document.createElement('img');
+                            imgElement.src = "https://via.placeholder.com/40?text=Image";
+                            imgElement.alt = "Placeholder";
+                            imgElement.className = "object-contain w-10 h-10";
+                            const parent = document.querySelector('.w-10.h-10.relative');
+                            if (parent) {
+                                parent.innerHTML = '';
+                                parent.appendChild(imgElement);
+                            }
+                        }}
                     />
                 </div>
                 <div className="flex-1">
-                    <p className="text-sm font-medium line-clamp-1">{scraped_product.product_name}</p>
+                    <p className="text-sm font-medium line-clamp-1">{productName}</p>
                     <div className="flex items-center justify-between mt-1">
-                        {/* <span className="text-sm font-bold">{activeProduct.targetSales}</span> */}
-                        <span className="text-xs text-gray-500">{store.name}</span>
+                        <span className="text-xs text-gray-500">{subText}</span>
                     </div>
                 </div>
             </div>
         </div>
-    )
-}
-
-export default Overlay
-
+    );
+};
 
+export default Overlay;
diff --git a/app/(dashboard)/go-compare/layout.tsx b/app/(dashboard)/go-compare/layout.tsx
new file mode 100644
index 0000000..a45991e
--- /dev/null
+++ b/app/(dashboard)/go-compare/layout.tsx
@@ -0,0 +1,21 @@
+import { Metadata } from "next";
+import Navigation from "./_components/Navigation";
+
+export const metadata: Metadata = {
+  title: "Go Compare",
+  description: "Go Compare",
+};
+
+export default function GoCompareLayout({
+  children,
+}: Readonly<{
+  children: React.ReactNode;
+}>) {
+  return (
+    <main className="flex flex-col gap-5 rounded-xl bg-white p-4 lg:p-5">
+      <Navigation />
+      {children}
+    </main>
+  );
+}
+
diff --git a/app/(dashboard)/go-compare/page.tsx b/app/(dashboard)/go-compare/page.tsx
index e08f17f..d4ff68a 100644
--- a/app/(dashboard)/go-compare/page.tsx
+++ b/app/(dashboard)/go-compare/page.tsx
@@ -1,13 +1,14 @@
-import { Metadata } from "next";
-import GoCompare from "./_components/GoCompare";
-
-export const metadata: Metadata = {
-  title: "Go Compare",
-  description: "Go Compare",
-};
+import deckIco from "@/public/assets/svg/gocompare/deck.svg"
+import Image from "next/image";
 
 const page = () => {
-  return <GoCompare/>;
+  return (
+    <div className="flex flex-col gap-3 justify-center items-center my-auto" style={{ height: "calc(100vh - 210px)" }}>
+      <Image src={deckIco || "/placeholder.svg"} alt="deck icon" />
+      <h1 className="font-medium">Your deck is empty</h1>
+      <p className="text-sm text-[#737379] text-center">Add products to compare deals and find the best opportunities.</p>
+    </div>
+  )
 };
 
 export default page;
diff --git a/app/(dashboard)/go-compare/quick-search/page.tsx b/app/(dashboard)/go-compare/quick-search/page.tsx
new file mode 100644
index 0000000..c152a8f
--- /dev/null
+++ b/app/(dashboard)/go-compare/quick-search/page.tsx
@@ -0,0 +1,754 @@
+"use client";
+/* eslint-disable @typescript-eslint/no-explicit-any */
+import { DndContext, type DragEndEvent, DragOverlay, type DragStartEvent, PointerSensor, useSensor, useSensors } from "@dnd-kit/core"
+import { restrictToWindowEdges } from "@dnd-kit/modifiers"
+import { useGetSearchByIdQuery, useQuickSearchQuery, useGetComparisonProductDetailsQuery, useGetProductDetailsQuery, useLazyRefreshQuickSearchQuery } from '@/redux/api/quickSearchApi';
+import Image from "next/image";
+import { usePathname, useSearchParams } from 'next/navigation';
+import React, { useEffect, useState, useCallback, useRef, useMemo } from 'react'
+import { TbListSearch } from "react-icons/tb";
+import { Droppable } from "../_components/dnd/Droppable";
+import { ProductCard } from "../_components/ProductCard";
+import SimpleProductCard from "../_components/SimpleProductCard";
+import Overlay from "../_components/dnd/Overlay";
+import ProductInformation from "../_components/ProductInformation";
+import QuickSearchTable from "../_components/QuickSearchTable";
+import { ProductObj, QuickSearchData, QuickSearchResult } from "@/types/goCompare";
+// Ensure we're using the latest type definitions
+import { FetchBaseQueryError } from "@reduxjs/toolkit/query";
+import { SerializedError } from "@reduxjs/toolkit";
+import GoCompareLoader from "../_components/Loader";
+import Loader from "@/utils/loader";
+
+export default function QuickSearch() {
+    const params = useSearchParams();
+    const pathname = usePathname();
+    const asin = params.get('asin') ?? '';
+    const marketplace_id = params.get('marketplace_id') ? parseInt(params.get('marketplace_id')!) : undefined;
+    const queueParam = params.get('queue');
+    const queue = queueParam === 'true';
+    const searchId = params.get('searchId');
+    
+    // Create a reference to the Comparison Workspace section
+    const comparisonWorkspaceRef = useRef<HTMLDivElement>(null);
+
+    const [lastQueryParams, setLastQueryParams] = useState({
+        asin, marketplace_id, queue
+    });
+
+    const [isRouteChanging, setIsRouteChanging] = useState(false);
+
+    const searchByIdResult = useGetSearchByIdQuery(
+        { id: searchId ?? '' },
+        { skip: !searchId, refetchOnMountOrArgChange: true }
+    );
+
+    const quickSearchResult = useQuickSearchQuery(
+        { asin, marketplace_id: marketplace_id!, queue },
+        { skip: !!searchId || !marketplace_id, refetchOnMountOrArgChange: true }
+    );
+
+    // State for storing searchId from initial response
+    const [currentSearchId, setCurrentSearchId] = useState<string | number | null>(searchId);
+    
+    // Lazy query for refresh functionality
+    const [triggerRefreshSearch, refreshSearchResult] = useLazyRefreshQuickSearchQuery();
+
+    type QueryResult = {
+        data: QuickSearchResult[] | QuickSearchData | { results: QuickSearchResult[] } | undefined;
+        isLoading: boolean;
+        isError: boolean;
+        isFetching: boolean;
+        error?: FetchBaseQueryError | SerializedError;
+    };
+
+    // Capture searchId from initial quick search response
+    useEffect(() => {
+        console.log(' useEffect triggered - quickSearchResult.data:', !!quickSearchResult.data, 'searchId:', searchId, 'currentSearchId:', currentSearchId);
+        console.log(' quickSearchResult.isLoading:', quickSearchResult.isLoading);
+        console.log(' quickSearchResult.isError:', quickSearchResult.isError);
+        console.log(' quickSearchResult.error:', quickSearchResult.error);
+        
+        if (quickSearchResult.data && !searchId && !currentSearchId) {
+            console.log(' Full quickSearchResult.data structure:', quickSearchResult.data);
+            console.log(' quickSearchResult.data type:', typeof quickSearchResult.data);
+            console.log(' quickSearchResult.data keys:', Object.keys(quickSearchResult.data));
+            
+            // Try different possible paths for the ID
+            const responseSearchId1 = quickSearchResult.data?.data?.id;
+            const responseSearchId2 = quickSearchResult.data?.id;
+            const responseSearchId3 = (quickSearchResult.data as any)?.id;
+            
+            console.log(' Trying data.data.id:', responseSearchId1);
+            console.log(' Trying data.id:', responseSearchId2);
+            console.log(' Trying direct id:', responseSearchId3);
+            
+            const responseSearchId = responseSearchId1 || responseSearchId2 || responseSearchId3;
+            
+            if (responseSearchId) {
+                console.log(' Captured searchId from initial response:', responseSearchId);
+                setCurrentSearchId(responseSearchId);
+            } else {
+                console.log(' No searchId found in initial response');
+                console.log(' Available data structure:', JSON.stringify(quickSearchResult.data, null, 2));
+            }
+        }
+    }, [quickSearchResult.data, searchId, currentSearchId]);
+
+    // Log the raw API response for debugging (only in development)
+    useEffect(() => {
+        if (process.env.NODE_ENV === 'development') {
+            if (quickSearchResult.data) {
+                console.log("Quick Search API Response:", quickSearchResult.data);
+            }
+            if (searchByIdResult.data) {
+                console.log("Search By ID API Response:", searchByIdResult.data);
+            }
+        }
+    }, [quickSearchResult.data, searchByIdResult.data]);
+
+    const result: QueryResult = (() => {
+        // Prioritize refresh search result if available and has data
+        if (refreshSearchResult.data) {
+            console.log(' Refresh search result:', refreshSearchResult);
+            return {
+                data: refreshSearchResult.data?.data || refreshSearchResult.data,
+                isLoading: refreshSearchResult.isLoading,
+                isError: refreshSearchResult.isError,
+                isFetching: refreshSearchResult.isFetching,
+                error: refreshSearchResult.error,
+            };
+        }
+        
+        // Fallback to existing logic
+        if (searchId) {
+            return {
+                data: searchByIdResult.data?.data,
+                isLoading: searchByIdResult.isLoading,
+                isError: searchByIdResult.isError,
+                isFetching: searchByIdResult.isFetching,
+                error: searchByIdResult.error,
+            };
+        }
+        
+        return {
+            data: quickSearchResult.data?.data,
+            isLoading: quickSearchResult.isLoading,
+            isError: quickSearchResult.isError,
+            isFetching: quickSearchResult.isFetching,
+            error: quickSearchResult.error,
+        };
+    })();
+
+    const { data, isLoading, isError, isFetching, error } = result;
+
+    const [selectedProducts, setSelectedProducts] = useState<ProductObj[]>([])
+    const [activeProduct, setActiveProduct] = useState<ProductObj | null>(null)
+    const [selectedAsin, setSelectedAsin] = useState<string | null>(null)
+    const [selectedSalesPrice, setSelectedSalesPrice] = useState<string | null>(null)
+    
+    // Helper function to check if any product has incomplete data for the specified columns
+    const hasIncompleteData = useCallback((products: (ProductObj | QuickSearchResult)[]): boolean => {
+        return products.some(product => {
+            if ('store_name' in product) {
+                // QuickSearchResult type
+                const qsProduct = product as QuickSearchResult;
+                return qsProduct.profit_margin === null || 
+                       qsProduct.profit_margin === undefined || 
+                       qsProduct.profit_margin === 0 ||
+                       qsProduct.gross_roi === null || 
+                       qsProduct.gross_roi === undefined || 
+                       qsProduct.gross_roi === 0 ||
+                       qsProduct.amazon_price === null || 
+                       qsProduct.amazon_price === undefined || 
+                       qsProduct.amazon_price === '' ||
+                       qsProduct.amazon_price === 'N/A';
+            } else {
+                // ProductObj type
+                const pProduct = product as ProductObj;
+                return pProduct.profit_margin === null || 
+                       pProduct.profit_margin === undefined || 
+                       pProduct.profit_margin === 0 ||
+                       pProduct.roi_percentage === null || 
+                       pProduct.roi_percentage === undefined || 
+                       pProduct.roi_percentage === 0 ||
+                       (pProduct.scraped_product.price.amount + pProduct.price_difference) === null ||
+                       (pProduct.scraped_product.price.amount + pProduct.price_difference) === undefined ||
+                       (pProduct.scraped_product.price.amount + pProduct.price_difference) === 0;
+            }
+        });
+    }, []);
+
+    // Transform products data with memoization to prevent unnecessary recalculations
+    const transformedProducts = useMemo(() => {
+        // Handle QuickSearchResult type
+        let quickSearchResults: QuickSearchResult[] = [];
+        let productObjs: ProductObj[] = [];
+        
+        // Determine which data structure we're working with
+        if (Array.isArray(data) && data.length > 0) {
+            if ('store_name' in data[0]) {
+                // It's a QuickSearchResult array
+                quickSearchResults = data as QuickSearchResult[];
+            } else if ('scraped_product' in data[0]) {
+                // It's a ProductObj array
+                // Use type assertion with unknown as intermediate step
+                productObjs = (data as unknown) as ProductObj[];
+            }
+        } else if (data && 'results' in data) {
+            quickSearchResults = data.results as QuickSearchResult[];
+        } else if (data && 'opportunities' in data) {
+            productObjs = data.opportunities as ProductObj[];
+        }
+        
+        // If amazon_price exists at the top level of data, add it to each QuickSearchResult
+        if (data && 'amazon_price' in data && quickSearchResults.length > 0) {
+            quickSearchResults = quickSearchResults.map(product => ({
+                ...product,
+                amazon_price: String(data.amazon_price) // Ensure it's a string
+            }));
+        }
+        
+        // Return the appropriate array based on which one has data
+        return quickSearchResults.length > 0 ? quickSearchResults : productObjs;
+    }, [data]);
+
+
+    // Get ASIN for product details API call
+    // Log the values being sent to the query only in development
+    if (process.env.NODE_ENV === 'development') {
+        console.log("Selected ASIN:", selectedAsin);
+        console.log("Marketplace ID:", marketplace_id);
+        console.log("Selected Sales Price:", selectedSalesPrice);
+        console.log("Final ASIN for API:", selectedAsin || asin || '');
+        console.log("Final Sales Price for API:", selectedSalesPrice || undefined);
+    }
+
+    // Left Container API - Amazon Product Details
+    const amazonProductDetailsResult = useGetProductDetailsQuery(
+        { asin: selectedAsin || asin || '', marketplace_id: marketplace_id || 1 },
+        {
+            skip: (!selectedAsin && !asin) || !marketplace_id,
+            refetchOnMountOrArgChange: true
+        }
+    );
+
+    // Right Container API - Comparison Product Details (when needed)
+    const comparisonProductDetailsResult = useGetComparisonProductDetailsQuery(
+        { asin: selectedAsin || asin || '', marketplace_id: marketplace_id || 1, sales_price: selectedSalesPrice || undefined },
+        {
+            skip: (!selectedAsin && !asin) || !marketplace_id || !selectedSalesPrice,
+            refetchOnMountOrArgChange: true
+        }
+    );
+    
+    // Log the product details response for debugging
+    useEffect(() => {
+        if (amazonProductDetailsResult.data && process.env.NODE_ENV === 'development') {
+            console.log("Amazon Product details response:", amazonProductDetailsResult.data);
+            console.log("Amazon Product current_price:", amazonProductDetailsResult.data.data?.current_price);
+            console.log("Amazon Product data structure:", amazonProductDetailsResult.data.data);
+            console.log("Amazon Product isLoading:", amazonProductDetailsResult.isLoading);
+            console.log("Amazon Product isFetching:", amazonProductDetailsResult.isFetching);
+        }
+        if (amazonProductDetailsResult.error) {
+            console.error("Amazon Product details error:", amazonProductDetailsResult.error);
+        }
+        if (comparisonProductDetailsResult.data && process.env.NODE_ENV === 'development') {
+            console.log("Comparison Product details response:", comparisonProductDetailsResult.data);
+        }
+        if (comparisonProductDetailsResult.error) {
+            console.error("Comparison Product details error:", comparisonProductDetailsResult.error);
+        }
+    }, [amazonProductDetailsResult.data, amazonProductDetailsResult.error, amazonProductDetailsResult.isLoading, amazonProductDetailsResult.isFetching, comparisonProductDetailsResult.data, comparisonProductDetailsResult.error]);
+
+    // Background refetch logic for incomplete data
+    useEffect(() => {
+        let refetchInterval: NodeJS.Timeout | null = null;
+
+        // Check if we have data and if any products have incomplete data
+        if (transformedProducts.length > 0 && hasIncompleteData(transformedProducts)) {
+            refetchInterval = setInterval(() => {
+                // Use the new refresh endpoint only when searchId is available
+                const activeSearchId = searchId || currentSearchId;
+                
+                if (activeSearchId) {
+                    // Use the new refresh endpoint for better performance
+                    console.log(' Using new refresh endpoint with searchId:', activeSearchId);
+                    triggerRefreshSearch({ searchId: activeSearchId, perPage: 10 });
+                } else {
+                    console.log(' No searchId available, skipping auto-refresh');
+                }
+            }, 10000); // 10 seconds
+        }
+
+        // Cleanup interval on component unmount or when data becomes complete
+        return () => {
+            if (refetchInterval) {
+                clearInterval(refetchInterval);
+            }
+        };
+    }, [transformedProducts, hasIncompleteData, searchId, currentSearchId, searchByIdResult, quickSearchResult, triggerRefreshSearch]);
+
+    const sensors = useSensors(
+        useSensor(PointerSensor, {
+            activationConstraint: {
+                distance: 5, // Using a smaller distance for quicker drag initiation
+            },
+        }),
+    )
+
+    const handleDragStart = useCallback((event: DragStartEvent) => {
+        if (process.env.NODE_ENV === 'development') {
+            console.log("Drag started:", event)
+        }
+        const { active } = event
+
+        // Extract the product directly from event data if available
+        if (active.data.current?.product) {
+            setActiveProduct(active.data.current.product);
+            return;
+        }
+
+        // Handle QuickSearchResult[] data structure (fallback if data is not in event)
+        if (Array.isArray(data) && data.length > 0 && 'store_name' in data[0]) {
+            const idParts = String(active.id).split('-');
+            // Remove rowIndex from the end to match with data
+            const productId = idParts.length > 2 ? `${idParts[0]}-${idParts[1]}` : String(active.id);
+            
+            const draggedProduct = (data as QuickSearchResult[]).find(
+                (product) => `${product.store_name}-${product.asin}` === productId || 
+                             `${product.store_name}-${product.asin}` === active.id
+            )
+            if (draggedProduct) {
+                setActiveProduct(draggedProduct as any)
+            }
+        }
+        // Handle new API response format with results array
+        else if (data && 'results' in data) {
+            const idParts = String(active.id).split('-');
+            const productId = idParts.length > 2 ? `${idParts[0]}-${idParts[1]}` : String(active.id);
+            
+            const draggedProduct = data.results.find(
+                (product: any) => `${product.store_name}-${product.asin}` === productId || 
+                                 `${product.store_name}-${product.asin}` === active.id
+            )
+            if (draggedProduct) {
+                setActiveProduct(draggedProduct as any)
+            }
+        }
+        // Handle old QuickSearchData structure
+        else if (data && 'opportunities' in data) {
+            const draggedProduct = data.opportunities.find(
+                (product) => product.scraped_product.id === active.id
+            )
+            if (draggedProduct) {
+                setActiveProduct(draggedProduct)
+            }
+        }
+    }, [data])
+
+    const handleDragEnd = useCallback((event: DragEndEvent) => {
+        const { active, over } = event
+        if (process.env.NODE_ENV === 'development') {
+            console.log("Drag ended:", { active, over })
+        }
+        
+        // Reset active product
+        setActiveProduct(null)
+        
+        // Only process if dropping in the droppable area
+        if (over && over.id === "droppable-area") {
+                // Handle direct product data from the drag event
+                    if (active.data.current?.product) {
+                        const draggedProduct = active.data.current.product;
+                        // Set product for comparison
+                        setSelectedProducts([draggedProduct])
+   
+                        // Update selected ASIN for product details
+                        if ('asin' in draggedProduct) {
+                            console.log("Drag setting ASIN:", draggedProduct.asin, "Price:", draggedProduct.price);
+                            setSelectedAsin(draggedProduct.asin);
+                            setSelectedSalesPrice(draggedProduct.price);
+                        } else if ('scraped_product' in draggedProduct) {
+                            console.log("Drag setting ASIN:", draggedProduct.scraped_product.id, "Price:", draggedProduct.scraped_product.price.formatted);
+                            setSelectedAsin(draggedProduct.scraped_product.id);
+                            setSelectedSalesPrice(draggedProduct.scraped_product.price.formatted);
+                        }
+   
+                        // Scroll to Comparison Workspace section
+                        setTimeout(() => {
+                            comparisonWorkspaceRef.current?.scrollIntoView({
+                                behavior: 'smooth',
+                                block: 'start'
+                            });
+                        }, 100);
+   
+                        return;
+                    }
+            
+            // Fallback to handle QuickSearchResult[] data structure if no direct data
+            if (Array.isArray(data) && data.length > 0 && 'store_name' in data[0]) {
+                const idParts = String(active.id).split('-');
+                // Remove rowIndex from the end to match with data
+                const productId = idParts.length > 2 ? `${idParts[0]}-${idParts[1]}` : String(active.id);
+                
+                const draggedProduct = (data as QuickSearchResult[]).find(
+                    (product) => `${product.store_name}-${product.asin}` === productId || 
+                                 `${product.store_name}-${product.asin}` === active.id
+                )
+                if (draggedProduct) {
+                    console.log("Results array drag setting ASIN:", draggedProduct.asin, "Price:", draggedProduct.price);
+                    setSelectedProducts([draggedProduct as any])
+                    setSelectedAsin(draggedProduct.asin);
+                    setSelectedSalesPrice(draggedProduct.price);
+                }
+            }
+            // Handle new API response format with results array
+            else if (data && 'results' in data) {
+                const idParts = String(active.id).split('-');
+                const productId = idParts.length > 2 ? `${idParts[0]}-${idParts[1]}` : String(active.id);
+                
+                const draggedProduct = data.results.find(
+                    (product: any) => `${product.store_name}-${product.asin}` === productId || 
+                                     `${product.store_name}-${product.asin}` === active.id
+                )
+                if (draggedProduct) {
+                    console.log("Fallback drag setting ASIN:", draggedProduct.asin, "Price:", draggedProduct.price);
+                    setSelectedProducts([draggedProduct as any])
+                    setSelectedAsin(draggedProduct.asin);
+                    setSelectedSalesPrice(draggedProduct.price);
+                }
+            }
+            // Handle old QuickSearchData structure
+            else if (data && 'opportunities' in data) {
+                const draggedProduct = data.opportunities.find(
+                    (product) => product.scraped_product.id === active.id
+                )
+                if (draggedProduct) {
+                    setSelectedProducts([draggedProduct])
+                    setSelectedAsin(draggedProduct.scraped_product.id);
+                }
+            }
+        }
+    }, [data])
+
+    const handleRowClick = (product: ProductObj | QuickSearchResult) => {
+        console.log("Row clicked - Product:", product);
+        console.log("Product keys:", Object.keys(product));
+        console.log("Product has 'asin' property:", 'asin' in product);
+        console.log("Product has 'scraped_product' property:", 'scraped_product' in product);
+        console.log("Product has 'store_name' property:", 'store_name' in product);
+
+        // Clear previous selection first to ensure clean state
+        setSelectedProducts([]);
+        setSelectedAsin(null);
+        setSelectedSalesPrice(null);
+
+        setSelectedProducts([product as any])
+        if ('asin' in product) {
+            console.log("Setting ASIN:", product.asin, "Price:", product.price);
+            setSelectedAsin(product.asin);
+            setSelectedSalesPrice(product.price);
+        } else if ('scraped_product' in product) {
+            console.log("Setting ASIN:", product.scraped_product.id, "Price:", product.scraped_product.price.formatted);
+            setSelectedAsin(product.scraped_product.id);
+            setSelectedSalesPrice(product.scraped_product.price.formatted);
+        } else if ('store_name' in product) {
+            // This is a QuickSearchResult - use the original search ASIN and the product's price
+            console.log("QuickSearchResult detected - using original ASIN:", asin, "Price:", (product as any).price);
+            setSelectedAsin(asin); // Use the ASIN from the original search
+            setSelectedSalesPrice((product as any).price);
+        } else {
+            console.log("Product doesn't match expected structure");
+        }
+
+        // Scroll to Comparison Workspace section with smooth behavior
+        setTimeout(() => {
+            comparisonWorkspaceRef.current?.scrollIntoView({
+                behavior: 'smooth',
+                block: 'start'
+            });
+        }, 100); // Small delay to ensure state updates complete
+    }
+
+    const handleRemoveProduct = (productId: string) => {
+        setSelectedProducts(selectedProducts.filter((product) => {
+            if ('scraped_product' in product) {
+                return product.scraped_product.id !== productId;
+            } else if ('store_name' in product) {
+                return `${(product as QuickSearchResult).store_name}-${(product as QuickSearchResult).asin}` !== productId;
+            }
+            return true;
+        }))
+    }
+
+    // Use comparison API data for product information when available, fallback to amazon API
+    const productDetailsForInfo = comparisonProductDetailsResult.data?.data || amazonProductDetailsResult.data?.data || amazonProductDetailsResult.data;
+    
+    // Create product data object from API response
+    const productData = {
+        "Avg. Amazon 90 day price": productDetailsForInfo?.avg_amazon_90_day_price != null
+            ? `$${Number(productDetailsForInfo.avg_amazon_90_day_price).toFixed(2)}`
+            : 'N/A',
+
+        "Gross ROI": productDetailsForInfo?.gross_roi != null
+            ? `${Number(productDetailsForInfo.gross_roi).toFixed(1)}%`
+            : '0.0%',
+
+        "Sales rank": productDetailsForInfo?.sales_rank != null
+            ? String(productDetailsForInfo.sales_rank)
+            : 'N/A',
+
+        "Avg. 3 month sales rank": productDetailsForInfo?.avg_3_month_sales_rank != null
+            ? String(productDetailsForInfo.avg_3_month_sales_rank)
+            : 'N/A',
+
+        "ASIN": productDetailsForInfo?.asin || asin || 'N/A',
+
+        "Number of Sellers": productDetailsForInfo?.number_of_sellers != null
+            ? String(productDetailsForInfo.number_of_sellers)
+            : 'N/A',
+
+        "Monthly Sellers": productDetailsForInfo?.monthly_sellers != null
+            ? String(productDetailsForInfo.monthly_sellers)
+            : 'N/A',
+
+        "Amazon on listing": productDetailsForInfo?.amazon_on_listing != null
+            ? (productDetailsForInfo.amazon_on_listing ? 'YES' : 'NO')
+            : 'N/A'
+    }
+
+    // Debug logging for product data
+    if (process.env.NODE_ENV === 'development') {
+        console.log("Product Data object:", productData);
+        console.log("Using comparison API data:", !!comparisonProductDetailsResult.data?.data);
+        console.log("Gross ROI value:", productDetailsForInfo?.gross_roi);
+    }
+
+    useEffect(() => {
+        const currentParams = { asin, marketplace_id, queue };
+        const hasParamsChanged =
+            lastQueryParams.asin !== currentParams.asin ||
+            lastQueryParams.marketplace_id !== currentParams.marketplace_id ||
+            lastQueryParams.queue !== currentParams.queue;
+
+        if (hasParamsChanged) {
+            // Immediately set route changing to show loading screen without delay
+            setIsRouteChanging(true);
+            setLastQueryParams(currentParams);
+        }
+    }, [asin, marketplace_id, queue, pathname, lastQueryParams.asin, lastQueryParams.marketplace_id, lastQueryParams.queue]);
+
+    useEffect(() => {
+        if (!isFetching) {
+            setIsRouteChanging(false);
+        }
+    }, [isFetching]);
+
+    useEffect(() => {
+        setSelectedProducts([]);
+        setSelectedAsin(null);
+        setSelectedSalesPrice(null);
+    }, [asin, marketplace_id, queue, searchId]);
+
+    // Always show a loader when loading or route changing
+    if (isLoading || isRouteChanging) {
+        if (searchId) return <Loader />;
+        
+        return (
+            <GoCompareLoader
+                asin={asin}
+                storeNames={Array.isArray(data) && data.length > 0 && 'store_name' in data[0] ? data.map(item => item.store_name) : []}
+                isLoading={true}
+            />
+        );
+    }
+    if (isError) {
+        let errorMessage = "Unknown error";
+        let errorDetails = "";
+        
+        if (error && typeof error === 'object') {
+            console.log("Error object:", error); // Log the full error object for debugging
+            
+            if ('status' in error) {
+                const status = error.status;
+                errorDetails = `Status: ${status}`;
+                
+                if (typeof error.data === 'string') {
+                    errorMessage = error.data;
+                } else if (typeof error.data === 'object' && error.data !== null) {
+                    const errorData = error.data as any;
+                    errorMessage = errorData.error || errorData.message || errorData.errorMessage || errorMessage;
+                    
+                    // Extract more details if available
+                    if (errorData.details) {
+                        errorDetails += ` - ${JSON.stringify(errorData.details)}`;
+                    }
+                }
+            } else if ('message' in error) {
+                errorMessage = error.message || errorMessage;
+            }
+            
+            // Check for network errors
+            if ('name' in error && error.name === 'FetchError') {
+                errorMessage = "Network error: Unable to connect to the server";
+            }
+        }
+        
+        console.error("Quick Search failed:", errorMessage, errorDetails ? `(${errorDetails})` : "");
+        
+        return (
+            <div className="p-4 border border-red-300 bg-red-50 rounded-md">
+                <h3 className="text-red-600 font-medium text-lg mb-2">Search Error</h3>
+                <p className="text-red-700 mb-1">{errorMessage}</p>
+                {errorDetails && <p className="text-red-500 text-sm">{errorDetails}</p>}
+                <p className="text-sm mt-3">Please try again or contact support if the issue persists.</p>
+            </div>
+        );
+    }
+
+
+    return (
+        <DndContext
+            sensors={sensors}
+            onDragEnd={handleDragEnd}
+            onDragStart={handleDragStart}
+            modifiers={[restrictToWindowEdges]}
+        >
+            <section className="flex flex-col gap-8 min-h-[50dvh] md:min-h-[80dvh]">
+                <div className="flex flex-col lg:flex-row gap-6" ref={comparisonWorkspaceRef}>
+                    <div className="flex-1">
+                        <h2 className="text-lg font-semibold mb-4" id="comparison-workspace">Comparison Workspace</h2>
+                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2.5">
+                            {/* First product card - Amazon product using team-b API */}
+                            {amazonProductDetailsResult.data?.data ? (
+                                <SimpleProductCard product={{
+                                    asin: amazonProductDetailsResult.data.data.asin,
+                                    product_name: amazonProductDetailsResult.data.data.product_name,
+                                    image_url: amazonProductDetailsResult.data.data.image_url,
+                                    price: amazonProductDetailsResult.data.data.current_price.toString(),
+                                    product_url: amazonProductDetailsResult.data.data.product_url,
+                                    store_name: "Amazon",
+                                    currency: "USD",
+                                    country: "US",
+                                    created_at: new Date().toISOString(),
+                                    profit_margin: 0,
+                                    gross_roi: 0,
+                                    target_fees: "0",
+                                    amazon_price: (amazonProductDetailsResult.data.data.current_price || 0).toString(),
+                                    sales_rank: amazonProductDetailsResult.data.data.sales_rank ? amazonProductDetailsResult.data.data.sales_rank.toString() : "N/A",
+                                    buybox_price: (amazonProductDetailsResult.data.data.current_price || 0).toString(),
+                                    number_of_sellers: (amazonProductDetailsResult.data.data.number_of_sellers || 0).toString(),
+                                    id: amazonProductDetailsResult.data.data.asin
+                                }} />
+                            ) : selectedProducts.length > 0 ? (
+                                <SimpleProductCard product={selectedProducts[0]} />
+                            ) : Array.isArray(data) && data.length > 0 && 'store_name' in data[0] ? (
+                                <SimpleProductCard product={data[0]} />
+                            ) : data && 'amazon_product' in data && data.amazon_product ? (
+                                <SimpleProductCard product={data.amazon_product} />
+                            ) : (
+                                <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-4 h-[326px] flex items-center justify-center">
+                                    <p className="text-gray-500">No product data available</p>
+                                </div>
+                            )}
+                            
+                            {/* Droppable area for comparison */}
+                            <Droppable
+                                id="droppable-area"
+                                className={selectedProducts.length > 0 ? `` : 'bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden h-[326px]'}
+                            >
+                                {selectedProducts.length > 0 ? (
+                                    <div className="relative h-full">
+                                        {selectedProducts[0] && 'scraped_product' in selectedProducts[0] ? (
+                                            <ProductCard product={selectedProducts[0]} />
+                                        ) : (
+                                            <div className="h-full">
+                                                {/* Direct cast to avoid type compatibility issues */}
+                                                <ProductCard product={selectedProducts[0] as any} />
+                                            </div>
+                                        )}
+                                        <button
+                                            onClick={() => {
+                                                const productId = selectedProducts[0] && 'scraped_product' in selectedProducts[0]
+                                                    ? selectedProducts[0].scraped_product.id
+                                                    : `${(selectedProducts[0] as QuickSearchResult).store_name}-${(selectedProducts[0] as QuickSearchResult).asin}`;
+                                                handleRemoveProduct(productId);
+                                            }}
+                                            className="absolute top-2 right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 z-10"
+                                        >
+                                            <svg
+                                                xmlns="http://www.w3.org/2000/svg"
+                                                width="16"
+                                                height="16"
+                                                viewBox="0 0 24 24"
+                                                fill="none"
+                                                stroke="currentColor"
+                                                strokeWidth="2"
+                                                strokeLinecap="round"
+                                                strokeLinejoin="round"
+                                            >
+                                                <line x1="18" y1="6" x2="6" y2="18"></line>
+                                                <line x1="6" y1="6" x2="18" y2="18"></line>
+                                            </svg>
+                                        </button>
+                                    </div>
+                                ) : (
+                                    <div className="relative h-full bg-gray-100 rounded-lg flex flex-col text-center gap-2 items-center justify-center">
+                                        <TbListSearch size={30} className="text-gray-500" />
+                                        <p>Drag and drop results here to compare</p>
+                                    </div>
+                                )}
+                            </Droppable>
+                        </div>
+                    </div>
+
+                    <ProductInformation
+                        productData={productData}
+                        isSelected={selectedProducts.length > 0}
+                        isLoading={amazonProductDetailsResult.isLoading || comparisonProductDetailsResult.isLoading}
+                    />
+                </div>
+
+                <div>
+                    <h2 className="font-semibold mb-4">Quick Search Results</h2>
+                    <QuickSearchTable
+                        products={transformedProducts}
+                        onRowClick={handleRowClick}
+                    />
+                </div>
+            </section>
+
+            <DragOverlay>
+                {activeProduct && 'scraped_product' in activeProduct ? (
+                    <Overlay activeProduct={activeProduct} />
+                ) : activeProduct && 'store_name' in activeProduct ? (
+                    <div className="p-4 bg-white border rounded-lg shadow-lg">
+                        <div className="flex items-center gap-3">
+                            <div className="w-12 h-12 flex-shrink-0 relative overflow-hidden rounded">
+                                <Image
+                                    src={(activeProduct as QuickSearchResult).image_url || "https://via.placeholder.com/48?text=No+Image"}
+                                    alt={(activeProduct as QuickSearchResult).product_name || "Product"}
+                                    className="w-full h-full object-contain"
+                                    width={48}
+                                    height={48}
+                                    unoptimized={true}
+                                    onError={(e) => {
+                                        const target = e.target as HTMLImageElement;
+                                        target.src = "https://via.placeholder.com/48?text=No+Image";
+                                    }}
+                                />
+                            </div>
+                            <div className="flex-1">
+                                <h4 className="font-medium line-clamp-1">{(activeProduct as QuickSearchResult).product_name}</h4>
+                        <p className="text-sm text-gray-600">{(activeProduct as QuickSearchResult).store_name}</p>
+                        <p className="text-lg font-semibold text-green-600">{(activeProduct as QuickSearchResult).price}</p>
+                            </div>
+                        </div>
+                    </div>
+                ) : null}
+            </DragOverlay>
+        </DndContext>
+    )
+}
\ No newline at end of file
diff --git a/app/(dashboard)/go-compare/reverse-search/page.tsx b/app/(dashboard)/go-compare/reverse-search/page.tsx
new file mode 100644
index 0000000..fa0cbbf
--- /dev/null
+++ b/app/(dashboard)/go-compare/reverse-search/page.tsx
@@ -0,0 +1,269 @@
+/* eslint-disable @typescript-eslint/no-unused-vars */
+
+"use client";
+import { useGetSearchByIdQuery, useReverseSearchQuery } from '@/redux/api/quickSearchApi';
+import { ReverseSearchData } from '@/types/goCompare';
+import { DndContext, DragEndEvent, DragOverlay, DragStartEvent, PointerSensor, useSensor, useSensors } from '@dnd-kit/core';
+import { SerializedError } from '@reduxjs/toolkit';
+import { FetchBaseQueryError } from '@reduxjs/toolkit/query';
+import { usePathname, useSearchParams } from 'next/navigation';
+import React, { useEffect, useState } from 'react'
+import { ProductCard } from '../_components/ProductCard';
+import ReverseSearchTable from '../_components/ReverseSearchTable';
+import { restrictToWindowEdges } from '@dnd-kit/modifiers';
+import { Droppable } from '../_components/dnd/Droppable';
+import { TbListSearch } from 'react-icons/tb';
+import Overlay from '../_components/dnd/Overlay';
+import ProductInformation from '../_components/ProductInformation';
+import GoCompareLoader from '../_components/Loader';
+import Loader from '@/utils/loader';
+
+export default function ReverseSearch() {
+    const params = useSearchParams();
+    const pathname = usePathname();
+    const query = params.get('query') ?? '';
+    const store = params.get('store') ?? '';
+    const searchId = params.get('searchId');
+
+    const [lastQueryParams, setLastQueryParams] = useState({
+        query, store
+    });
+
+    const [isRouteChanging, setIsRouteChanging] = useState(false);
+    const [page, setPage] = useState(1);
+    const [perPage, setPerPage] = useState(300);
+    const [sortBy, setSortBy] = useState("roi");
+    const [sortOrder, setSortOrder] = useState("desc");
+
+    const searchByIdResult = useGetSearchByIdQuery(
+        { id: searchId ?? '' },
+        { skip: !searchId, refetchOnMountOrArgChange: true }
+    );
+
+    const reverseSearchResult = useReverseSearchQuery(
+        { store, queryName: query, perPage, sortBy, sortOrder },
+        { skip: !!searchId, refetchOnMountOrArgChange: true }
+    );
+
+    type QueryResult = {
+        data: ReverseSearchData[] | undefined;
+        isLoading: boolean;
+        isError: boolean;
+        isFetching: boolean;
+        error?: FetchBaseQueryError | SerializedError;
+    };
+
+    const result: QueryResult = searchId ? {
+        data: searchByIdResult?.data?.data?.data,
+        isLoading: searchByIdResult.isLoading,
+        isError: searchByIdResult.isError,
+        isFetching: searchByIdResult.isFetching,
+        error: searchByIdResult.error,
+    } : {
+        data: reverseSearchResult?.data?.data?.data,
+        isLoading: reverseSearchResult.isLoading,
+        isError: reverseSearchResult.isError,
+        isFetching: reverseSearchResult.isFetching,
+        error: reverseSearchResult.error,
+    };
+
+    const { data, isLoading, isError, isFetching, error } = result;
+
+    const sensors = useSensors(
+        useSensor(PointerSensor, {
+            activationConstraint: {
+                distance: 1,
+                tolerance: 5,
+                delay: 0,
+            },
+        }),
+    )
+
+    useEffect(() => {
+        const currentParams = { query, store };
+        const hasParamsChanged =
+            lastQueryParams.query !== currentParams.query ||
+            lastQueryParams.store !== currentParams.store
+
+        if (hasParamsChanged) {
+            setIsRouteChanging(true);
+            setLastQueryParams(currentParams);
+        }
+    }, [query, store, pathname, lastQueryParams.query, lastQueryParams.store]);
+
+    useEffect(() => {
+        if (!isFetching) {
+            setIsRouteChanging(false);
+        }
+    }, [isFetching]);
+
+    const [selectedProducts, setSelectedProducts] = useState<ReverseSearchData | null>(null);
+
+    const [activeProduct, setActiveProduct] = useState<ReverseSearchData | null>(null)
+
+    const handleRowClick = (product: ReverseSearchData) => {
+        setSelectedProducts(product)
+    }
+
+    const transformedData: ReverseSearchData[] = (data || [])
+        .filter((item): item is ReverseSearchData => item.scraped_product !== null)
+        .map((item, index) => {
+            const sharedId = item.id;
+            return {
+                ...item,
+                amazon_product: item.amazon_product ? { ...item.amazon_product, id: sharedId } : null,
+                scraped_product: { ...item.scraped_product!, id: sharedId },
+            };
+        });
+
+    const handleDragStart = (event: DragStartEvent) => {
+        const { active } = event;
+
+        const draggedProduct = transformedData.find(item =>
+            item.scraped_product?.id === active.id || item.amazon_product?.id === active.id
+        );
+
+        if (draggedProduct) {
+            setActiveProduct(draggedProduct);
+        }
+
+       
+    };
+
+    const handleDragEnd = (event: DragEndEvent) => {
+        const { active, over } = event;
+
+        if (over && over.id === 'droppable-area' && activeProduct) {
+            setSelectedProducts(activeProduct);
+        }
+
+        setActiveProduct(null);
+      
+    };
+
+
+    const handleRemoveProduct = () => {
+        setSelectedProducts(null);
+    }
+
+    const productData = {
+        "Avg. Amazon 90 day price": String(selectedProducts?.amazon_product?.metrics?.avg_amazon_90_day_price ?? '-'),
+        "Gross ROI": typeof selectedProducts?.roi_percentage === 'number' ? `${selectedProducts.roi_percentage.toFixed(1)}%` : '0%',
+        "Match quality%": '-',
+        "Sales rank": String(selectedProducts?.amazon_product?.metrics?.sales_rank ?? '-'),
+        "Avg. 3 month sales rank": String(selectedProducts?.amazon_product?.metrics?.avg_3_month_sales_rank ?? '-'),
+        ASIN: String(selectedProducts?.amazon_product?.asin ?? '-'),
+        "Number of sellers": String(selectedProducts?.amazon_product?.metrics?.number_of_sellers ?? 'Not available'),
+        "Amazon on listing": selectedProducts?.amazon_product?.metrics?.amazon_on_listing ? 'YES' : 'NO',
+    };
+
+
+    useEffect(() => {
+        setSelectedProducts(null);
+    }, [data]);
+
+    if ((isLoading || isRouteChanging) && searchId) return <Loader />;
+    if (isLoading || isRouteChanging) {
+        return (
+            <GoCompareLoader
+                asin={query}
+                storeNames={[store]}
+                isLoading={isLoading || isRouteChanging}
+            />
+        );
+    }
+    if (isError) {
+        let errorMessage = "Unknown error";
+        if (error && typeof error === 'object') {
+            if ('status' in error) {
+                if (typeof error.data === 'string') {
+                    errorMessage = error.data;
+                } else if (typeof error.data === 'object' && error.data !== null) {
+                    errorMessage = (error.data as { error?: string })?.error ?? errorMessage;
+                }
+            } else if ('message' in error) {
+                errorMessage = error.message ?? errorMessage;
+            }
+        }
+        console.error("Tactical Reverse Search failed:", errorMessage);
+        return <div style={{ color: 'red' }}>Error: {errorMessage}</div>;
+    }
+
+    return (
+        <DndContext
+            sensors={sensors}
+            onDragEnd={handleDragEnd}
+            onDragStart={handleDragStart}
+            modifiers={[restrictToWindowEdges]}
+        >
+            <section className="flex flex-col gap-8 min-h-[50dvh] md:min-h-[80dvh]">
+                <div className="flex flex-col lg:flex-row gap-6">
+                    <div className="flex-1">
+                        <p className="font-semibold">Comparison Workspace</p>
+                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2.5">
+                            {selectedProducts && selectedProducts?.amazon_product ? (
+                                <ProductCard product={selectedProducts.amazon_product ?? selectedProducts.scraped_product} />
+                            ) : (
+                                data?.[0]?.amazon_product ? <ProductCard product={data[0].amazon_product} /> :
+                                    <div className='flex items-center justify-center border rounded-lg'>{selectedProducts?.reason || data?.[0]?.reason}</div>
+                            )}
+                            <Droppable
+                                id="droppable-area"
+                                className={selectedProducts ? `` : 'bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden p-2.5 h-[326px]'}
+                            >
+                                {selectedProducts ? (
+                                    <div className="relative h-full">
+                                        <ProductCard product={selectedProducts.scraped_product} />
+                                        <button
+                                            onClick={() => handleRemoveProduct()}
+                                            className="absolute top-2 right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 z-10"
+                                        >
+                                            <svg
+                                                xmlns="http://www.w3.org/2000/svg"
+                                                width="16"
+                                                height="16"
+                                                viewBox="0 0 24 24"
+                                                fill="none"
+                                                stroke="currentColor"
+                                                strokeWidth="2"
+                                                strokeLinecap="round"
+                                                strokeLinejoin="round"
+                                            >
+                                                <line x1="18" y1="6" x2="6" y2="18"></line>
+                                                <line x1="6" y1="6" x2="18" y2="18"></line>
+                                            </svg>
+                                        </button>
+                                    </div>
+                                ) : (
+                                    <div className="relative h-full bg-gray-100 rounded-lg flex flex-col text-center gap-2 items-center justify-center">
+                                        <TbListSearch size={30} className="text-gray-500" />
+                                        <p>Drag and drop results here to compare</p>
+                                    </div>
+                                )}
+                            </Droppable>
+                        </div>
+                    </div>
+
+                    <ProductInformation
+                        productData={productData}
+                        isSelected={selectedProducts ? true : false}
+                    />
+                </div>
+
+                <div>
+                    <h2 className="font-semibold mb-4">Tactical Reverse Search Results</h2>
+                    <ReverseSearchTable
+                        products={transformedData || []}
+                        onRowClick={handleRowClick}
+                    />
+                </div>
+            </section>
+
+            <DragOverlay>
+                {activeProduct ? (
+                    <Overlay activeProduct={activeProduct.scraped_product} />
+                ) : null}
+            </DragOverlay>
+        </DndContext>
+    )
+}
diff --git a/app/(dashboard)/go-compare/search-history/page.tsx b/app/(dashboard)/go-compare/search-history/page.tsx
new file mode 100644
index 0000000..ea3142a
--- /dev/null
+++ b/app/(dashboard)/go-compare/search-history/page.tsx
@@ -0,0 +1,156 @@
+"use client";
+import { useState } from "react";
+import { useSearchHistoryQuery } from "@/redux/api/quickSearchApi";
+import Loader from "@/utils/loader";
+import TablePagination from "../_components/TablePagination";
+import { ApiSearchResponseItem, SearchRecord } from "@/types/goCompare";
+import { useRouter } from "next/navigation";
+
+const tableColumns = [
+    { label: 'ASIN, UPC or Query Name', key: 'asinOrUpc' },
+    { label: 'Type of search', key: 'searchType' },
+    { label: 'Search Date', key: 'searchDate' },
+    { label: 'Amazon Price', key: 'amazonPrice' },
+    { label: 'Country', key: 'country' },
+    { label: 'Store(s)', key: 'storeLogo' },
+    { label: 'No. of results', key: 'results' },
+]
+
+const SearchHistory = () => {
+    const [perPage, setPerPage] = useState(10);
+    const [page, setPage] = useState(1);
+    const router = useRouter();
+
+    const { data, isLoading, isFetching, isError } = useSearchHistoryQuery({ page, perPage });
+    const searchData: SearchRecord[] = data?.data?.map((item: ApiSearchResponseItem) => ({
+        id: item.id,
+        asinOrUpc: item.asin_upc,
+        searchType: item.search_type,
+        searchDate: new Date(item.search_date).toLocaleDateString(),
+        amazonPrice: item.amazon_price ? `$${item.amazon_price}` : "-",
+        country: item.country.country,
+        stores: item.stores || [],
+        results: item.results_count,
+        countryId: item.country.id,
+    })) || []
+
+
+    const handlePageChange = (page: number) => {
+        setPage(page)
+    }
+
+    const handlePerPageChange = (value: number) => {
+        setPerPage(value)
+        setPage(1)
+    }
+
+    // Marketplace mapping based on country names and IDs
+    const getMarketplaceId = (countryName: string, countryId?: number): number => {
+        // Primary mapping by country name
+        const countryToMarketplaceMap: { [key: string]: number } = {
+            'United States': 1,
+            'US': 1,
+            'USA': 1,
+            'United Kingdom': 2,
+            'UK': 2,
+            'France': 3,
+            'FR': 3,
+            'Australia': 4,
+            'AU': 4,
+            'Germany': 5,
+            'DE': 5,
+            'Canada': 6,
+            'CA': 6,
+            'Nigeria': 7,
+            'NG': 7,
+            'India': 8,
+            'IN': 8,
+        };
+
+        // Try to map by country name first
+        const marketplaceByName = countryToMarketplaceMap[countryName];
+        if (marketplaceByName) {
+            return marketplaceByName;
+        }
+
+        // Fallback to countryId if available, otherwise default to US (1)
+        return countryId || 1;
+    };
+
+    const handleRouting = (record: SearchRecord) => {
+        // For ASIN searches, always go to quick-search
+        if (record.searchType === 'quick_search' || record.asinOrUpc.match(/^[A-Z0-9]{10}$/)) {
+            // Get proper marketplace ID based on country information
+            const marketplaceId = getMarketplaceId(record.country, record.countryId);
+            // Clean URL with only essential parameters
+            router.push(`/go-compare/quick-search?asin=${record.asinOrUpc}&marketplace_id=${marketplaceId}`)
+        } else {
+            // For other searches (like product names), go to reverse-search
+            const storeNames = record.stores && record.stores.length > 0 ? 
+                (Array.isArray(record.stores) ? record.stores.map(store => typeof store === 'string' ? store : store.name).join(',') : record.stores) : '';
+            router.push(`/go-compare/reverse-search?queryName=${record.asinOrUpc}&store=${storeNames}`);
+        }
+    }
+
+    if (isLoading || isFetching) return (
+        <div className="flex items-center justify-center">
+            <Loader />
+        </div>
+    )
+
+    return (
+        <div>
+            <p className="font-semibold">Search History</p>
+            {isError && <p>Error fetching history</p>}
+            {data?.data &&
+                <div className="w-full bg-white mt-5 border border-gray-200 rounded-lg ">
+                    <div className="overflow-x-auto ">
+                        <table className="w-full text-sm ">
+                            <thead>
+                                <tr className="border-b bg-[#FCFCFC]">
+                                    {tableColumns.map((column) => (
+                                        <th key={column.key} className={`px-4 py-3 text-left text-[#737379] font-normal ${column.key === 'storeLogo' && 'text-center'}`}>{column.label}</th>
+                                    ))}
+                                </tr>
+                            </thead>
+                            <tbody className="">
+                                {searchData?.map((record) => (
+                                    <tr key={record.id} className="font-medium cursor-pointer" onClick={() => handleRouting(record)}>
+                                        <td className="px-4 pr-20 py-3 ">{record.asinOrUpc}</td>
+                                        <td className="px-4 py-3">{record.searchType}</td>
+                                        <td className="px-4 py-3">{record.searchDate}</td>
+                                        <td className="px-4 py-3">{record.amazonPrice}</td>
+                                        <td className="px-4 py-3">
+                                            <div className="flex items-center gap-2">
+                                                <span className="font-normal">{record.country}</span>
+                                            </div>
+                                        </td>
+                                        <td className="px-4 py-3">
+                                            <div className="flex flex-wrap gap-2 items-center justify-center">
+                                                {Array.isArray(record.stores) ? (
+                                                    record.stores.length > 0 ? (
+                                                        <span className="text-sm">{record.stores.join(', ')}</span>
+                                                    ) : (
+                                                        <span className="text-sm text-gray-400">No stores</span>
+                                                    )
+                                                ) : (
+                                                    <span className="text-sm text-gray-400">No stores</span>
+                                                )}
+                                            </div>
+                                        </td>
+                                        <td className="px-4 py-3">{record.results}</td>
+                                    </tr>
+                                ))}
+                            </tbody>
+                        </table>
+                    </div>
+                    <TablePagination page={page} perPage={perPage} totalPages={data?.meta?.last_page} handlePageChange={handlePageChange} handlePerPageChange={handlePerPageChange} />
+                    <p className="text-green-600 text-end mx-4 mb-2 text-sm">Results will be cleared after 7 days</p>
+
+                </div>
+            }
+        </div>
+    )
+}
+
+export default SearchHistory
diff --git a/app/(dashboard)/history/_components/History.tsx b/app/(dashboard)/history/_components/History.tsx
index 997e429..06e1980 100644
--- a/app/(dashboard)/history/_components/History.tsx
+++ b/app/(dashboard)/history/_components/History.tsx
@@ -1,4 +1,4 @@
-"use client"
+"use client";
 /* eslint-disable @typescript-eslint/no-explicit-any */
 
 import { useState, useEffect, useRef } from "react"
@@ -6,6 +6,7 @@ import { SearchInput } from "@/app/(dashboard)/_components"
 import { useRouter } from "next/navigation"
 import Image from "next/image"
 import { GoArrowUpRight } from "react-icons/go"
+import { FiCopy, FiCheck } from "react-icons/fi"
 import UFO from "@/public/assets/svg/ufo.svg"
 import { useGetSearchHistoryQuery, useSearchProductsHistoryQuery } from "@/redux/api/productsApi"
 import { useAppSelector } from "@/redux/hooks"
@@ -14,48 +15,48 @@ import SalesStats from "../../dashboard/_components/SalesStats"
 import PaginationComponent from "@/utils/paginationNumber"
 
 export interface HistoryProduct {
-  asin: string
-  upc?: string
-  image?: string
-  title: string
-  rating?: number
-  reviews?: number
-  category?: string
-  timestamp?: string
-  searchTerm?: string
-  vendor?: string
+  asin: string;
+  upc?: string;
+  image?: string;
+  title: string;
+  rating?: number;
+  reviews?: number;
+  category?: string;
+  timestamp?: string;
+  searchTerm?: string;
+  vendor?: string;
 }
 
 function escapeRegExp(string: string) {
-  return string.replace(/[.*+?^${}()|[\]\\]/g, "\\$&")
+  return string.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
 }
 
 const groupByDate = (items: HistoryProduct[]) => {
-  const grouped: Record<string, HistoryProduct[]> = {}
+  const grouped: Record<string, HistoryProduct[]> = {};
 
   items.forEach((item) => {
-    const date = item.timestamp ? new Date(item.timestamp) : new Date()
-    const today = new Date()
-    const yesterday = new Date(today)
-    yesterday.setDate(yesterday.getDate() - 1)
+    const date = item.timestamp ? new Date(item.timestamp) : new Date();
+    const today = new Date();
+    const yesterday = new Date(today);
+    yesterday.setDate(yesterday.getDate() - 1);
 
-    let dateKey
+    let dateKey;
     if (date.toDateString() === today.toDateString()) {
-      dateKey = "Today"
+      dateKey = "Today";
     } else if (date.toDateString() === yesterday.toDateString()) {
-      dateKey = "Yesterday"
+      dateKey = "Yesterday";
     } else {
-      dateKey = date.toLocaleDateString()
+      dateKey = date.toLocaleDateString();
     }
 
     if (!grouped[dateKey]) {
-      grouped[dateKey] = []
+      grouped[dateKey] = [];
     }
-    grouped[dateKey].push(item)
-  })
+    grouped[dateKey].push(item);
+  });
 
-  return grouped
-}
+  return grouped;
+};
 
 const History = () => {
   const [searchValue, setSearchValue] = useState("")
@@ -66,16 +67,17 @@ const History = () => {
   const [totalItems, setTotalItems] = useState(0)
   const [itemsPerPage, setItemsPerPage] = useState(10)
   const [isMarketplaceLoading, setIsMarketplaceLoading] = useState(false)
+  const [copiedAsin, setCopiedAsin] = useState<string | null>(null)
   const prevMarketplaceRef = useRef<string | number | null>(null)
 
-  const router = useRouter()
-  const { marketplaceId } = useAppSelector((state) => state?.global)
+  const router = useRouter();
+  const { marketplaceId } = useAppSelector((state) => state?.global);
 
   const highlightText = (text: string, search: string) => {
-    if (!search.trim()) return text
+    if (!search.trim()) return text;
 
-    const regex = new RegExp(`(${escapeRegExp(search)})`, "gi")
-    const parts = text.split(regex)
+    const regex = new RegExp(`(${escapeRegExp(search)})`, "gi");
+    const parts = text.split(regex);
 
     return parts.map((part, index) => {
       if (index % 2 === 1) {
@@ -83,26 +85,52 @@ const History = () => {
           <span key={index} className="bg-green-200">
             {part}
           </span>
-        )
+        );
       } else {
-        return part
+        return part;
       }
     })
   }
 
+  const copyToClipboard = async (asin: string) => {
+    try {
+      await navigator.clipboard.writeText(asin)
+      setCopiedAsin(asin)
+      setTimeout(() => setCopiedAsin(null), 2000) // Reset after 2 seconds
+    } catch (err) {
+      console.error('Failed to copy ASIN:', err)
+      // Fallback for older browsers
+      const textArea = document.createElement('textarea')
+      textArea.value = asin
+      document.body.appendChild(textArea)
+      textArea.select()
+      try {
+        document.execCommand('copy')
+        setCopiedAsin(asin)
+        setTimeout(() => setCopiedAsin(null), 2000)
+      } catch (fallbackErr) {
+        console.error('Fallback copy failed:', fallbackErr)
+      }
+      document.body.removeChild(textArea)
+    }
+  }
+
   useEffect(() => {
     const handler = setTimeout(() => {
-      setDebouncedSearch(searchValue.trim() || "")
-    }, 500)
-    return () => clearTimeout(handler)
-  }, [searchValue])
+      setDebouncedSearch(searchValue.trim() || "");
+    }, 500);
+    return () => clearTimeout(handler);
+  }, [searchValue]);
 
   useEffect(() => {
-    if (prevMarketplaceRef.current !== null && prevMarketplaceRef.current !== marketplaceId) {
-      setIsMarketplaceLoading(true)
+    if (
+      prevMarketplaceRef.current !== null &&
+      prevMarketplaceRef.current !== marketplaceId
+    ) {
+      setIsMarketplaceLoading(true);
     }
-    prevMarketplaceRef.current = marketplaceId
-  }, [marketplaceId])
+    prevMarketplaceRef.current = marketplaceId;
+  }, [marketplaceId]);
 
   const {
     data: historyData,
@@ -115,8 +143,8 @@ const History = () => {
       page: currentPage,
       pageSize: itemsPerPage,
     },
-    { skip: false },
-  )
+    { skip: false }
+  );
 
   const {
     data: productsData,
@@ -130,42 +158,42 @@ const History = () => {
       page: currentPage,
       perPage: itemsPerPage,
     },
-    { skip: !debouncedSearch },
-  )
+    { skip: !debouncedSearch }
+  );
 
   useEffect(() => {
     if (isMarketplaceLoading && !historyFetching && !productsFetching) {
-      setIsMarketplaceLoading(false)
+      setIsMarketplaceLoading(false);
     }
-  }, [historyFetching, productsFetching, isMarketplaceLoading])
+  }, [historyFetching, productsFetching, isMarketplaceLoading]);
 
   useEffect(() => {
-    const data = debouncedSearch ? productsData : historyData
+    const data = debouncedSearch ? productsData : historyData;
 
     if (data) {
       if (data.meta) {
-        setCurrentPage(data.meta.current_page || 1)
-        setTotalPages(data.meta.last_page || 1)
-        setTotalItems(data.meta.total || 0)
-        setItemsPerPage(data.meta.per_page || 10)
+        setCurrentPage(data.meta.current_page || 1);
+        setTotalPages(data.meta.last_page || 1);
+        setTotalItems(data.meta.total || 0);
+        setItemsPerPage(data.meta.per_page || 10);
       }
     }
-  }, [historyData, productsData, debouncedSearch, itemsPerPage])
+  }, [historyData, productsData, debouncedSearch, itemsPerPage]);
 
   useEffect(() => {
     if (historyData || productsData || historyError || productsError) {
-      setIsPaginationLoading(false)
+      setIsPaginationLoading(false);
     }
-  }, [historyData, productsData, historyError, productsError])
+  }, [historyData, productsData, historyError, productsError]);
 
-  const isLoading = historyLoading || productsLoading || isMarketplaceLoading
-  const error = historyError || productsError
+  const isLoading = historyLoading || productsLoading || isMarketplaceLoading;
+  const error = historyError || productsError;
 
   const handlePageNumberChange = (page: number) => {
-    if (page === currentPage) return
-    setIsPaginationLoading(true)
-    setCurrentPage(page)
-  }
+    if (page === currentPage) return;
+    setIsPaginationLoading(true);
+    setCurrentPage(page);
+  };
 
   const historyItems: HistoryProduct[] = historyData?.data
     ? historyData.data.map((item: any) => ({
@@ -179,7 +207,7 @@ const History = () => {
         timestamp: item.timestamp || new Date().toISOString(),
         vendor: item.vendor,
       }))
-    : []
+    : [];
 
   const productItems: HistoryProduct[] = productsData?.data
     ? productsData.data.map((item: any) => ({
@@ -193,33 +221,46 @@ const History = () => {
         timestamp: item.timestamp || new Date().toISOString(),
         vendor: item.vendor,
       }))
-    : []
+    : [];
 
-  const displayItems = debouncedSearch ? productItems : historyItems
-  const groupedItems = groupByDate(displayItems)
+  const displayItems = debouncedSearch ? productItems : historyItems;
+  const groupedItems = groupByDate(displayItems);
 
   const marketplaceMap: Record<string, { name: string; flag: string }> = {
     "1": { name: "US", flag: "us" },
     "6": { name: "Canada", flag: "ca" },
     "11": { name: "Mexico", flag: "mx" },
-  }
+  };
 
-  
   return (
-    <section className="flex flex-col gap-8 min-h-[50dvh] md:min-h-[80dvh]">
+    <section className="flex flex-col gap-8 min-h-[50dvh] md:min-h-[80dvh] rounded-xl bg-white p-4 lg:p-5">
       <div className="flex flex-col gap-4">
-        <h1 className="text-[#171717] font-medium text-xl md:text-2xl">Search History</h1>
-        <SearchInput placeholder="Search your history..." value={searchValue} onChange={setSearchValue} />
+        <h1 className="text-[#171717] font-medium text-xl md:text-2xl">
+          Search History
+        </h1>
+        <SearchInput
+          placeholder="Search your history..."
+          value={searchValue}
+          onChange={setSearchValue}
+        />
       </div>
 
-     {isLoading && !isPaginationLoading && (
-  <div className="fixed inset-0 pl-20 flex justify-center items-center bg-white z-50">
-    <CircularLoader duration={1000} color="#18CB96" size={64} strokeWidth={4} />
-  </div>
-)}
-
+      {isLoading && !isPaginationLoading && (
+        <div className="fixed inset-0 pl-20 flex justify-center items-center bg-white z-50">
+          <CircularLoader
+            duration={1000}
+            color="#18CB96"
+            size={64}
+            strokeWidth={4}
+          />
+        </div>
+      )}
 
-      {error && <div className="text-center text-red-500 mt-4">Failed to load search history.</div>}
+      {error && (
+        <div className="text-center text-red-500 mt-4">
+          Failed to load search history.
+        </div>
+      )}
 
       {displayItems.length === 0 && !isLoading && !error && (
         <div className="flex flex-col gap-6 justify-center items-center my-auto">
@@ -231,8 +272,12 @@ const History = () => {
             height={200}
           />
           <span className="text-center space-y-1">
-            <h4 className="text-neutral-900 font-bold text-xl md:text-2xl">No search history found</h4>
-            <p className="text-[#52525B] text-sm">Your search history will appear here.</p>
+            <h4 className="text-neutral-900 font-bold text-xl md:text-2xl">
+              No search history found
+            </h4>
+            <p className="text-[#52525B] text-sm">
+              Your search history will appear here.
+            </p>
           </span>
         </div>
       )}
@@ -241,7 +286,12 @@ const History = () => {
         <main className="flex flex-col gap-10 justify-between h-full">
           {isPaginationLoading && (
             <div className="flex justify-center items-center py-16 bg-white rounded-lg border border-border">
-              <CircularLoader duration={2000} color="#18CB96" size={64} strokeWidth={4} />
+              <CircularLoader
+                duration={2000}
+                color="#18CB96"
+                size={64}
+                strokeWidth={4}
+              />
             </div>
           )}
 
@@ -276,7 +326,9 @@ const History = () => {
                       )}
                       <div className="flex flex-col gap-1 text-[#09090B]">
                         <p
-                          onClick={() => router.push(`/dashboard/product/${item.asin}`)}
+                          onClick={() =>
+                            router.push(`/dashboard/product/${item.asin}`)
+                          }
                           className="font-bold hover:underline duration-100"
                         >
                           {highlightText(item.title, debouncedSearch)}
@@ -284,36 +336,62 @@ const History = () => {
                         {item.rating !== undefined && item.rating > 0 && (
                           <p>
                             {"".repeat(Math.min(item.rating, 5))}{" "}
-                            <span className="font-bold">({item.reviews || 0})</span>
+                            <span className="font-bold">
+                              ({item.reviews || 0})
+                            </span>
                           </p>
                         )}
-                        <p className="text-sm">
-                          By ASIN: {highlightText(item.asin, debouncedSearch)}, UPC:{" "}
-                          {highlightText(item.upc || "N/A", debouncedSearch)}
-                        </p>
+                        <div className="flex items-center gap-2 text-sm">
+                          <span>By ASIN: {highlightText(item.asin, debouncedSearch)}</span>
+                          {item.asin !== "N/A" && (
+                            <button
+                              onClick={(e) => {
+                                e.stopPropagation()
+                                copyToClipboard(item.asin)
+                              }}
+                              className="inline-flex items-center justify-center p-1 rounded hover:bg-gray-200 transition-colors duration-200"
+                              title="Copy ASIN"
+                            >
+                              {copiedAsin === item.asin ? (
+                                <FiCheck className="size-3 text-green-600" />
+                              ) : (
+                                <FiCopy className="size-3 text-gray-600 hover:text-gray-800" />
+                              )}
+                            </button>
+                          )}
+                          <span>, UPC: {highlightText(item.upc || "N/A", debouncedSearch)}</span>
+                        </div>
                         {item.category && (
                           <p className="text-sm">
-                            {item.category === "NaN" ? "N/A" : item.category} | <SalesStats product={item} />
+                            {item.category === "NaN" ? "N/A" : item.category} |{" "}
+                            <SalesStats product={item} />
                           </p>
                         )}
-                        {item.vendor && <p className="text-sm">Store: {item.vendor}</p>}
+                        {item.vendor && (
+                          <p className="text-sm">Store: {item.vendor}</p>
+                        )}
 
                         <div className="flex gap-2 items-center">
-                          {marketplaceId && marketplaceMap[String(marketplaceId)] && (
-                            <p className="text-sm flex items-center gap-2">
-                              <Image
-                                src={`https://flagcdn.com/w40/${marketplaceMap[String(marketplaceId)].flag}.png`}
-                                alt={marketplaceMap[String(marketplaceId)].name}
-                                className="w-5 h-auto object-cover"
-                                width={20}
-                                height={24}
-                                quality={90}
-                                priority
-                                unoptimized
-                              />
-                              {marketplaceMap[String(marketplaceId)].name}
-                            </p>
-                          )}
+                          {marketplaceId &&
+                            marketplaceMap[String(marketplaceId)] && (
+                              <p className="text-sm flex items-center gap-2">
+                                <Image
+                                  src={`https://flagcdn.com/w40/${
+                                    marketplaceMap[String(marketplaceId)].flag
+                                  }.png`}
+                                  alt={
+                                    marketplaceMap[String(marketplaceId)].name
+                                  }
+                                  className="w-5 h-auto object-cover"
+                                  width={20}
+                                  height={24}
+                                  quality={90}
+                                  priority
+                                  unoptimized
+                                />
+                                {marketplaceMap[String(marketplaceId)].name}
+                              </p>
+                            )}
 
                           <span className="size-2 bg-black rounded-full" />
 
@@ -354,7 +432,7 @@ const History = () => {
         </main>
       )}
     </section>
-  )
-}
+  );
+};
 
-export default History
\ No newline at end of file
+export default History;
diff --git a/app/(dashboard)/layout.tsx b/app/(dashboard)/layout.tsx
index 8b3fb76..481f919 100644
--- a/app/(dashboard)/layout.tsx
+++ b/app/(dashboard)/layout.tsx
@@ -1,15 +1,18 @@
 "use client";
-import { useLazyGetProfileQuery } from "@/redux/api/auth";
+import { useLazyGetProfileQuery, useUpdateConnectAmazonMutation } from "@/redux/api/auth";
 import { DashNav, DashSider } from "./_components";
 import { useEffect, useState } from "react";
 import { message, Modal } from "antd";
 //import { useDispatch } from "react-redux";
 //import { setUser } from "@/redux/slice/authSlice";
-
+import opxamazon from "@/public/assets/images/opXama.png"
 import { GoAlert } from "react-icons/go";
 import { useRouter } from "next/navigation";
 import Cookies from "js-cookie";
 import Link from "next/link";
+import Image from "next/image";
+import { HiMiniXMark } from "react-icons/hi2";
+import { amazonAuthUrl } from "../(auth)/signUp/_components/Signup";
 
 export default function DashboardLayout({
   children,
@@ -17,11 +20,13 @@ export default function DashboardLayout({
   children: React.ReactNode;
 }>) {
   const [getProfile, {}] = useLazyGetProfileQuery();
+  const [amazonConnect, { isLoading: isAmazonConnectLoading }] = useUpdateConnectAmazonMutation();
   const [messageApi, contextHolder] = message.useMessage();
   //const dispatch = useDispatch();
   const router = useRouter();
   // State to manage modal visibility
   const [isModalVisible, setIsModalVisible] = useState(false);
+  const [open, setOpen] = useState(false);
 
   const handleLogout = () => {
     // Clear the token cookie
@@ -29,6 +34,18 @@ export default function DashboardLayout({
     router.push("/");
   };
 
+  const handleDontShowAgain = () => {
+    amazonConnect({ notify_to_connect_amazon: false })
+      .unwrap()
+      .then(() => {
+        setOpen(false);
+        messageApi.success("Preference saved successfully");
+      })
+      .catch(() => {
+        messageApi.error("Failed to update preference");
+      });
+  };
+
   useEffect(() => {
     getProfile({})
       .unwrap()
@@ -39,22 +56,30 @@ export default function DashboardLayout({
         ) {
           setIsModalVisible(true);
         }
+        
+        // Check if notify_to_connect_amazon is true
+        if (res?.data?.notify_to_connect_amazon === true) {
+          setOpen(true);
+        }
       })
       .catch(() => {
         messageApi.error("failed to get Profile");
       });
     /* eslint-disable-next-line react-hooks/exhaustive-deps */
   }, [setIsModalVisible, getProfile]);
+
   return (
-    <div className="drawer lg:drawer-open text-black mx-auto max-w-screen-2xl 2xl:border">
+    <div className="drawer lg:drawer-open text-black mx-auto max-w-screen-2xl">
       {contextHolder}
       <label htmlFor="my-drawer-2" className="sr-only">
         Toggle Drawer
       </label>
       <input id="my-drawer-2" type="checkbox" className="drawer-toggle" />
-      <div className="drawer-content bg-white max-h-dvh overflow-y-scroll">
-        <DashNav />
-        <div className="p-5 lg:p-6">
+      <div className="drawer-content bg-[#E7EBEE] max-h-dvh overflow-y-scroll">
+        <div className="p-2">
+          <DashNav />
+        </div>
+        <div className="p-2 pb-4">
           {children}
 
           <Modal
@@ -94,9 +119,61 @@ export default function DashboardLayout({
               </div>
             </div>
           </Modal>
+
+          <Modal
+            open={open}
+            footer={null}
+            closable={false}
+            centered
+            width={420}
+            className="!p-0"
+            styles={{body:{padding: 0}, content:{borderRadius:30}}}
+          >
+            <div className="bg-white rounded-3xl pt-10 overflow-hidden ">
+              {/* Header with BG Color instead of image */}
+              <div className=" flex flex-col items-center py-6">
+                <Image src={opxamazon} alt='image' className=" h-[91px]" />
+              </div>
+
+              {/* Body */}
+              <div className="p-6 text-center">
+                <h2 className="text-lg font-semibold mb-3">
+                  Your account is not yet connected to your Amazon seller account.
+                </h2>
+
+                <p className="text-gray-600 mb-6 text-sm">
+                  Please 
+                  <Link href={amazonAuthUrl} target="_blank">
+                    <span className="text-primary underline cursor-pointer">{" "}log in{" "}</span>
+                  </Link>
+                  to connect or{" "}
+                  <Link href={'https://sellercentral.amazon.com/'} target="_blank">
+                    <span className="text-primary underline cursor-pointer">create an account{" "}</span> 
+                  </Link>
+                  if you do not have one, to ensure uninterrupted access to optisage.
+                </p>
+
+                <button 
+                  onClick={handleDontShowAgain}
+                  disabled={isAmazonConnectLoading}
+                  className=" py-3 px-8 rounded-xl text-[#009F6D] border border-primary  hover:bg-gray-100 transition disabled:opacity-50 disabled:cursor-not-allowed"
+                >
+                  {isAmazonConnectLoading ? "Saving..." : "Don't show this again"}
+                </button>
+              </div>
+
+              {/* Custom Close Button */}
+              <button
+                onClick={() => setOpen(false)}
+                className="absolute top-3 right-3  transition rounded-full p-1"
+              >
+                <HiMiniXMark size={26} />
+              </button>
+            </div>
+          </Modal>
         </div>
       </div>
       <DashSider />
     </div>
   );
-}
+}
\ No newline at end of file
diff --git a/app/(dashboard)/monitor-list/_coponents/Monitor.tsx b/app/(dashboard)/monitor-list/_coponents/Monitor.tsx
new file mode 100644
index 0000000..4fc8999
--- /dev/null
+++ b/app/(dashboard)/monitor-list/_coponents/Monitor.tsx
@@ -0,0 +1,274 @@
+"use client";
+import React, { JSX, useState } from "react";
+import { Search } from "lucide-react";
+import { MdOutlineInsertChartOutlined } from "react-icons/md";
+import { useGetMonitoredSellersQuery, useUnmonitorSellerMutation } from "@/redux/api/monitorApi";
+import { useAppSelector } from "@/redux/hooks";
+
+import { message, Skeleton } from "antd";
+import CustomPagination from "../../_components/CustomPagination";
+
+interface SellerData {
+  id: number;
+  seller_id: string;
+  seller_name: string;
+  seller_amazon_link: string;
+  rating: {
+    count: number;
+    stars: number;
+    percentage_change: number | null;
+    change_type: string | null;
+  };
+  marketplace: {
+    id: number;
+    name: string;
+    currency_symbol: string;
+    currency_code: string;
+  };
+  products_count: number;
+  monitoring_since: string;
+  last_updated: string;
+}
+
+const MonitorSellersList: React.FC = () => {
+  const [searchTerm, setSearchTerm] = useState<string>("");
+  const [currentPage, setCurrentPage] = useState<number>(1);
+  const [removingSellerId, setRemovingSellerId] = useState<string | null>(null);
+  const { marketplaceId } = useAppSelector((state) => state?.global);
+  
+  const { data: monitoredSellers, isLoading: isLoadingMonitored } = useGetMonitoredSellersQuery({
+    id: marketplaceId,
+    page: currentPage,
+    per_page: 20
+  });
+
+  const [unmonitorSeller] = useUnmonitorSellerMutation();
+
+  const handleRemove = async (sellerId: string, sellerName: string): Promise<void> => {
+    setRemovingSellerId(sellerId);
+    
+    // Show loading message
+    const hideLoading = message.loading(`Removing ${sellerName}...`, 0);
+    
+    try {
+      const result = await unmonitorSeller({
+        sellerId,
+        marketplaceId
+      }).unwrap();
+      
+      // Hide loading message
+      hideLoading();
+      
+      if (result.success) {
+        message.success({
+          content: result.message || `${sellerName} has been successfully removed from monitoring`,
+          duration: 3,
+        });
+      } else {
+        message.warning({
+          content: result.message || "Something went wrong while removing the seller",
+          duration: 3,
+        });
+      }
+    } catch (error) {
+      // Hide loading message
+      hideLoading();
+      
+      const err = error as { 
+        data?: { message?: string; error?: string };
+        status?: number;
+      };
+      
+      // Show detailed error message
+      message.error({
+        content: err?.data?.message || err?.data?.error || `Failed to remove ${sellerName}. Please try again.`,
+        duration: 4,
+      });
+      
+      console.error("Error removing seller:", error);
+    } finally {
+      setRemovingSellerId(null);
+    }
+  };
+
+  const handleNextPage = (): void => {
+    if (monitoredSellers?.meta?.pagination?.has_next_page) {
+      setCurrentPage(prev => prev + 1);
+    }
+  };
+
+  const handlePreviousPage = (): void => {
+    if (monitoredSellers?.meta?.pagination?.has_previous_page) {
+      setCurrentPage(prev => prev - 1);
+    }
+  };
+
+  const formatDate = (dateString: string): string => {
+    const date = new Date(dateString);
+    return date.toLocaleDateString('en-US', { 
+      month: '2-digit', 
+      day: '2-digit', 
+      year: '2-digit' 
+    });
+  };
+
+  const getSellerTypeColor = (rating: number): string => {
+    if (rating >= 4.5) return "bg-black";
+    if (rating >= 4.0) return "bg-[#00E4E4]";
+    return "bg-orange-400";
+  };
+
+  const renderStars = (rating: number): JSX.Element[] => {
+    return Array.from({ length: 5 }, (_, i) => (
+      <span
+        key={i}
+        className={i < Math.floor(rating) ? "text-yellow-400" : "text-gray-300"}
+      >
+        
+      </span>
+    ));
+  };
+
+  const filteredSellers: SellerData[] = monitoredSellers?.data?.filter(
+    (seller) =>
+      seller.seller_name.toLowerCase().includes(searchTerm.toLowerCase()) ||
+      seller.seller_id.toLowerCase().includes(searchTerm.toLowerCase())
+  ) || [];
+
+  if (isLoadingMonitored) {
+    return (
+      <div className="w-full max-w-7xl mx-auto p-6 bg-white">
+        <div className="flex items-center justify-between mb-6">
+          <Skeleton.Button active size="large" style={{ width: 200 }} />
+          <Skeleton.Input active size="default" style={{ width: 256 }} />
+        </div>
+        <div className="space-y-4">
+          <Skeleton active paragraph={{ rows: 8 }} />
+        </div>
+      </div>
+    );
+  }
+
+  return (
+    <div className="w-full max-w-7xl mx-auto p-6 bg-white">
+      <div className="flex items-center justify-between mb-6">
+        <button
+          type="button"
+          className="px-3 py-1.5 rounded-3xl font-semibold text-sm w-max flex items-center gap-1.5 bg-primary text-white"
+        >
+          <MdOutlineInsertChartOutlined className="size-5" />
+          Monitor sellers list
+        </button>
+
+        <div className="relative w-64">
+          <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4" />
+          <input
+            type="text"
+            placeholder="search"
+            value={searchTerm}
+            onChange={(e) => setSearchTerm(e.target.value)}
+            className="w-full rounded-3xl pl-10 pr-4 py-2 border border-gray-200 text-sm focus:outline-none focus:border-gray-300"
+          />
+        </div>
+      </div>
+
+      <div className="overflow-x-auto">
+        <table className="min-w-full text-left text-sm">
+          <thead>
+            <tr className="border-b bg-[#F7F7F7]">
+              <th className="p-4 font-medium text-gray-700 w-[60px]">#</th>
+              <th className="p-4 font-medium text-gray-700">Seller</th>
+              <th className="p-4 font-medium text-gray-700">Store Name</th>
+              <th className="p-4 font-medium text-gray-700">No. of items</th>
+              <th className="p-4 font-medium text-gray-700">Last Seen</th>
+              <th className="p-4 font-medium text-gray-700">Last Uploaded</th>
+              <th className="p-4 font-medium text-gray-700">Action</th>
+            </tr>
+          </thead>
+          <tbody>
+            {filteredSellers.length > 0 ? (
+              filteredSellers.map((seller, index) => (
+                <tr
+                  key={seller.id}
+                  className="border-b last:border-none hover:bg-gray-50 transition-colors"
+                >
+                  <td className="px-4 py-2 text-gray-700">
+                    {(currentPage - 1) * 20 + index + 1}
+                  </td>
+                  <td className="px-4 py-2 min-w-[200px]">
+                    <div className="flex flex-col gap-1">
+                      <div className="flex items-center gap-2">
+                        <span
+                          className={`w-2.5 h-2.5 rounded-full ${getSellerTypeColor(
+                            seller.rating.stars
+                          )}`}
+                        />
+                        <span className="font-medium text-gray-900">
+                          {seller.seller_name} ({seller.rating.count})
+                        </span>
+                        {seller.rating.percentage_change !== null && (
+                          <span
+                            className={`text-xs ${
+                              seller.rating.change_type === "increase"
+                                ? "text-green-500"
+                                : "text-red-500"
+                            }`}
+                          >
+                            {seller.rating.change_type === "increase" ? "" : ""}
+                            {seller.rating.percentage_change}%
+                          </span>
+                        )}
+                      </div>
+                      <div className="flex items-center text-xs">
+                        {renderStars(seller.rating.stars)}
+                      </div>
+                    </div>
+                  </td>
+                  <td className="px-4 py-2">
+                    <a 
+                      href={seller.seller_amazon_link} 
+                      target="_blank"
+                      rel="noopener noreferrer"
+                      className="text-blue-500 hover:underline"
+                    >
+                      {seller.seller_name}
+                    </a>
+                  </td>
+                  <td className="px-4 py-2 text-gray-700">{seller.products_count}</td>
+                  <td className="px-4 py-2 text-gray-700">{formatDate(seller.monitoring_since)}</td>
+                  <td className="px-4 py-2 text-gray-700">{formatDate(seller.last_updated)}</td>
+                  <td className="px-4 py-2">
+                    <button
+                      onClick={() => handleRemove(seller.seller_id, seller.seller_name)}
+                      disabled={removingSellerId === seller.seller_id}
+                      className="px-3.5 py-1.5 border border-[#FB583E] font-medium text-[#FB583E] rounded-md text-sm hover:bg-red-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
+                    >
+                      {removingSellerId === seller.seller_id ? "Removing..." : "Remove"}
+                    </button>
+                  </td>
+                </tr>
+              ))
+            ) : (
+              <tr>
+                <td colSpan={7} className="text-center p-6 text-gray-500">
+                  No sellers found matching your search.
+                </td>
+              </tr>
+            )}
+          </tbody>
+        </table>
+      </div>
+
+      {monitoredSellers?.data && monitoredSellers.data.length > 0 && (
+        <CustomPagination
+          onNext={handleNextPage}
+          onPrevious={handlePreviousPage}
+          hasNext={monitoredSellers?.meta?.pagination?.has_next_page || false}
+          hasPrevious={monitoredSellers?.meta?.pagination?.has_previous_page || false}
+        />
+      )}
+    </div>
+  );
+};
+
+export default MonitorSellersList;
\ No newline at end of file
diff --git a/app/(dashboard)/monitor-list/page.tsx b/app/(dashboard)/monitor-list/page.tsx
new file mode 100644
index 0000000..abcf0ef
--- /dev/null
+++ b/app/(dashboard)/monitor-list/page.tsx
@@ -0,0 +1,15 @@
+import { Metadata } from "next";
+import MonitorSellersList from "./_coponents/Monitor";
+
+
+export const metadata: Metadata = {
+  title: "Monitor List",
+  description:
+    "View stores you are monitoring",
+};
+
+const page = () => {
+  return <MonitorSellersList />;
+};
+
+export default page;
diff --git a/app/(dashboard)/referral/_components/Referral.tsx b/app/(dashboard)/referral/_components/Referral.tsx
index 150afb2..da27a38 100644
--- a/app/(dashboard)/referral/_components/Referral.tsx
+++ b/app/(dashboard)/referral/_components/Referral.tsx
@@ -1,4 +1,4 @@
-"use client"
+"use client";
 import Image from "next/image";
 
 import Illustration1 from "@/public/assets/svg/illustration-1.svg";
@@ -15,7 +15,6 @@ import { useEffect } from "react";
 import useCurrencyConverter from "@/utils/currencyConverter";
 import { useAppSelector } from "@/redux/hooks";
 
-
 interface ReferralData {
   points: number;
   conversion: {
@@ -29,22 +28,20 @@ interface ReferralData {
   referrals: [];
 }
 
-
 const Referral = () => {
-  const [getRef, {data: refData, isLoading}] = useLazyGetReferralsQuery()
-  useEffect(()=>{
-    getRef({})
-  /* eslint-disable-next-line react-hooks/exhaustive-deps */
-  },[])
+  const [getRef, { data: refData, isLoading }] = useLazyGetReferralsQuery();
+  useEffect(() => {
+    getRef({});
+    /* eslint-disable-next-line react-hooks/exhaustive-deps */
+  }, []);
   const { currencyCode, currencySymbol } =
-      useAppSelector((state) => state.global) || {};
+    useAppSelector((state) => state.global) || {};
   const { convertPrice } = useCurrencyConverter(currencyCode);
- 
 
   const referralData = refData?.data as ReferralData;
 
   return (
-    <section className="flex flex-col gap-12 min-h-[50dvh] md:min-h-[80dvh]">
+    <section className="flex flex-col gap-12 min-h-[50dvh] md:min-h-[80dvh] rounded-xl bg-white p-4 lg:p-5">
       <div className="flex flex-col gap-8">
         <div className="grid xl:grid-cols-[4fr_2fr] gap-4 items-center">
           <div className="bg-[#F7F7F7] p-6 rounded-2xl grid sm:grid-cols-2 md:grid-cols-3 gap-8 sm:gap-5">
@@ -107,11 +104,10 @@ const Referral = () => {
             </div>
           </div>
 
-
           <div className="flex flex-col md:flex-row xl:flex-col gap-4">
             <SocialReferralModal />
 
-{/** 
+            {/** 
             <div className="border border-border rounded-lg p-5 flex gap-4 items-center relative cursor-pointer">
               <span className="absolute right-3 top-3 bg-primary text-white text-xs px-1.5 py-0.5 rounded-md">
                 Coming Soon
@@ -165,7 +161,8 @@ const Referral = () => {
                   Earnings this Week
                 </h5>
                 <p className="text-[#01011D] font-semibold text-xl md:text-2xl">
-                {currencySymbol}{convertPrice(referralData?.week_earnings) || 0}
+                  {currencySymbol}
+                  {convertPrice(referralData?.week_earnings) || 0}
                 </p>
               </span>
 
@@ -181,9 +178,13 @@ const Referral = () => {
         </div>
       </div>
 
-      <ReferralTable tableLoading={isLoading} tableData={referralData?.referrals || []}/>
+      <ReferralTable
+        tableLoading={isLoading}
+        tableData={referralData?.referrals || []}
+      />
     </section>
   );
 };
 
 export default Referral;
+
diff --git a/app/(dashboard)/referral/_components/ReferralTable.tsx b/app/(dashboard)/referral/_components/ReferralTable.tsx
index fa7d2d1..c59084b 100644
--- a/app/(dashboard)/referral/_components/ReferralTable.tsx
+++ b/app/(dashboard)/referral/_components/ReferralTable.tsx
@@ -1,5 +1,6 @@
 "use client";
-
+/* eslint-disable @typescript-eslint/no-explicit-any */
+/* eslint-disable  @typescript-eslint/no-unused-vars */
 import { useState } from "react";
 import { message, Table } from "antd";
 import { useAppSelector } from "@/redux/hooks";
@@ -93,10 +94,10 @@ const ReferralTable = ({
     try {
       await navigator.clipboard.writeText(text);
       messageApi.success("Link copied to clipboard");
-      console.log("Text copied to clipboard");
+     
     } catch (err) {
       messageApi.error("Failed to copy to clipboard");
-      console.error("Failed to copy text: ", err);
+      
     }
   };
 
diff --git a/app/(dashboard)/seller/_components/MonitorButton.tsx b/app/(dashboard)/seller/_components/MonitorButton.tsx
new file mode 100644
index 0000000..eebb931
--- /dev/null
+++ b/app/(dashboard)/seller/_components/MonitorButton.tsx
@@ -0,0 +1,99 @@
+"use client";
+/* eslint-disable @typescript-eslint/no-explicit-any */
+import { useEffect, useState } from "react";
+import { message } from "antd";
+//import { HiOutlineEye, HiOutlineEyeSlash } from "react-icons/hi2";
+import { 
+  useMonitorSellerMutation, 
+  useUnmonitorSellerMutation, 
+  useGetMonitoredSellersQuery 
+} from "@/redux/api/monitorApi";
+import MonitorIcon from "@/public/assets/svg/icons/monitor";
+
+interface MonitorButtonProps {
+  sellerId: string;
+  marketplaceId: number;
+}
+
+const MonitorButton: React.FC<MonitorButtonProps> = ({ sellerId, marketplaceId }) => {
+  const [messageApi, contextHolder] = message.useMessage();
+  const [isMonitored, setIsMonitoring] = useState(false);
+// Query to check if seller is already monitored
+  const { data: monitoredSellers, isLoading: isLoadingMonitored } = useGetMonitoredSellersQuery({});
+
+
+  useEffect(()=>{
+    if(monitoredSellers && monitoredSellers?.data?.length > 0) {
+      const isAlreadyMonitored = monitoredSellers.data.some(
+        (seller) => seller.seller_id.toString() === sellerId.toString() && seller.marketplace.id === marketplaceId
+      );
+      setIsMonitoring(isAlreadyMonitored);
+    }
+
+  },[ monitoredSellers, sellerId, marketplaceId ]);
+  
+  
+  
+  // Mutations for monitoring/unmonitoring
+  const [monitorSeller, { isLoading: isMonitoring }] = useMonitorSellerMutation();
+  const [unmonitorSeller, { isLoading: isUnmonitoring }] = useUnmonitorSellerMutation();
+  
+  // Check if current seller is being monitored
+   
+  
+  const isLoading = isLoadingMonitored || isMonitoring || isUnmonitoring;
+  
+  const handleMonitorToggle = async () => {
+    try {
+      if (isMonitored) {
+        const result = await unmonitorSeller({ sellerId, marketplaceId }).unwrap();
+        messageApi.success(result.message || "Seller unmonitored successfully");
+        setIsMonitoring(false);
+      } else {
+        const result = await monitorSeller({ sellerId, marketplaceId }).unwrap();
+        messageApi.success(result.message || "Seller is now being monitored");
+        setIsMonitoring(true);
+      }
+    } catch (error: any) {
+      const errorMessage = error?.data?.message || "An error occurred";
+      messageApi.error(errorMessage);
+    }
+  };
+  
+  return (
+    <>
+      {contextHolder}
+      <button
+        onClick={handleMonitorToggle}
+        disabled={isLoading}
+        className={`
+          flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200
+          ${isMonitored 
+            ? ' text-red-600 border border-red-200 hover:bg-red-100' 
+            : ' text-white border-primary border'
+          }
+          ${isLoading ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}
+        `}
+      >
+        {isLoading ? (
+          <div className=" text-primary flex items-center gap-4">
+            <div className="w-4 h-4 border-2 text-primary border-current border-t-transparent rounded-full animate-spin" />
+            Loading...
+          </div>
+        ) : isMonitored ? (
+          <>
+            <MonitorIcon className="w-6 h-6" stroke="#DC2626" />
+            
+          </>
+        ) : (
+          <>
+            <MonitorIcon className="w-6 h-6" stroke="#292D32" />
+            
+          </>
+        )}
+      </button>
+    </>
+  );
+};
+
+export default MonitorButton;
\ No newline at end of file
diff --git a/app/(dashboard)/seller/_components/Seller.tsx b/app/(dashboard)/seller/_components/Seller.tsx
index 0ada2b2..6bb7922 100644
--- a/app/(dashboard)/seller/_components/Seller.tsx
+++ b/app/(dashboard)/seller/_components/Seller.tsx
@@ -17,7 +17,7 @@ import { HiOutlineUsers } from "react-icons/hi2"
 import KeepaChart from "./keepa-chart"
 import { debounce } from "@/utils/debounce"
 import FinalLoader from "../../dashboard/_components/loader"
-
+import MonitorButton from "./MonitorButton"
 
 // Define the Product interface
 export interface Product {
@@ -245,7 +245,7 @@ const handleCategoryClick = (categoryId: number) => {
   }, [detailsLoading, productLoading, isLoading])
 
   return (
-    <section className="flex flex-col gap-8 min-h-[50dvh] md:min-h-[80dvh]">
+    <section className="flex flex-col gap-8 min-h-[50dvh] md:min-h-[80dvh] bg-white p-2 rounded-lg">
       {contextHolder}
 
       {isLoading ? (
@@ -279,7 +279,9 @@ const handleCategoryClick = (categoryId: number) => {
             <div className="rounded-lg border border-border flex flex-col divide-y divide-[#EDEDED] text-[#252525] text-sm">
               <span className="p-4 border-b border-border mb-2 flex justify-between items-center">
                 <p className="bg-primary rounded-2xl py-2 px-4 text-white font-semibold w-max">Store Details</p>
-              
+                {sellerId && marketplaceId && (
+                  <MonitorButton sellerId={sellerId} marketplaceId={marketplaceId} />
+                )}
               </span>
               <span className="p-4 bg-[#F7F7F7] flex justify-between items-center font-medium">
                 <p>Seller Name</p>
diff --git a/app/(dashboard)/settings/_components/Settings.tsx b/app/(dashboard)/settings/_components/Settings.tsx
index dd3caba..cd87af0 100644
--- a/app/(dashboard)/settings/_components/Settings.tsx
+++ b/app/(dashboard)/settings/_components/Settings.tsx
@@ -21,19 +21,20 @@ const Settings = () => {
   );
   const [isCancelVisible, setIsCancelVisible] = useState(false);
   const [isReasonVisible, setIsReasonVisible] = useState(false);
- const {  subscription_type,
-  subscription_canceled,
-  subscription_will_end_at,
-  billing_status,
-  trial_ends_at,
-  next_billing_date,} =
-     useAppSelector((state) => state.api?.user) || {};
+  const {
+    subscription_type,
+    subscription_canceled,
+    subscription_will_end_at,
+    billing_status,
+    trial_ends_at,
+    next_billing_date,
+  } = useAppSelector((state) => state.api?.user) || {};
   const [messageApi, contextHolder] = message.useMessage();
-  const [getProfile] =useLazyGetProfileQuery()
+  const [getProfile] = useLazyGetProfileQuery();
 
   const [getSettings, { isLoading, data: settingsData }] =
     useLazyGetSettingsQuery();
-    const [cancelSubscription, { isLoading: cancelLoading }] =
+  const [cancelSubscription, { isLoading: cancelLoading }] =
     useCancelSubscriptionMutation();
 
   useEffect(() => {
@@ -53,7 +54,6 @@ const Settings = () => {
       });
   };
 
-
   // Determine expiration date and message
   let expirationDate;
   let statusMessage = "";
@@ -82,7 +82,7 @@ const Settings = () => {
   }
 
   return (
-    <section className="flex flex-col gap-8 min-h-[50dvh] md:min-h-[80dvh] ">
+    <section className="flex flex-col gap-8 min-h-[50dvh] md:min-h-[80dvh] rounded-xl bg-white p-4 lg:p-5">
       {contextHolder}
       <Heading title="Settings" subtitle="Manage your profile" />
 
@@ -137,11 +137,12 @@ const Settings = () => {
         <div className=" bg-[#FAFDFC] border border-[#DDE1DF] w-full rounded-xl p-4">
           <div className=" flex justify-between items-center mt-2">
             <div>
-              <h5 className=" font-semibold text-[#090F0D] ">{subscription_type} User</h5>
+              <h5 className=" font-semibold text-[#090F0D] ">
+                {subscription_type} User
+              </h5>
               <h6 className=" flex items-center">
                 <span className=" text-sm text-[#1E6B4F] font-semibold">
-                {statusText}
-                  
+                  {statusText}
                 </span>
                 {expirationDate && (
                   <>
@@ -154,35 +155,36 @@ const Settings = () => {
               </h6>
             </div>
             <div>
-              {
-                subscription_canceled === false && (
-                  <button className=" text-slate-500 rounded-xl text-sm py-1 px-3 hover:bg-red-500 hover:text-white" onClick={() => setIsCancelVisible(true)}>
+              {subscription_canceled === false && (
+                <button
+                  className=" text-slate-500 rounded-xl text-sm py-1 px-3 hover:bg-red-500 hover:text-white"
+                  onClick={() => setIsCancelVisible(true)}
+                >
                   Cancel Subscription
                 </button>
-                )
-              }
-            
+              )}
             </div>
           </div>
         </div>
       </div>
 
       <CancelModal
-      setIsCancelVisible={()=>setIsCancelVisible(false)}
-      isCancelVisible={isCancelVisible}
-      handleReason={()=>{
-        setIsReasonVisible(true);
-        setIsCancelVisible(false);
-      }}
+        setIsCancelVisible={() => setIsCancelVisible(false)}
+        isCancelVisible={isCancelVisible}
+        handleReason={() => {
+          setIsReasonVisible(true);
+          setIsCancelVisible(false);
+        }}
       />
-      <CancelReason 
-      setIsReasonVisible={()=>setIsReasonVisible(false)}
-      isReasonVisible={isReasonVisible}
-      loading={cancelLoading}
-      handleCancelSubscription={handleCancelSubscription}
+      <CancelReason
+        setIsReasonVisible={() => setIsReasonVisible(false)}
+        isReasonVisible={isReasonVisible}
+        loading={cancelLoading}
+        handleCancelSubscription={handleCancelSubscription}
       />
     </section>
   );
 };
 
 export default Settings;
+
diff --git a/app/(dashboard)/subscriptions/_components/SubscriptionHistoryTable.tsx b/app/(dashboard)/subscriptions/_components/SubscriptionHistoryTable.tsx
index d4c1cc1..f2cf1e7 100644
--- a/app/(dashboard)/subscriptions/_components/SubscriptionHistoryTable.tsx
+++ b/app/(dashboard)/subscriptions/_components/SubscriptionHistoryTable.tsx
@@ -53,7 +53,7 @@ const SubscriptionHistoryTable: React.FC<SubscriptionHistoryTableProps> = ({
 
   useEffect(() => {
     if (tableData?.data) {
-      const transformedData = tableData.data.data.map((item) => ({
+      const transformedData = tableData.data.data?.map((item) => ({
         key: item.id.toString(),
         invoice: `Invoice ${String(item.id).padStart(4, "0")}`,
         date: item.date,
diff --git a/app/(dashboard)/subscriptions/_components/Subscriptions.tsx b/app/(dashboard)/subscriptions/_components/Subscriptions.tsx
index 9afe00d..8b12a45 100644
--- a/app/(dashboard)/subscriptions/_components/Subscriptions.tsx
+++ b/app/(dashboard)/subscriptions/_components/Subscriptions.tsx
@@ -22,28 +22,42 @@ import {
 import useCurrencyConverter from "@/utils/currencyConverter";
 import { MdInfoOutline } from "react-icons/md";
 import { LuDot } from "react-icons/lu";
-import { FaCheckCircle } from "react-icons/fa";
+import { FaCheckCircle, FaChevronDown, FaChevronUp } from "react-icons/fa";
 import { formatDate } from "@/utils/dateFormat";
 import RenewSubscriptionModal from "../../_components/renewSubModal";
+import { IoWarning } from "react-icons/io5";
+interface Feature {
+  name: string;
+  description: string;
+}
 
 interface PricingPlan {
-  id: string;
+  id: number;
   name: string;
-  price: string;
   stripe_price_id: string;
-  meta_data?: {
-    features?: any[];
+  price: string;
+  trial: number;
+  currency: string;
+  interval: string;
+  meta_data: {
+    notes?: string[];
+    tooltip?: string;
+    features?: Feature[];
+    billing_note?: string;
   };
+  status: number;
+  created_at: string;
+  updated_at: string;
+  stripe_product_id: string;
 }
 
 const Subscriptions = () => {
-  const [isMonthly, setIsMonthly] = useState(true);
+  const [isAnnual, setIsAnnual] = useState(false);
   const [pricingData, setPricingData] = useState<PricingPlan[]>([]);
   const [isModalVisible, setIsModalVisible] = useState(false);
   const [isRenewVisible, setIsRenewVisible] = useState(false);
-  const [selectedPlan, setSelectedPlan] = useState<PricingPlan | null>(null);
-  const monthlyPrice = 35;
-  const annualPrice = monthlyPrice * 12;
+  const [selectedPlan, setSelectedPlan] = useState<any | null>(null);
+  const [expandedFeatures, setExpandedFeatures] = useState<{[key: string]: boolean}>({});
 
   const [getSubscription, { data: subData, isLoading }] =
     useLazyGetSubscriptionsQuery();
@@ -61,7 +75,7 @@ const Subscriptions = () => {
     useAppSelector((state) => state.global) || {};
 
   const [getPricing, { data, isLoading: isLoadingPricing }] =
-    useLazyGetUserPricingQuery();
+    useLazyGetPricingQuery();
   const [changeSubscription, { isLoading: changeLoading }] =
     useChangeSubscriptionMutation();
   const [getProfile] = useLazyGetProfileQuery();
@@ -71,32 +85,101 @@ const Subscriptions = () => {
 
   const { convertPrice } = useCurrencyConverter(currencyCode);
 
-  // Helper function to safely render features
-  const renderFeature = (feature: any): string => {
-    if (typeof feature === 'string') return feature;
-    if (typeof feature === 'object' && feature !== null) {
-      return feature.name || feature.description || "";
-    }
-    return "";
-  };
-
   useEffect(() => {
     getSubscription({});
-    getPricing({}).then((response) => {
-      if (response.data) {
-        setPricingData(response.data.data);
+    getPricing({});
+  }, [getSubscription, getPricing]);
+
+  useEffect(() => {
+    if (data?.data) {
+      setPricingData(data.data);
+    }
+  }, [data]);
+
+  // Process pricing data similar to Pricing component
+  const getProcessedPlans = () => {
+    const currentInterval = isAnnual ? "year" : "month";
+    
+    // Filter by current interval only
+    const filteredPlans = pricingData.filter(
+      (plan) => plan.interval === currentInterval
+    );
+
+    // Sort by price
+    const sortedPlans = filteredPlans.sort(
+      (a, b) => parseFloat(a.price) - parseFloat(b.price)
+    );
+
+    return sortedPlans.map((plan) => {
+      const isDefaultHighlighted = plan.name.toUpperCase() === "PREMIUM";
+
+      let displayPrice, priceLabel;
+      if (plan.interval === "year") {
+        displayPrice = parseFloat(plan.price).toFixed(0);
+        priceLabel = "Per year";
+      } else {
+        displayPrice = parseFloat(plan.price).toFixed(0);
+        priceLabel = "Per month";
+      }
+
+      // Properly handle features - extract names from feature objects
+      const features = plan.meta_data.features?.map((f) => {
+        if (typeof f === 'string') return f;
+        if (typeof f === 'object' && f !== null) {
+          return f.name || "";
+        }
+        return "";
+      }).filter(Boolean) || [];
+
+      let description = plan.meta_data.tooltip || "";
+      if (!description) {
+        const planName = plan.name.toUpperCase();
+        if (planName.includes("STARTER")) {
+          description = "New sellers & small businesses";
+        } else if (planName === "PREMIUM") {
+          description = "For growing sellers & established brands";
+        } else if (planName === "SAGE" || planName === "ENTERPRISE") {
+          description = "Large sellers & enterprises";
+        } else {
+          description = "Professional plan";
+        }
       }
+
+      const notes = plan.meta_data.notes || [];
+      const displayNotes = notes.length > 0 ? notes : [plan.interval === "year" ? "Annual billing" : "Monthly billing"];
+
+      const isDisabled = plan.name.toUpperCase() === "SAGE";
+      const isCurrentPlan = plan.name === subscription_type;
+
+      return {
+        id: plan.id,
+        name: plan.name,
+        price: parseInt(displayPrice),
+        originalPrice: parseFloat(plan.price),
+        priceLabel,
+        description,
+        features,
+        notes: displayNotes,
+        isDefaultHighlighted,
+        stripePriceId: plan.stripe_price_id,
+        interval: plan.interval,
+        trial: plan.trial,
+        isDisabled,
+        isCurrentPlan,
+      };
     });
-    /* eslint-disable-next-line react-hooks/exhaustive-deps */
-  }, []);
+  };
+
+  const processedPlans = getProcessedPlans();
 
-  const handleSubscriptionChange = (planId: string) => {
-    changeSubscription({ pricing_id: planId })
+  const handleSubscriptionChange = (planId: number) => {
+    changeSubscription({ pricing_id: planId.toString() })
       .unwrap()
       .then(() => {
         messageApi.success("Changed Subscription Successfully");
         getProfile({});
         getSubscription({});
+        getPricing({});
         setIsModalVisible(false);
       })
       .catch(() => {
@@ -117,35 +200,42 @@ const Subscriptions = () => {
       });
   };
 
-   // Determine expiration date and message
-   let expirationDate;
-   let statusMessage = "";
-   let statusText = "";
- 
-   if (subscription_canceled) {
-     statusText = "Canceled";
-     statusMessage = "Your subscription will fully expire at";
-     expirationDate = subscription_will_end_at;
-   } else {
-     switch (billing_status) {
-       case "trialing":
-         statusText = "";
-         statusMessage = "Your trial ends at";
-         expirationDate = trial_ends_at;
-         break;
-       case "active":
-         statusText = "Active";
-         statusMessage = "Your subscription will renew on";
-         expirationDate = next_billing_date;
-         break;
-       default:
-         statusText = "Inactive";
-         statusMessage = "No active subscription";
-     }
-   }
+  const toggleFeatures = (planKey: string) => {
+    setExpandedFeatures(prev => ({
+      ...prev,
+      [planKey]: !prev[planKey]
+    }));
+  };
+
+  // Determine expiration date and message
+  let expirationDate;
+  let statusMessage = "";
+  let statusText = "";
+
+  if (subscription_canceled) {
+    statusText = "Canceled";
+    statusMessage = "Your subscription will fully expire at";
+    expirationDate = subscription_will_end_at;
+  } else {
+    switch (billing_status) {
+      case "trialing":
+        statusText = "";
+        statusMessage = "Your trial ends at";
+        expirationDate = trial_ends_at;
+        break;
+      case "active":
+        statusText = "Active";
+        statusMessage = "Your subscription will renew on";
+        expirationDate = next_billing_date;
+        break;
+      default:
+        statusText = "Inactive";
+        statusMessage = "No active subscription";
+    }
+  }
 
   return (
-    <section className="flex flex-col gap-8 min-h-[50dvh] md:min-h-[80dvh]">
+    <section className="flex flex-col gap-8 min-h-[50dvh] md:min-h-[80dvh] bg-white rounded-2xl p-5">
       {contextHolder}
       <div className=" flex items-center justify-between">
         <Heading
@@ -155,107 +245,154 @@ const Subscriptions = () => {
       </div>
 
       {/* plans */}
-      <div className="flex flex-col gap-12">
+      <div className="flex flex-col gap-7">
         {/* Toggle Buttons */}
-        {/* <div className="rounded-xl p-1 border border-[#EBEBEB] flex gap-1 w-max mx-auto">
-          <button
-            type="button"
-            className={`${
-              isMonthly
-                ? "bg-primary text-white"
-                : "hover:bg-gray-50 text-[#01011D]"
-            } duration-200 font-medium rounded-xl px-4 py-2`}
-            onClick={() => setIsMonthly(true)}
-          >
-            Monthly
-          </button>
-          <button
-            type="button"
-            className={`${
-              !isMonthly
-                ? "bg-primary text-white"
-                : "hover:bg-gray-50 text-[#01011D]"
-            } duration-200 font-medium rounded-xl px-4 py-2`}
-            onClick={() => setIsMonthly(false)}
-          >
-            Annually
-          </button>
-        </div> */}
+        <div className="flex justify-center">
+          <div className="flex items-center space-x-4 bg-[#F3F8FB] rounded-full px-2 py-2">
+            <button
+              onClick={() => setIsAnnual(false)}
+              className={`text-sm font-medium px-3 py-1 rounded-full transition-colors ${
+                !isAnnual ? "text-white bg-[#0BAB79]" : "text-gray-600"
+              }`}
+            >
+              Monthly
+            </button>
+            <button
+              onClick={() => setIsAnnual(true)}
+              className={`text-sm font-medium px-3 py-1 rounded-full transition-colors ${
+                isAnnual ? "text-white bg-[#0BAB79]" : "text-gray-600"
+              }`}
+            >
+              Annually
+            </button>
+          </div>
+        </div>
 
         {/* grid */}
-        <div className="grid sm:grid-cols-3 gap-6">
-          {/* Dynamically render pricing plans */}
-          {pricingData.map((plan, index) => {
-            const features = plan.meta_data?.features || [];
-            const firstFeature = features[0];
-            const remainingFeatures = features.slice(1, 4);
-            
+        <div className={`grid gap-6 ${processedPlans.length === 1 ? 'grid-cols-1 max-w-md mx-auto' : processedPlans.length === 2 ? 'grid-cols-2' : 'sm:grid-cols-3'}`}>
+          {processedPlans.map((plan, index) => {
+            const planKey = `${plan.id}-${plan.interval}-${index}`;
+            const isExpanded = expandedFeatures[planKey] || false;
+            const displayedFeatures = isExpanded ? plan.features : plan.features.slice(0, 2);
+            const hasMoreFeatures = plan.features.length > 4;
+
             return (
               <div
-                key={plan.id}
-                className={`border border-[#EBEBEB] hover:border-primary duration-200 rounded-3xl p-6 flex flex-col gap-6 ${
-                  index === 0
-                    ? "bg-[url(/path/to/image1.svg)] text-[#787891]"
-                    : index === 1
+                key={planKey}
+                className={`border border-[#EBEBEB] hover:border-primary duration-200 rounded-3xl p-6 flex flex-col gap-3 ${
+                  plan.name.toUpperCase().includes('STARTER') 
+                    ? "text-[#787891]" 
+                    : plan.name.toUpperCase() === 'PREMIUM'
                     ? "bg-[url(/assets/images/pricing-bg.png)] text-[#787891]"
                     : "bg-[url(/assets/images/Pricing3.png)] text-white"
-                } bg-no-repeat bg-cover bg-top hover:bg-primary/5`}
+                } bg-no-repeat bg-cover bg-top hover:bg-primary/5 ${
+                  plan.isCurrentPlan ? "ring-1 ring-primary" : ""
+                }`}
               >
+                {/**
+                {plan.isCurrentPlan && (
+                  <div className="bg-primary text-white text-xs px-3 py-1 rounded-full w-fit">
+                    Current Plan
+                  </div>
+                )}
+                   
+
+                {plan.isDisabled && (
+                  <div className="bg-gray-600 text-white text-xs px-3 py-1 rounded-full w-fit">
+                    Coming Soon
+                  </div>
+                )}
+                  */}
+
                 <span className="flex flex-col gap-5">
-                  <h3 className="capitalize">{plan.name}</h3>
+                  <h3 className="capitalize font-semibold">{plan.name}</h3>
                   <p>
                     <span className="text-xl sm:text-2xl font-semibold">
                       {currencySymbol}
                     </span>
                     <span
-                      className={`text-[#01011D] text-xl sm:text-2xl font-semibold ${
-                        index === 2 ? "text-white" : ""
+                      className={`text-xl sm:text-2xl font-semibold ${
+                        plan.name.toUpperCase() === 'SAGE' ? "text-white" : "text-[#01011D]"
                       }`}
                     >
-                      {isMonthly
-                        ? convertPrice(plan.price)
-                        : convertPrice((parseFloat(plan.price) * 12).toString())}
+                      {convertPrice(plan.price.toString())}
                     </span>{" "}
                     &nbsp;
-                    <span>/</span> {isMonthly ? "mo" : "yr"}
+                    <span className="text-sm">{plan.priceLabel}</span>
                   </p>
                 </span>
-                
-                <p className="truncate">{renderFeature(firstFeature)}</p>
 
+                <p className="text-sm font-medium">{plan.description}</p>
+
+                {/* Features and Notes List */}
                 <ul className="mt-1 text-left space-y-2 h-fit pt-2">
-                  {remainingFeatures.slice(0, 3).map((feature, idx) => (
-                    <li className="flex gap-2 items-center" key={idx}>
+                  {displayedFeatures.map((feature, idx) => (
+                    <li className="flex gap-2 items-start" key={idx}>
+                      <FaCheckCircle
+                        className={`!h-[20px] !w-[20px] flex-shrink-0 mt-0.5 ${
+                          plan.name.toUpperCase() === 'SAGE' ? "text-white" : "text-green-700"
+                        }`}
+                      />
+                      <span className="text-sm">{feature}</span>
+                    </li>
+                  ))}
+                  
+                  {/* Notes integrated into features list */}
+                  {plan.notes.length > 0 && plan.notes.map((note, noteIdx) => (
+                    <li className="flex gap-2 items-start" key={`note-${noteIdx}`}>
                       <FaCheckCircle
-                        className={`text-green-700 !h-[20px] !w-[20px] ${
-                          index === 2 ? "text-white" : ""
+                        className={`!h-[20px] !w-[20px] flex-shrink-0 mt-0.5 ${
+                          plan.name.toUpperCase() === 'SAGE' ? "text-white" : "text-green-700"
                         }`}
                       />
-                      <span className="truncate w-full">{renderFeature(feature)}</span>
+                      <span className="text-sm">{note}</span>
                     </li>
                   ))}
                 </ul>
 
+                {/* See More/Less Button */}
+                {hasMoreFeatures && (
+                  <button
+                    onClick={() => toggleFeatures(planKey)}
+                    className={`flex items-center justify-start gap-2 text-xs font-medium py-2 px-4 rounded-lg transition-colors ${
+                      plan.name.toUpperCase() === 'SAGE' 
+                        ? "text-white hover:bg-white/10" 
+                        : "text-primary hover:bg-primary/5"
+                    }`}
+                  >
+                    {isExpanded ? (
+                      <>
+                        See Less
+                        <FaChevronUp className="w-3 h-3" />
+                      </>
+                    ) : (
+                      <>
+                        See More ({plan.features.length - 4} more)
+                        <FaChevronDown className="w-3 h-3" />
+                      </>
+                    )}
+                  </button>
+                )}
+
                 <button
                   type="button"
-                  disabled={
-                    plan.name !== "STARTER (PRO)" ||
-                    plan.name === subscription_type
-                  }
-                  className={`px-6 py-2.5 text-sm rounded-xl font-medium duration-200 disabled:bg-gray-300 disabled:text-gray-500 ${
-                    plan.name === subscription_type
+                  disabled={plan.isDisabled || plan.isCurrentPlan}
+                  className={`px-6 py-2.5 text-sm rounded-xl font-medium duration-200 ${
+                    plan.isCurrentPlan
+                      ? "bg-gray-300 text-gray-500 cursor-not-allowed"
+                      : plan.isDisabled
                       ? "bg-gray-300 text-gray-500 cursor-not-allowed"
-                      : plan.name === "STARTER (PRO)"
-                      ? "border-transparent text-white bg-primary hover:bg-primary-hover"
-                      : "hover:bg-gray-50 text-white cursor-not-allowed bg-primary hover:bg-primary-hover"
+                      : "border-transparent text-white bg-primary hover:bg-primary-hover"
                   }`}
                   onClick={() => {
                     setIsModalVisible(true);
                     setSelectedPlan(plan);
                   }}
                 >
-                  {plan.name === subscription_type
+                  {plan.isCurrentPlan
                     ? "Active Plan"
+                    : plan.isDisabled
+                    ? "Coming Soon"
                     : `Upgrade to ${plan.name}`}
                 </button>
               </div>
@@ -330,30 +467,35 @@ const Subscriptions = () => {
       </div>
 
       <Modal
-        title="Change Subscription"
+        title=""
         open={isModalVisible}
         footer={null}
         maskClosable={false}
         closable={false}
         centered={true}
+        styles={{body:{padding: 0}, content:{borderRadius:30}}}
+        width={453}
       >
-        <div className=" space-y-5">
+        <div className=" space-y-3">
           <div className=" flex justify-center">
-            <GoAlert size={60} color="orange" />
+            <IoWarning size={60} color="white" fill="#FF8934" />
           </div>
+          <h1 className=" text-2xl text-[#3F3F3F] font-semibold text-center">Change Subscription</h1>
 
           <div className=" text-center">
-            <h1 className=" font-semibold">
+            <h1 className=" text-base text-[#676A75]">
               Please be informed that you are about to switch your subscription
               to{" "}
               <span className=" font-bold">
                 {selectedPlan ? selectedPlan.name : ""} Plan
               </span>
             </h1>
+            <p className=" text-xs text-gray-600 text-center mt-4">When your active subscription expires your card will be charged</p>
           </div>
-          <div className=" grid grid-cols-2 gap-10">
+
+          <div className="flex items-center justify-center gap-5  pt-6">
             <button
-              className="px-4 py-2 bg-gray-300 rounded-lg font-bold !h-[40px]"
+              className="px-4 py-2 bg-[#F2F2F2] rounded-lg  !h-[40px]"
               onClick={() => setIsModalVisible(false)}
             >
               Cancel
@@ -362,9 +504,9 @@ const Subscriptions = () => {
             <Button
               loading={changeLoading}
               disabled={changeLoading}
-              className="px-4 py-2 !bg-green-500 !text-white !rounded-lg !font-bold !h-[40px] border-none"
+              className="px-4 py-2 !bg-[#009F6D] !text-white !rounded-lg  !h-[40px] !border-none"
               onClick={() =>
-                handleSubscriptionChange(selectedPlan ? selectedPlan.id : "")
+                handleSubscriptionChange(selectedPlan ? selectedPlan.id : 0)
               }
             >
               Switch Subscription Now
diff --git a/app/(dashboard)/totan/_components/Totan.tsx b/app/(dashboard)/totan/_components/Totan.tsx
index 0e810f7..f22180d 100644
--- a/app/(dashboard)/totan/_components/Totan.tsx
+++ b/app/(dashboard)/totan/_components/Totan.tsx
@@ -1,62 +1,595 @@
 "use client";
-
+/* eslint-disable @typescript-eslint/no-explicit-any */
 import { useEffect, useRef, useState } from "react";
 import { BsStars } from "react-icons/bs";
 import { IoSend } from "react-icons/io5";
+import { MdOutlineKeyboardVoice } from "react-icons/md";
+import { HiOutlineArrowPath } from "react-icons/hi2";
+import {
+  useChatMutation,
+  useAnalyzeMutation,
+} from "./../../../../redux/api/totanAi"; // Ensure this path is correct for your project
+import { useAppSelector, useAppDispatch } from "@/redux/hooks"; // Ensure this path is correct
+import {
+  createNewSession,
+  addMessage,
+  updateConversationState,
+  updateSessionId,
+  updateAnalysisData,
+  updateCollectedData,
+  selectCurrentSession,
+  startNewAnalysisInSession,
+} from "@/redux/slice/chatSlice"; // Ensure this path is correct
 
+// Type definition for a single message
 type Message = {
   sender: "ai" | "user";
   text: string;
+  type?: "analysis" | "chat" | "system" | "error" | "retry";
+  retryAction?: () => void;
+};
+
+/**
+ * Enhanced typing effect hook that simulates natural typing for the first 30-40 seconds,
+ * then displays the rest of the message instantly
+ */
+const useNaturalTypingEffect = (
+  text: string,
+  maxTypingDuration: number = 35000
+) => {
+  const [displayedText, setDisplayedText] = useState("");
+  const [isTyping, setIsTyping] = useState(true);
+  const [showCursor, setShowCursor] = useState(true);
+
+  useEffect(() => {
+    setDisplayedText("");
+    setIsTyping(true);
+    setShowCursor(true);
+
+    if (text.length === 0) {
+      setIsTyping(false);
+      setShowCursor(false);
+      return;
+    }
+
+    let index = 0;
+    let timeoutId: NodeJS.Timeout;
+    let totalTimeElapsed = 0;
+    const startTime = Date.now();
+
+    const typeNextCharacter = () => {
+      const currentTime = Date.now();
+      totalTimeElapsed = currentTime - startTime;
+
+      // If we've exceeded the max typing duration, show the rest of the text immediately
+      if (totalTimeElapsed >= maxTypingDuration) {
+        setDisplayedText(text);
+        setIsTyping(false);
+        setTimeout(() => setShowCursor(false), 500);
+        return;
+      }
+
+      if (index >= text.length) {
+        setIsTyping(false);
+        // Hide cursor after a brief delay when done typing
+        setTimeout(() => setShowCursor(false), 500);
+        return;
+      }
+
+      const char = text[index];
+
+      // Calculate dynamic delay based on character type
+      let delay = 30; // Base delay
+
+      if (char === " ") {
+        delay = 50; // Slightly longer for spaces
+      } else if (char === "." || char === "!" || char === "?") {
+        delay = 300; // Pause at sentence endings
+      } else if (char === "," || char === ";" || char === ":") {
+        delay = 150; // Medium pause for punctuation
+      } else if (char === "\n") {
+        delay = 200; // Pause at line breaks
+      } else if (/[a-zA-Z]/.test(char)) {
+        // Variable speed for letters to simulate natural typing rhythm
+        delay = Math.random() * 40 + 20; // 20-60ms
+      } else if (/[0-9]/.test(char)) {
+        delay = Math.random() * 30 + 25; // Numbers typed slightly slower
+      }
+
+      // Add occasional longer pauses to simulate thinking
+      if (Math.random() < 0.03) {
+        // 3% chance
+        delay += Math.random() * 200 + 100; // Extra 100-300ms pause
+      }
+
+      // Faster typing for common words
+      const upcomingWord = text.slice(index).split(" ")[0].toLowerCase();
+      const commonWords = [
+        "the",
+        "and",
+        "or",
+        "but",
+        "in",
+        "on",
+        "at",
+        "to",
+        "for",
+        "of",
+        "with",
+        "by",
+        "this",
+        "that",
+        "is",
+        "are",
+        "was",
+        "were",
+        "be",
+        "been",
+        "have",
+        "has",
+        "had",
+        "do",
+        "does",
+        "did",
+        "will",
+        "would",
+        "could",
+        "should",
+        "can",
+        "may",
+        "might",
+      ];
+
+      if (
+        commonWords.includes(upcomingWord) &&
+        index > 0 &&
+        text[index - 1] === " "
+      ) {
+        delay *= 0.7; // 30% faster for common words
+      }
+
+      // As we approach the time limit, speed up typing progressively
+      const timeRatio = totalTimeElapsed / maxTypingDuration;
+      if (timeRatio > 0.7) {
+        // After 70% of the time has passed
+        delay *= (1 - timeRatio) * 2; // Speed up significantly
+        delay = Math.max(delay, 5); // But never go below 5ms
+      }
+
+      setDisplayedText(text.slice(0, index + 1));
+      index++;
+
+      timeoutId = setTimeout(typeNextCharacter, delay);
+    };
+
+    // Start typing with a small initial delay
+    timeoutId = setTimeout(typeNextCharacter, 100);
+
+    return () => clearTimeout(timeoutId);
+  }, [text, maxTypingDuration]);
+
+  // Cursor blinking effect
+  useEffect(() => {
+    if (!showCursor) return;
+
+    const cursorInterval = setInterval(() => {
+      setShowCursor((prev) => !prev);
+    }, 530); // Natural cursor blink rate
+
+    return () => clearInterval(cursorInterval);
+  }, [showCursor, isTyping]);
+
+  return {
+    displayedText,
+    isTyping,
+    showCursor: showCursor && isTyping, // Only show cursor while typing
+  };
+};
+
+/**
+ * Enhanced TypingMessage component with natural typing effect and cursor
+ */
+const NaturalTypingMessage = ({
+  message,
+  onComplete,
+}: {
+  message: Message;
+  onComplete?: () => void;
+}) => {
+  const { displayedText, isTyping, showCursor } = useNaturalTypingEffect(
+    message.text
+  );
+  const hasCompletedRef = useRef(false);
+
+  useEffect(() => {
+    if (!isTyping && !hasCompletedRef.current && onComplete) {
+      hasCompletedRef.current = true;
+      onComplete();
+    }
+  }, [isTyping, onComplete]);
+
+  // Reset completion flag when the message text changes
+  useEffect(() => {
+    hasCompletedRef.current = false;
+  }, [message.text]);
+
+  return (
+    <div className="flex items-start gap-2 self-start">
+      <div className="shrink-0">
+        <div className="size-10 rounded-full bg-primary text-white flex items-center justify-center text-base">
+          <BsStars className="rotate-90 size-5" />
+        </div>
+      </div>
+      <div
+        className={`max-w-[80%] px-4 py-2 rounded-2xl text-base rounded-bl-none ${
+          message.type === "analysis"
+            ? "bg-blue-50 text-blue-900 border border-blue-200"
+            : message.type === "system"
+            ? "bg-yellow-50 text-yellow-900 border border-yellow-200"
+            : message.type === "error"
+            ? "bg-red-50 text-red-900 border border-red-200"
+            : message.type === "retry"
+            ? "bg-orange-50 text-orange-900 border border-orange-200"
+            : "bg-[#ECF1F6] text-[#4B4B62]"
+        }`}
+      >
+        <div className="whitespace-pre-line relative">
+          {displayedText}
+          {showCursor && (
+            <span className="inline-block w-0.5 h-4 bg-current ml-0.5 animate-pulse" />
+          )}
+        </div>
+        {message.type === "retry" && message.retryAction && !isTyping && (
+          <button
+            onClick={message.retryAction}
+            className="mt-3 flex items-center gap-2 px-3 py-2 bg-orange-100 hover:bg-orange-200 text-orange-800 rounded-lg transition-colors text-sm font-medium"
+          >
+            <HiOutlineArrowPath className="size-4" />
+            Retry Analysis
+          </button>
+        )}
+      </div>
+    </div>
+  );
 };
 
 const TotanChat = () => {
-  const [messages, setMessages] = useState<Message[]>([
-    { sender: "ai", text: "Welcome" },
-    { sender: "ai", text: "How may I help out today?" },
-  ]);
+  const dispatch = useAppDispatch();
+  const currentSession = useAppSelector(selectCurrentSession);
+
   const [input, setInput] = useState("");
-  const [loading, setLoading] = useState(false);
+  const [pendingMessages, setPendingMessages] = useState<Message[]>([]);
+  const [currentTypingIndex, setCurrentTypingIndex] = useState(-1);
+
+  const { marketplaceId } = useAppSelector((state) => state?.global);
+  const { first_name, last_name } =
+    useAppSelector((state) => state.api?.user) || {};
+
+  const getUserInitials = () => {
+    const firstInitial = first_name?.charAt(0)?.toUpperCase() || "";
+    const lastInitial = last_name?.charAt(0)?.toUpperCase() || "";
+    return firstInitial + lastInitial || "U";
+  };
+
   const chatEndRef = useRef<HTMLDivElement | null>(null);
 
-  const handleSend = () => {
-    if (!input.trim()) return;
+  const [analyzeProduct, { isLoading: isAnalyzing }] = useAnalyzeMutation();
+  const [sendChat, { isLoading: isChatting }] = useChatMutation();
+
+  // Initialize a chat session on component mount if one doesn't exist
+  useEffect(() => {
+    if (!currentSession) {
+      dispatch(createNewSession({ firstName: first_name }));
+    }
+  }, [currentSession, dispatch, first_name]);
+
+  const validateASIN = (asin: string): boolean => {
+    const asinRegex = /^[A-Z0-9]{10}$/i;
+    return asinRegex.test(asin.trim());
+  };
+
+  const validateCostPrice = (price: string): number | null => {
+    const numPrice = Number.parseFloat(price);
+    return !isNaN(numPrice) && numPrice > 0 ? numPrice : null;
+  };
+
+  const validateFulfillment = (response: string): boolean | null => {
+    const normalized = response.toLowerCase().trim();
+    if (
+      normalized === "yes" ||
+      normalized === "y" ||
+      normalized === "true" ||
+      normalized === "1"
+    )
+      return true;
+    if (
+      normalized === "no" ||
+      normalized === "n" ||
+      normalized === "false" ||
+      normalized === "0"
+    )
+      return false;
+    return null;
+  };
+
+  // Triggers the local typing animation state
+  const addAIMessagesWithTyping = (newMessages: Message[]) => {
+    setPendingMessages(newMessages);
+    setCurrentTypingIndex(0);
+  };
+
+  // Called when a message is done typing; dispatches it to Redux and moves to the next
+  const handleTypingComplete = () => {
+    if (
+      currentTypingIndex >= 0 &&
+      currentTypingIndex < pendingMessages.length
+    ) {
+      dispatch(addMessage(pendingMessages[currentTypingIndex]));
+
+      if (currentTypingIndex < pendingMessages.length - 1) {
+        setTimeout(() => setCurrentTypingIndex((prev) => prev + 1), 300); // Delay before next message
+      } else {
+        setPendingMessages([]);
+        setCurrentTypingIndex(-1);
+      }
+    }
+  };
+
+  const performAnalysis = async () => {
+    if (!currentSession) return;
+    dispatch(updateConversationState("analyzing"));
+
+    try {
+      const result = await analyzeProduct({
+        asin: currentSession.collectedData.asin,
+        costPrice: currentSession.collectedData.costPrice,
+        marketplaceId: marketplaceId,
+        isAmazonFulfilled: currentSession.collectedData.isAmazonFulfilled,
+      }).unwrap();
+
+      if (result.success) {
+        const analysis = result.data;
+        dispatch(updateAnalysisData(analysis));
+        dispatch(updateSessionId(analysis.session_id));
+        dispatch(updateConversationState("chat_ready"));
+
+        const analysisMessage = ` Analysis Complete
+
+ **Overall Score**: ${analysis.score} (${analysis.category})
+
+You can now ask me any questions about this product's score and what it means for your business! `;
+
+        const messagesToAdd: Message[] = [
+          { sender: "ai", text: analysisMessage, type: "analysis" },
+        ];
 
-    const userMessage: Message = { sender: "user", text: input };
-    setMessages((prev) => [...prev, userMessage]);
+        addAIMessagesWithTyping(messagesToAdd);
+      }
+    } catch (error: any) {
+      console.error("Analysis failed:", error);
+
+      // Check if it's a timeout error
+      const isTimeoutError =
+        error?.data?.error?.includes("cURL error 28") ||
+        error?.data?.error?.includes("Operation timed out") ||
+        error?.data?.message?.includes("timeout") ||
+        error?.message?.includes("timeout");
+
+      if (isTimeoutError) {
+        addAIMessagesWithTyping([
+          {
+            sender: "ai",
+            text: " The analysis is taking longer than expected and timed out. This sometimes happens due to high server load or network issues.\n\nDon't worry, your product data is saved! You can try the analysis again.",
+            type: "retry",
+            retryAction: () => performAnalysis(),
+          },
+        ]);
+      } else {
+        addAIMessagesWithTyping([
+          {
+            sender: "ai",
+            text: " Sorry, I couldn't analyze this product. Please check the ASIN and try again. Let's start over - please provide a new ASIN.",
+            type: "error",
+          },
+        ]);
+        dispatch(updateConversationState("waiting_for_asin"));
+        dispatch(
+          updateCollectedData({
+            asin: "",
+            costPrice: 0,
+            isAmazonFulfilled: false,
+          })
+        );
+      }
+    }
+  };
+
+  const handleConversationalInput = async (userInput: string) => {
+    if (!currentSession) return;
+
+    dispatch(addMessage({ sender: "user", text: userInput }));
+
+    switch (currentSession.conversationState) {
+      case "waiting_for_asin":
+        if (validateASIN(userInput)) {
+          const asin = userInput.trim().toUpperCase();
+          dispatch(updateCollectedData({ asin }));
+          addAIMessagesWithTyping([
+            { sender: "ai", text: `Great! I've got the ASIN: ${asin}` },
+            {
+              sender: "ai",
+              text: "Now, what will be the cost price of this product? (Enter the amount in USD, e.g., 125)",
+            },
+          ]);
+          dispatch(updateConversationState("waiting_for_cost_price"));
+        } else {
+          addAIMessagesWithTyping([
+            {
+              sender: "ai",
+              text: " That doesn't look like a valid ASIN. ASINs are 10-character codes (letters and numbers). Please try again.",
+            },
+          ]);
+        }
+        break;
+
+      case "waiting_for_cost_price":
+        const price = validateCostPrice(userInput);
+        if (price !== null) {
+          dispatch(updateCollectedData({ costPrice: price }));
+          addAIMessagesWithTyping([
+            { sender: "ai", text: `Perfect! Cost price set to $${price}` },
+            {
+              sender: "ai",
+              text: "Last question: Will this product be Amazon Fulfilled (FBA)? Please answer 'yes' or 'no'.",
+            },
+          ]);
+          dispatch(updateConversationState("waiting_for_fulfillment"));
+        } else {
+          addAIMessagesWithTyping([
+            {
+              sender: "ai",
+              text: " Please enter a valid price (numbers only, greater than 0). For example: 125 or 99.99",
+            },
+          ]);
+        }
+        break;
+
+      case "waiting_for_fulfillment":
+        const fulfillment = validateFulfillment(userInput);
+        if (fulfillment !== null) {
+          dispatch(updateCollectedData({ isAmazonFulfilled: fulfillment }));
+          addAIMessagesWithTyping([
+            {
+              sender: "ai",
+              text: `Got it! ${
+                fulfillment
+                  ? "Amazon Fulfilled (FBA)"
+                  : "Merchant Fulfilled (FBM)"
+              }`,
+            },
+            {
+              sender: "ai",
+              text: " Now analyzing your product... This may take a moment.",
+            },
+          ]);
+          await performAnalysis();
+        } else {
+          addAIMessagesWithTyping([
+            {
+              sender: "ai",
+              text: " Please answer with 'yes' or 'no' to indicate if the product will be Amazon Fulfilled (FBA).",
+            },
+          ]);
+        }
+        break;
+
+      case "chat_ready":
+        if (!currentSession.sessionId) return;
+        try {
+          const result = await sendChat({
+            session_id: currentSession.sessionId,
+            question: userInput,
+          }).unwrap();
+          if (result.success) {
+            addAIMessagesWithTyping([
+              { sender: "ai", text: result.data.response, type: "chat" },
+            ]);
+          }
+        } catch (error) {
+          console.error("Chat failed:", error);
+          addAIMessagesWithTyping([
+            {
+              sender: "ai",
+              text: " Sorry, I couldn't process your question. Please try again.",
+            },
+          ]);
+        }
+        break;
+    }
+  };
+
+  const handleSend = async () => {
+    if (!input.trim() || !currentSession) return;
+    const userInput = input.trim();
     setInput("");
-    setLoading(true);
-
-    setTimeout(() => {
-      setMessages((prev) => [
-        ...prev,
-        { sender: "ai", text: "Hold on while I generate the lead" },
-      ]);
-      setLoading(false);
-    }, 1500);
+    await handleConversationalInput(userInput);
+  };
+
+  const startNewAnalysis = () => {
+    dispatch(startNewAnalysisInSession({ firstName: first_name }));
+  };
+
+  const getPlaceholderText = () => {
+    if (!currentSession) return "Loading session...";
+    switch (currentSession.conversationState) {
+      case "waiting_for_asin":
+        return "Enter ASIN (e.g., B0D9YZJ3V7)...";
+      case "waiting_for_cost_price":
+        return "Enter cost price (e.g., 125)...";
+      case "waiting_for_fulfillment":
+        return "Type 'yes' or 'no'...";
+      case "analyzing":
+        return "Analyzing product...";
+      case "chat_ready":
+        return "Ask anything about this product score...";
+      default:
+        return "Type your message...";
+    }
   };
 
-  // Scroll to bottom when messages change
   useEffect(() => {
     chatEndRef.current?.scrollIntoView({ behavior: "smooth" });
-  }, [messages, loading]);
+  }, [currentSession?.messages, currentTypingIndex]);
+
+  if (!currentSession) {
+    return (
+      <section className="flex items-center justify-center min-h-[50dvh] md:min-h-[80dvh]">
+        <p>Loading Chat...</p>
+      </section>
+    );
+  }
 
   return (
-    <section className="flex flex-col gap-6 min-h-[50dvh] md:min-h-[80dvh]">
+    <section className="flex flex-col gap-8 min-h-[50dvh] md:min-h-[80dvh] rounded-xl bg-white p-4 lg:p-5">
       {/* Header */}
-      <div className="flex items-center gap-4 shadow-sm pb-4">
-        <div className="size-10 rounded-full bg-primary text-white flex items-center justify-center">
-          <BsStars className="rotate-90 size-5" />
+      <div className="flex items-center justify-between shadow-sm pb-4">
+        <div className="flex items-center gap-4">
+          <div className="size-10 rounded-full bg-primary text-white flex items-center justify-center">
+            <BsStars className="rotate-90 size-5" />
+          </div>
+          <div>
+            <h1 className="text-[#171717] font-medium text-xl md:text-2xl">
+              Totan (AI)
+            </h1>
+            {currentSession.conversationState !== "waiting_for_asin" && (
+              <p className="text-sm text-gray-500">
+                {currentSession.conversationState ===
+                  "waiting_for_cost_price" && "Collecting cost price..."}
+                {currentSession.conversationState ===
+                  "waiting_for_fulfillment" && "Checking fulfillment method..."}
+                {currentSession.conversationState === "analyzing" &&
+                  "Analyzing product..."}
+                {currentSession.conversationState === "chat_ready" &&
+                  "Ready for questions"}
+              </p>
+            )}
+          </div>
         </div>
-        <h1 className="text-[#171717] font-medium text-xl md:text-2xl">
-          Totan (AI)
-        </h1>
+        {currentSession.sessionId && (
+          <button
+            onClick={startNewAnalysis}
+            className="px-4 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors"
+          >
+            New Analysis
+          </button>
+        )}
       </div>
 
       {/* Chat messages */}
       <div className="flex flex-col gap-4 flex-1 max-h-[75dvh] sm:max-h-[60vh] overflow-y-auto pr-2">
-        {messages.map((msg, idx) => (
+        {currentSession.messages.map((msg, idx) => (
           <div
-            key={idx}
+            key={`${currentSession.id}-${idx}`} // Use a more stable key
             className={`flex items-start gap-2 ${
               msg.sender === "ai" ? "self-start" : "self-end flex-row-reverse"
             }`}
@@ -69,24 +602,51 @@ const TotanChat = () => {
                 </div>
               ) : (
                 <div className="size-10 rounded-full bg-[#4B4B62] text-white flex items-center justify-center text-base font-medium">
-                  BA
+                  {getUserInitials()}
                 </div>
               )}
             </div>
 
             {/* Message bubble */}
             <div
-              className={`max-w-[80%] px-4 py-2 rounded-2xl text-base bg-[#ECF1F6] text-[#4B4B62] ${
+              className={`max-w-[80%] px-4 py-2 rounded-2xl text-base ${
+                msg.type === "analysis"
+                  ? " text-blue-900 border border-blue-200"
+                  : msg.type === "system"
+                  ? "bg-gray-100 text-gray-600 text-center font-medium text-sm"
+                  : msg.type === "error"
+                  ? "bg-red-50 text-red-900 border border-red-200"
+                  : msg.type === "retry"
+                  ? "bg-orange-50 text-orange-900 border border-orange-200"
+                  : "bg-[#ECF1F6] text-[#4B4B62]"
+              } ${
                 msg.sender === "ai" ? "rounded-bl-none" : "rounded-br-none"
-              }`}
+              } ${msg.type === "system" ? "w-full max-w-none mx-auto" : ""}`}
             >
-              {msg.text}
+              <div className="whitespace-pre-line">{msg.text}</div>
+              {msg.type === "retry" && msg.retryAction && (
+                <button
+                  onClick={msg.retryAction}
+                  className="mt-3 flex items-center gap-2 px-3 py-2 bg-orange-100 hover:bg-orange-200 text-orange-800 rounded-lg transition-colors text-sm font-medium"
+                >
+                  <HiOutlineArrowPath className="size-4" />
+                  Retry Analysis
+                </button>
+              )}
             </div>
           </div>
         ))}
 
+        {/* Currently typing message */}
+        {currentTypingIndex >= 0 && pendingMessages[currentTypingIndex] && (
+          <NaturalTypingMessage
+            message={pendingMessages[currentTypingIndex]}
+            onComplete={handleTypingComplete}
+          />
+        )}
+
         {/* Loading bubble */}
-        {loading && (
+        {(isAnalyzing || isChatting) && (
           <div className="flex items-start gap-2 self-start">
             <div className="size-10 rounded-full bg-primary text-white flex items-center justify-center text-base">
               <BsStars className="rotate-90 size-4" />
@@ -95,7 +655,6 @@ const TotanChat = () => {
               <span className="bounce-dot animation-delay-0 size-2 bg-[#C7CCD6] rounded-full" />
               <span className="bounce-dot animation-delay-200 size-2 bg-[#C7CCD6] rounded-full" />
               <span className="bounce-dot animation-delay-300 size-2 bg-[#C7CCD6] rounded-full" />
-              {/* <span className="bounce-dot animation-delay-400 size-2 bg-[#C7CCD6] rounded-full" /> */}
             </div>
           </div>
         )}
@@ -105,26 +664,50 @@ const TotanChat = () => {
 
       {/* Input field */}
       <div className="relative">
+       
+        <input
+          className="flex-1 outline-none bg-transparent border border-[#D1D1D1] p-4 pr-32 rounded-2xl w-full focus:border-primary"
+          placeholder={getPlaceholderText()}
+          value={input}
+          onChange={(e) => setInput(e.target.value)}
+          onKeyDown={(e) => e.key === "Enter" && handleSend()}
+          disabled={
+            isAnalyzing ||
+            isChatting ||
+            currentSession.conversationState === "analyzing" ||
+            currentTypingIndex >= 0
+          }
+        />
+        
+        {/* Send button */}
         <button
           type="button"
           aria-label="Send message"
           onClick={handleSend}
-          className="absolute top-0 bottom-0 size-10 my-auto right-3 flex items-center justify-center gap-2 rounded-lg sm:w-[110px] sm:h-[42px] py-2 px-4 text-white font-semibold bg-primary hover:bg-primary/90 duration-150 transition-colors"
+          disabled={
+            isAnalyzing ||
+            isChatting ||
+            currentSession.conversationState === "analyzing" ||
+            currentTypingIndex >= 0
+          }
+          className="absolute top-0 bottom-0 size-10 my-auto right-16 sm:right-28 flex items-center justify-center gap-2 rounded-lg sm:w-[110px] sm:h-[42px] py-2 px-4 text-white font-semibold bg-primary hover:bg-primary/90 disabled:bg-gray-300 duration-150 transition-colors"
         >
           <span className="hidden sm:block">Send</span>
           <IoSend className="size-10 sm:size-5" />
         </button>
-        <input
-          className="flex-1 outline-none bg-transparent border border-[#D1D1D1] p-4 pr-32 rounded-2xl w-full focus:border-primary"
-          placeholder="Ask anything"
-          value={input}
-          onChange={(e) => setInput(e.target.value)}
-          onKeyDown={(e) => e.key === "Enter" && handleSend()}
-        />
+        
+        {/* Voice icon button - positioned on the right side */}
+        <button
+          type="button"
+          title="Use voice mode"
+          aria-label="Voice input"
+          className="absolute top-0 bottom-0 my-auto right-3 size-10 flex items-center justify-center text-gray-400 hover:text-gray-600 transition-colors"
+        >
+          <MdOutlineKeyboardVoice className="size-5" />
+        </button>
       </div>
     </section>
   );
 };
 
 export default TotanChat;
-
diff --git a/app/(dashboard)/upc-scanner/_components/ExcelUploadForm.tsx b/app/(dashboard)/upc-scanner/_components/ExcelUploadForm.tsx
new file mode 100644
index 0000000..7f4d1a9
--- /dev/null
+++ b/app/(dashboard)/upc-scanner/_components/ExcelUploadForm.tsx
@@ -0,0 +1,294 @@
+"use client";
+
+import { useState, useRef, ChangeEvent, FormEvent, useEffect } from "react";
+import { HiOutlineCloudArrowUp, HiOutlineXMark } from "react-icons/hi2";
+import { BiChevronDown } from "react-icons/bi";
+import { CustomSelect as Select } from "@/lib/AntdComponents";
+import { message } from "antd";
+import Image from "next/image";
+
+interface ExcelUploadFormProps {
+  onUploadSuccess: (scanData: ScanResult) => void;
+}
+
+interface ScanResult {
+  id: number;
+  product_name: string;
+  product_id: string | null;
+  items_count: number;
+  products_found: number;
+  last_seen: string;
+  last_uploaded: string;
+  status: string;
+  marketplace_id: string;
+  user_id: number;
+}
+
+interface Marketplace {
+  id: string;
+  name: string;
+  flag: string;
+}
+
+// Marketplace options with flag codes and correct marketplace IDs
+const marketplaceOptions: Marketplace[] = [
+  { id: "1", name: "United States", flag: "us" },
+  { id: "6", name: "Canada", flag: "ca" },
+  { id: "2", name: "United Kingdom", flag: "gb" },
+  { id: "11", name: "Mexico", flag: "mx" },
+];
+
+const ExcelUploadForm: React.FC<ExcelUploadFormProps> = ({ onUploadSuccess }) => {
+  const [file, setFile] = useState<File | null>(null);
+  const [productName, setProductName] = useState<string>("");
+  const [productIdType, setProductIdType] = useState<string>("asin");
+  const [marketplaceDropdownOpen, setMarketplaceDropdownOpen] = useState<boolean>(false);
+  const [selectedMarketplace, setSelectedMarketplace] = useState<Marketplace>(marketplaceOptions[0]);
+  const [isUploading, setIsUploading] = useState<boolean>(false);
+  const fileInputRef = useRef<HTMLInputElement>(null);
+  const marketplaceDropdownRef = useRef<HTMLDivElement>(null);
+
+  // Handle clicks outside of the marketplace dropdown
+  const handleClickOutside = (event: MouseEvent) => {
+    if (
+      marketplaceDropdownRef.current && 
+      !marketplaceDropdownRef.current.contains(event.target as Node)
+    ) {
+      setMarketplaceDropdownOpen(false);
+    }
+  };
+
+  // Add event listener for clicking outside
+  useEffect(() => {
+    document.addEventListener("mousedown", handleClickOutside);
+    return () => {
+      document.removeEventListener("mousedown", handleClickOutside);
+    };
+  }, []);
+
+  const handleFileChange = (e: ChangeEvent<HTMLInputElement>) => {
+    if (e.target.files && e.target.files[0]) {
+      const selectedFile = e.target.files[0];
+      
+      // Check if it's an Excel file
+      if (!selectedFile.name.endsWith('.xlsx') && !selectedFile.name.endsWith('.xls')) {
+        message.error('Please select an Excel file (.xlsx or .xls)');
+        return;
+      }
+      
+      setFile(selectedFile);
+    }
+  };
+
+  const handleMarketplaceSelect = (marketplace: Marketplace) => {
+    setSelectedMarketplace(marketplace);
+    setMarketplaceDropdownOpen(false);
+  };
+
+  const handleSubmit = async (e: FormEvent<HTMLFormElement>) => {
+    e.preventDefault();
+    
+    if (!file) {
+      message.error('Please select an Excel file to upload');
+      return;
+    }
+    
+    if (!productName) {
+      message.error('Please enter a product name');
+      return;
+    }
+    
+    setIsUploading(true);
+    
+    // Create form data
+    const formData = new FormData();
+    formData.append('product_name', productName);
+    formData.append('product_id_type', productIdType);
+    formData.append('marketplace_id', selectedMarketplace.id);
+    formData.append('file', file);
+    
+    try {
+      const response = await fetch('/api/upc-scanner', {
+        method: 'POST',
+        body: formData,
+        credentials: 'include',
+      });
+      
+      if (!response.ok) {
+        throw new Error(`Error: ${response.status}`);
+      }
+      
+      const data = await response.json();
+      
+      message.success('UPC scan created successfully');
+      onUploadSuccess(data.data);
+      
+      // Reset form
+      setFile(null);
+      setProductName("");
+      if (fileInputRef.current) {
+        fileInputRef.current.value = '';
+      }
+    } catch (error) {
+      console.error('Error uploading file:', error);
+      message.error('Failed to upload file. Please try again.');
+    } finally {
+      setIsUploading(false);
+    }
+  };
+  
+  const handleRemoveFile = () => {
+    setFile(null);
+    if (fileInputRef.current) {
+      fileInputRef.current.value = '';
+    }
+  };
+
+  return (
+    <form onSubmit={handleSubmit} className="flex flex-col gap-5">
+      <div className="grid grid-cols-1 md:grid-cols-2 gap-5">
+        <div>
+          <label className="block text-[#596375] text-sm font-medium mb-2">
+            Product Name
+          </label>
+          <input
+            type="text"
+            value={productName}
+            onChange={(e) => setProductName(e.target.value)}
+            className="w-full rounded-lg border border-[#D5D5D5] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary/50"
+            placeholder="Enter name for this scan"
+            required
+          />
+        </div>
+        
+        <div>
+          <label className="block text-[#596375] text-sm font-medium mb-2">
+            Product ID Type
+          </label>
+          <Select
+            value={productIdType}
+            onChange={(value: string) => setProductIdType(value)}
+            className="w-full"
+            options={[
+              { value: "asin", label: "ASIN" },
+              { value: "upc", label: "UPC" },
+            ]}
+          />
+        </div>
+        
+        <div>
+          <label className="block text-[#596375] text-sm font-medium mb-2">
+            Marketplace
+          </label>
+          
+          {/* Marketplace Dropdown with Flags */}
+          <div className="relative" ref={marketplaceDropdownRef}>
+            <button
+              type="button"
+              onClick={() => setMarketplaceDropdownOpen(!marketplaceDropdownOpen)}
+              className="flex items-center justify-between gap-2 w-full p-2 border border-[#D5D5D5] rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary/50"
+            >
+              <div className="flex items-center gap-2">
+                <Image
+                  src={`https://flagcdn.com/w40/${selectedMarketplace.flag}.png`}
+                  alt={selectedMarketplace.name}
+                  className="w-6 h-6 rounded-full object-cover"
+                  width={24}
+                  height={16}
+                  quality={90}
+                  unoptimized
+                />
+                <span className="text-sm">{selectedMarketplace.name}</span>
+              </div>
+              <BiChevronDown className={`size-5 transition-transform ${marketplaceDropdownOpen ? "rotate-180" : ""}`} />
+            </button>
+            
+            {marketplaceDropdownOpen && (
+              <ul className="absolute z-10 w-full mt-1 border rounded-md bg-white shadow-lg max-h-60 overflow-y-auto">
+                {marketplaceOptions.map((marketplace) => (
+                  <li
+                    key={marketplace.id}
+                    onClick={() => handleMarketplaceSelect(marketplace)}
+                    className="flex items-center p-2 px-3 hover:bg-gray-100 cursor-pointer"
+                  >
+                    <Image
+                      src={`https://flagcdn.com/w40/${marketplace.flag}.png`}
+                      alt={marketplace.name}
+                      className="w-6 h-6 rounded-full object-cover"
+                      width={24}
+                      height={16}
+                      quality={90}
+                      unoptimized
+                    />
+                    <span className="text-sm ml-2">{marketplace.name}</span>
+                  </li>
+                ))}
+              </ul>
+            )}
+          </div>
+        </div>
+      </div>
+      
+      <div>
+        <label className="block text-[#596375] text-sm font-medium mb-2">
+          Upload Excel File
+        </label>
+        
+        {!file ? (
+          <div
+            className="border-2 border-dashed border-[#D5D5D5] rounded-lg p-4 flex flex-col items-center justify-center h-32 cursor-pointer hover:bg-gray-50 transition-colors"
+            onClick={() => fileInputRef.current?.click()}
+          >
+            <HiOutlineCloudArrowUp className="size-8 text-[#8C94A3]" />
+            <p className="text-[#8C94A3] mt-2">Click to upload or drag and drop</p>
+            <p className="text-[#A9ACB2] text-xs">Excel files only (.xlsx, .xls)</p>
+            <input
+              type="file"
+              ref={fileInputRef}
+              onChange={handleFileChange}
+              className="hidden"
+              accept=".xlsx,.xls"
+            />
+          </div>
+        ) : (
+          <div className="flex items-center justify-between border border-[#D5D5D5] rounded-lg p-3">
+            <div className="flex items-center gap-3">
+              <div className="bg-primary/10 p-2 rounded-lg">
+                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" className="text-primary">
+                    <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
+                    <path d="M14 2V8H20" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
+                    <path d="M16 13H8" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
+                    <path d="M16 17H8" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
+                    <path d="M10 9H8" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
+                  </svg>
+              </div>
+              <div className="overflow-hidden">
+                <p className="font-medium text-sm truncate max-w-[200px]">{file.name}</p>
+                <p className="text-xs text-[#8C94A3]">{(file.size / 1024).toFixed(2)} KB</p>
+              </div>
+            </div>
+            <button
+              type="button"
+              onClick={handleRemoveFile}
+              className="text-[#8C94A3] hover:text-red-500"
+            >
+              <HiOutlineXMark className="size-5" />
+            </button>
+          </div>
+        )}
+      </div>
+      
+      <div className="flex justify-end mt-4">
+        <button
+          type="submit"
+          disabled={isUploading || !file || !productName}
+          className="bg-primary hover:bg-primary/90 text-white rounded-full py-2 px-6 font-semibold disabled:opacity-50 disabled:cursor-not-allowed"
+        >
+          {isUploading ? "Uploading..." : "Upload and Scan"}
+        </button>
+      </div>
+    </form>
+  );
+};
+
+export default ExcelUploadForm;
\ No newline at end of file
diff --git a/app/(dashboard)/upc-scanner/_components/Header.tsx b/app/(dashboard)/upc-scanner/_components/Header.tsx
new file mode 100644
index 0000000..2b8e9a1
--- /dev/null
+++ b/app/(dashboard)/upc-scanner/_components/Header.tsx
@@ -0,0 +1,94 @@
+import Image from "next/image";
+import { CustomSelect as Select } from "@/lib/AntdComponents";
+import { HiOutlinePrinter } from "react-icons/hi2";
+import ExcelIcon from "@/public/assets/svg/excel-icon.svg";
+import { useCallback } from "react";
+
+interface HeaderProps {
+  onStartScan?: () => void;
+}
+
+// If the API server serves the template directly
+const Header = ({ onStartScan }: HeaderProps) => {
+  const handleDownloadTemplate = useCallback(() => {
+    // Access the API endpoint with credentials
+    fetch('/api/upc-scanner/download-template', {
+      method: 'GET',
+      headers: {
+        'Content-Type': 'application/json',
+      },
+      credentials: 'include', // Important for including cookies/auth
+    })
+      .then(response => {
+        if (!response.ok) {
+          throw new Error('Network response was not ok');
+        }
+        return response.blob();
+      })
+      .then(blob => {
+        // Create a URL for the blob
+        const url = window.URL.createObjectURL(blob);
+        const link = document.createElement('a');
+        link.href = url;
+        link.setAttribute('download', 'upc-template.xlsx');
+        
+        // Append to the document body, click it, then remove it
+        document.body.appendChild(link);
+        link.click();
+        
+        // Clean up
+        document.body.removeChild(link);
+        window.URL.revokeObjectURL(url);
+      })
+      .catch(error => {
+        console.error('Error downloading template:', error);
+        alert('Failed to download template. Please try again.');
+      });
+  }, []);
+
+  return (
+    <div className="p-3 sm:p-4 rounded-xl border border-border flex flex-col lg:flex-row gap-4 justify-between xl:items-center">
+      <div className="flex flex-col sm:flex-row sm:items-center gap-2">
+        Calculate profit by{" "}
+        <Select
+          className="sm:min-w-[280px]"
+          defaultValue="buybox_price"
+          options={[
+            {
+              value: "buybox_price",
+              label: "Buy box price",
+            },
+          ]}
+        />
+      </div>
+
+      <div className="flex gap-2 flex-wrap sm:flex-nowrap text-sm">
+        <button
+          type="button"
+          onClick={onStartScan}
+          className="flex items-center gap-1.5 bg-primary hover:bg-primary/90 transition-colors rounded-full text-white font-semibold py-2 px-4"
+        >
+          <HiOutlinePrinter className="size-5" />
+          Start Scanner
+        </button>
+        <button
+          type="button"
+          onClick={handleDownloadTemplate}
+          className="flex items-center gap-1.5 hover:bg-gray-50 rounded-full text-[#8C94A2] border border-border font-semibold py-2 px-4"
+        >
+          <Image
+            src={ExcelIcon}
+            alt="Excel icon"
+            className="size-5"
+            width={21}
+            height={20}
+            unoptimized
+          />
+          Excel Template
+        </button>
+      </div>
+    </div>
+  );
+};
+
+export default Header;
\ No newline at end of file
diff --git a/app/(dashboard)/upc-scanner/_components/UpcScanner.tsx b/app/(dashboard)/upc-scanner/_components/UpcScanner.tsx
new file mode 100644
index 0000000..21e6731
--- /dev/null
+++ b/app/(dashboard)/upc-scanner/_components/UpcScanner.tsx
@@ -0,0 +1,1051 @@
+"use client";
+/* eslint-disable @typescript-eslint/no-explicit-any */
+/* eslint-disable @typescript-eslint/no-unused-vars */
+import React, { useState, useRef, useEffect, useCallback } from "react";
+import { MdOutlineInsertChartOutlined } from "react-icons/md";
+import Header from "./Header";
+import ScanResultsTable from "./scan-results-table";
+import { HiOutlineCloudArrowUp } from "react-icons/hi2";
+import ConfirmScanModal from "./confirm-scan-modal";
+import ScanDetailsTable from "./scan-details-table";
+import { CgClose } from "react-icons/cg";
+import MiniDatePicker from "./date-picker";
+import { IoSearchOutline } from "react-icons/io5";
+import { message, Modal } from "antd";
+import dayjs from "dayjs";
+import debounce from "lodash/debounce";
+
+type Tab = "upc" | "new";
+
+// Interface for scan result data
+export interface ScanResult {
+  id: number;
+  product_name: string;
+  product_id: string | null;
+  items_count: number;
+  products_found: number;
+  last_seen: string;
+  last_uploaded: string;
+  status: string;
+  marketplace_id: string;
+  user_id: number;
+}
+
+interface ApiResponse {
+  status: number;
+  message: string;
+  data: ScanResult[];
+  meta: Record<string, unknown>[];
+}
+
+interface SingleScanResponse {
+  status: number;
+  message: string;
+  data: ScanResult;
+  meta: Record<string, unknown>[];
+}
+
+// Interfaces for scan details
+interface ProductCost {
+  amount: string | null;
+  currency: string;
+}
+
+interface ProductDetails {
+  asin: string | null;
+  title: string | null;
+  fba_fee: string | null;
+  referral_fee: string | null;
+  storage_fee: string | null;
+  net_profit: string | null;
+  net_margin: string | null;
+  roi: string | null;
+  potential_winner: string | null;
+  rank: string | null;
+  amazon_instock_rate: string | null;
+  number_of_fba: string | null;
+  number_of_fbm: string | null;
+  number_of_amz: string | null;
+  estimated_monthly_sales: string | null;
+  buy_box_equity: string | null;
+  out_of_stock: number | null;
+  dominant_seller: string | null;
+}
+
+interface ScanProduct {
+  asin_upc: string;
+  product_cost: ProductCost;
+  selling_price: ProductCost;
+  buy_box_price: ProductCost;
+  product_details: ProductDetails;
+}
+
+interface ScanDetailsResponse {
+  status: number;
+  message: string;
+  data: ScanDetailsData;
+  meta: Record<string, unknown>[];
+}
+
+interface ScanDetailsData extends ScanResult {
+  products: ScanProduct[];
+}
+
+const UpcScanner = () => {
+  const [activeTab, setActiveTab] = useState<Tab>("upc");
+  const [isModalOpen, setIsModalOpen] = useState(false);
+  const [selectedProductId, setSelectedProductId] = useState<string | null>(
+    null
+  );
+  const [selectedFile, setSelectedFile] = useState<File | null>(null);
+  const [isUploading, setIsUploading] = useState(false);
+  const [scanResults, setScanResults] = useState<ScanResult[]>([]);
+  const [scanDetails, setScanDetails] = useState<ScanDetailsData | null>(null);
+  const [isLoadingDetails, setIsLoadingDetails] = useState(false);
+  const [productName, setProductName] = useState<string>("");
+  const [marketplaceId, setMarketplaceId] = useState<string>("6");
+  const [isDropdownOpen, setIsDropdownOpen] = useState(false);
+  const [searchTerm, setSearchTerm] = useState<string>("");
+  const [debouncedSearchTerm, setDebouncedSearchTerm] = useState<string>("");
+  const [filterDate, setFilterDate] = useState<dayjs.Dayjs | null>(dayjs());
+  const fileInputRef = useRef<HTMLInputElement>(null);
+  const dropdownRef = useRef<HTMLDivElement>(null);
+
+  // Handle clicking outside dropdown to close it
+  useEffect(() => {
+    const handleClickOutside = (event: MouseEvent) => {
+      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {
+        setIsDropdownOpen(false);
+      }
+    };
+
+    document.addEventListener('mousedown', handleClickOutside);
+    return () => {
+      document.removeEventListener('mousedown', handleClickOutside);
+    };
+  }, []);
+  
+  // Debounce search input to prevent excessive filtering
+  const debouncedFn = useRef(debounce((value: string) => {
+    setDebouncedSearchTerm(value);
+  }, 300));
+  
+  const debouncedSearch = useCallback((value: string) => {
+    debouncedFn.current(value);
+  }, []);
+  
+  // Update debounced search term when searchTerm changes
+  useEffect(() => {
+    debouncedSearch(searchTerm);
+    // Capture the current value of the ref to avoid stale closures in cleanup
+    const currentDebouncedFn = debouncedFn.current;
+    return () => {
+      currentDebouncedFn.cancel();
+    };
+  }, [searchTerm, debouncedSearch]);
+  
+  // Fetch scan results from API
+  const [isLoading, setIsLoading] = useState(false);
+  // Using retryCount to trigger refetching when retry is clicked
+  const [retryCount, setRetryCount] = useState(0);
+  const [restartingScanId, setRestartingScanId] = useState<number | null>(null);
+  
+  // Function to fetch all scan results
+  const fetchScanResults = async () => {
+    setIsLoading(true);
+    
+    try {
+      const response = await fetch('/api/upc-scanner', {
+        method: 'GET',
+        headers: {
+          'Content-Type': 'application/json',
+          'Cache-Control': 'no-cache, no-store, must-revalidate',
+          'Pragma': 'no-cache'
+        },
+      });
+
+      if (!response.ok) {
+        throw new Error(`HTTP error! status: ${response.status}`);
+      }
+
+      const contentType = response.headers.get('content-type');
+      if (!contentType || !contentType.includes('application/json')) {
+        throw new Error(`Expected JSON response but got ${contentType}`);
+      }
+      
+      const data: ApiResponse = await response.json();
+      
+      if (data.status === 200) {
+        setScanResults(data.data);
+        setRetryCount(0); // Reset retry count on success
+      } else {
+        throw new Error(data.message || 'Failed to fetch scan results');
+      }
+    } catch (err: unknown) {
+      let errorMessage = 'An error occurred while fetching scan results';
+      
+      if (err instanceof SyntaxError) {
+        errorMessage = 'Invalid response format from server';
+      } else if (err instanceof Error && err.name === 'AbortError') {
+        errorMessage = 'Request timed out. Please try again.';
+      } else if (err instanceof Error) {
+        errorMessage = err.message;
+      }
+      
+      message.error({ content: errorMessage, key: 'fetchError' });
+      
+      if (retryCount < 3) {
+        setTimeout(() => setRetryCount(retryCount + 1), 3000 * (retryCount + 1));
+      }
+    } finally {
+      setIsLoading(false);
+    }
+  };
+
+  // Fetch scan results on component mount and when retryCount changes
+  useEffect(() => {
+    fetchScanResults();
+  }, [retryCount]);
+  
+  useEffect(() => {
+    const controller = new AbortController();
+    let isMounted = true;
+    
+    const fetchScanResults = async () => {
+      if (!isMounted) return;
+      
+      setIsLoading(true);
+      
+      try {
+        const response = await fetch('/api/upc-scanner', {
+          signal: controller.signal,
+          // Add cache control headers to prevent stale data
+          headers: {
+            'Cache-Control': 'no-cache, no-store, must-revalidate',
+            'Pragma': 'no-cache',
+            'Expires': '0'
+          }
+        });
+        
+        // Check if response is ok before parsing JSON
+        if (!response.ok) {
+          const errorText = await response.text().catch(() => 'Unknown error');
+          throw new Error(`API responded with status: ${response.status}, details: ${errorText}`);
+        }
+        
+        // Check content type to ensure it's JSON
+        const contentType = response.headers.get('content-type');
+        if (!contentType || !contentType.includes('application/json')) {
+          throw new Error(`Expected JSON response but got ${contentType}`);
+        }
+        
+        const data: ApiResponse = await response.json();
+        
+        if (data.status === 200) {
+          if (isMounted) {
+            setScanResults(data.data);
+            setRetryCount(0); // Reset retry count on success
+          }
+        } else {
+          throw new Error(data.message || 'Failed to fetch scan results');
+        }
+      } catch (err: unknown) {
+        if (!isMounted) return;
+        
+        let errorMessage = 'An error occurred while fetching scan results';
+        
+        if (err instanceof SyntaxError) {
+          errorMessage = 'Invalid response format from server';
+        } else if (err instanceof Error && err.name === 'AbortError') {
+          // Don't show error for aborted requests
+          return;
+        } else if (err instanceof Error && err.message) {
+          errorMessage = err.message;
+        }
+        
+        console.error('Error fetching scan results:', err);
+        
+        // Show error message with retry option
+        message.error({
+          content: (
+            <div>
+              {errorMessage}
+              <button 
+                onClick={() => setRetryCount(prev => prev + 1)}
+                style={{ marginLeft: '10px', color: '#18CB96', background: 'none', border: 'none', cursor: 'pointer' }}
+              >
+                Retry
+              </button>
+            </div>
+          ),
+          duration: 5
+        });
+      } finally {
+        if (isMounted) {
+          setIsLoading(false);
+        }
+      }
+    };
+    
+    fetchScanResults();
+    
+    return () => {
+      isMounted = false;
+      controller.abort();
+    };
+  }, [retryCount]); // Retry when retryCount changes
+  
+  // Handle refreshing a scan with retry mechanism
+  const handleRefreshScan = async (scanId: number, retryAttempt = 0, maxRetries = 3) => {
+    try {
+      message.loading({ 
+        content: retryAttempt > 0 ? `Retrying scan refresh (${retryAttempt}/${maxRetries})...` : 'Refreshing scan...', 
+        key: 'refreshScan' 
+      });
+      
+      const response = await fetch(`/api/upc-scanner/${scanId}`, {
+        method: 'GET',
+        headers: {
+          'Cache-Control': 'no-cache, no-store, must-revalidate',
+          'Pragma': 'no-cache'
+        }
+      });
+      
+      if (!response.ok) {
+        const errorText = await response.text().catch(() => 'Unknown error');
+        throw new Error(`HTTP error! Status: ${response.status}, details: ${errorText}`);
+      }
+      
+      const data = await response.json();
+      
+      if (response.ok) {
+        message.success({ content: 'Scan status updated', key: 'refreshScan' });
+        
+        // Update the scan in the results list
+        setScanResults(prevResults => 
+          prevResults.map(scan => 
+            scan.id === scanId ? { ...scan, ...data.data } : scan
+          )
+        );
+        
+        // If this scan is currently selected, update the details too
+        if (selectedProductId === scanId.toString()) {
+          setScanDetails(prevDetails => 
+            prevDetails ? { ...prevDetails, ...data.data } : null
+          );
+        }
+      } else {
+        throw new Error(data.message || 'Failed to refresh scan');
+      }
+    } catch (err: unknown) {
+      console.error('Error refreshing scan:', err);
+      
+      // Implement retry logic
+      if (retryAttempt < maxRetries) {
+        message.warning({ 
+          content: (
+            <div>
+              Refresh failed: {err instanceof Error ? err.message : 'Unknown error'}
+              <button 
+                onClick={() => handleRefreshScan(scanId, retryAttempt + 1, maxRetries)}
+                style={{ marginLeft: '10px', color: '#18CB96', background: 'none', border: 'none', cursor: 'pointer' }}
+              >
+                Retry Now
+              </button>
+            </div>
+          ), 
+          key: 'refreshScan',
+          duration: 5
+        });
+      } else {
+        message.error({ 
+          content: (
+            <div>
+              Failed to refresh scan after {maxRetries} attempts: {err instanceof Error ? err.message : 'Unknown error'}
+              <button 
+                onClick={() => handleRefreshScan(scanId, 0, maxRetries)}
+                style={{ marginLeft: '10px', color: '#18CB96', background: 'none', border: 'none', cursor: 'pointer' }}
+              >
+                Try Again
+              </button>
+            </div>
+          ), 
+          key: 'refreshScan',
+          duration: 7
+        });
+      }
+    }
+  }
+  
+  // Handle restarting a scan with retry mechanism
+  const handleRestartScan = async (scanId: number) => {
+    setRestartingScanId(scanId);
+    try {
+      const response = await fetch(`/api/upc-scanner/${scanId}/restart`, {
+        method: 'POST',
+        headers: {
+          'Content-Type': 'application/json',
+        },
+      });
+
+      if (!response.ok) {
+        throw new Error(`HTTP error! status: ${response.status}`);
+      }
+
+      const result = await response.json();
+
+      if (result.status === 200) {
+        await fetchScanResults();
+        message.success({
+          content: 'Scan Restarted',
+          key: 'restartScan'
+        });
+      } else {
+        throw new Error(result.message || 'Failed to restart scan');
+      }
+    } catch (error) {
+      console.error('Failed to restart scan:', error);
+      message.error({
+        content: 'Failed to restart scan. Please try again.',
+        key: 'restartScan'
+      });
+    } finally {
+      setRestartingScanId(null);
+    }
+  };
+  
+  // Handle deleting a scan
+  const handleDeleteScan = async (scanId: number) => {
+    // Show confirmation dialog
+    Modal.confirm({
+      title: 'Delete Scan',
+      content: 'Are you sure you want to delete this scan? This action cannot be undone.',
+      okText: 'Delete',
+      okType: 'primary',
+      okButtonProps: { 
+        style: { 
+          backgroundColor: '#18CB96', 
+          borderColor: '#18CB96',
+          borderRadius: '9999px'
+        } 
+      },
+      cancelButtonProps: {
+        style: {
+          borderColor: '#18CB96',
+          borderRadius: '9999px'
+        }
+      },
+      cancelText: 'Cancel',
+      onOk: async () => {
+        try {
+          message.loading({ content: 'Deleting scan...', key: 'deleteScan' });
+          
+          const response = await fetch(`/api/upc-scanner/${scanId}`, {
+            method: 'DELETE',
+          });
+          
+          if (!response.ok) {
+            throw new Error(`HTTP error! Status: ${response.status}`);
+          }
+          
+          const data = await response.json();
+          
+          if (data.status === 200) {
+            message.success({ content: 'Scan deleted successfully', key: 'deleteScan' });
+            
+            // Remove the scan from the results list
+            setScanResults(prevResults => 
+              prevResults.filter(scan => scan.id !== scanId)
+            );
+            
+            // If this scan is currently selected, clear the details
+            if (selectedProductId === scanId.toString()) {
+              setSelectedProductId(null);
+              setScanDetails(null);
+            }
+          } else {
+            message.error({ content: data.message || 'Failed to delete scan', key: 'deleteScan' });
+          }
+        } catch (err: unknown) {
+          console.error('Error deleting scan:', err);
+          message.error({ content: 'Failed to delete scan', key: 'deleteScan' });
+        }
+      },
+    });
+  };
+
+  // Fetch scan details when a product is selected with lazy loading
+  useEffect(() => {
+    // Track if the component is still mounted
+    let isMounted = true;
+    const controller = new AbortController();
+    
+    const fetchScanDetails = async () => {
+      if (!selectedProductId) {
+        setScanDetails(null);
+        return;
+      }
+      
+      setIsLoadingDetails(true);
+      try {
+        // Use the API endpoint with /api prefix and abort signal for cancellation
+        const response = await fetch(`/api/upc-scanner/${selectedProductId}`, {
+          signal: controller.signal
+        });
+        
+        // Check if response is OK
+        if (!response.ok) {
+          throw new Error(`HTTP error! Status: ${response.status}`);
+        }
+        
+        // Check if response is JSON
+        const contentType = response.headers.get("content-type");
+        if (!contentType || !contentType.includes("application/json")) {
+          throw new Error("Response is not JSON");
+        }
+        
+        // Process the response only if component is still mounted
+        if (isMounted) {
+          const data: ScanDetailsResponse = await response.json();
+          
+          // Implement lazy loading by processing data in chunks
+          // First set basic details immediately
+          setScanDetails(prevDetails => ({
+            ...data.data,
+            // Keep existing products if any until we process the new ones
+            products: prevDetails?.products || []
+          }));
+          
+          // Then process products in batches asynchronously
+          if (data.data.products && data.data.products.length > 0) {
+            // Process in batches of 10 products at a time
+            const batchSize = 10;
+            for (let i = 0; i < data.data.products.length; i += batchSize) {
+              if (!isMounted) break; // Stop if component unmounted
+              
+              const batch = data.data.products.slice(i, i + batchSize);
+              
+              // Update state with each batch
+              setScanDetails(prevDetails => {
+                if (!prevDetails) return data.data;
+                
+                const existingProducts = prevDetails.products || [];
+                const newProducts = [...existingProducts];
+                
+                // Add new batch products
+                batch.forEach(product => {
+                  const index = newProducts.findIndex(p => p.asin_upc === product.asin_upc);
+                  if (index >= 0) {
+                    newProducts[index] = product;
+                  } else {
+                    newProducts.push(product);
+                  }
+                });
+                
+                return {
+                  ...prevDetails,
+                  products: newProducts
+                };
+              });
+              
+              // Small delay to prevent UI blocking
+              if (i + batchSize < data.data.products.length) {
+                await new Promise(resolve => setTimeout(resolve, 10));
+              }
+            }
+          }
+        }
+      } catch (err: unknown) {
+        if (err instanceof SyntaxError) {
+          // JSON parsing error
+          message.error("Invalid response format from server");
+        } else if (err instanceof Error && err.name !== 'AbortError') {
+          // Other fetch errors (excluding aborts)
+          message.error("Failed to fetch scan details");
+        }
+        console.error("Error fetching scan details:", err);
+      } finally {
+        if (isMounted) {
+          setIsLoadingDetails(false);
+        }
+      }
+    };
+
+    fetchScanDetails();
+    
+    // Cleanup function to handle component unmounting
+    return () => {
+      isMounted = false;
+      controller.abort();
+    };
+  }, [selectedProductId]);
+
+  // Marketplace options with icons
+  const marketplaceOptions = [
+    { id: "1", name: "United States", flag: "" },
+    { id: "6", name: "Canada", flag: "" },
+    { id: "2", name: "United Kingdom", flag: "" },
+    { id: "11", name: "Mexico", flag: "" },
+  ];
+
+  const getSelectedMarketplace = () => {
+    return marketplaceOptions.find(option => option.id === marketplaceId) || marketplaceOptions[1];
+  };
+
+  const handleMarketplaceSelect = (id: string) => {
+    setMarketplaceId(id);
+    setIsDropdownOpen(false);
+  };
+
+  const handleStartNewScan = () => {
+    setIsModalOpen(true);
+  };
+
+  const handleConfirmScan = () => {
+    setIsModalOpen(false);
+    setActiveTab("new");
+  };
+
+  const handleDetailsClick = (productId: string) => {
+    setSelectedProductId((prev) => (prev === productId ? null : productId));
+  };
+
+  const handleFileSelect = () => {
+    fileInputRef.current?.click();
+  };
+
+  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {
+    const files = event.target.files;
+    if (!files || files.length === 0) {
+      return;
+    }
+    
+    const file = files[0];
+    
+    // File type validation is done by extension check below
+    
+    // Validate file size (max 5MB)
+    const maxSize = 5 * 1024 * 1024; // 5MB in bytes
+    if (file.size > maxSize) {
+      message.error('File is too large. Maximum size is 5MB');
+      event.target.value = '';
+      return;
+    }
+    
+    // Validate file extension
+    const fileName = file.name.toLowerCase();
+    if (!fileName.endsWith('.xlsx') && !fileName.endsWith('.xls') && !fileName.endsWith('.ods')) {
+      message.error('Invalid file extension. Please upload an Excel file (.xlsx, .xls, .ods)');
+      event.target.value = '';
+      return;
+    }
+    
+    // Set the file if all validations pass
+    setSelectedFile(file);
+    message.success(`File "${file.name}" selected successfully`);
+  };
+
+  const handleUpload = async () => {
+    if (!selectedFile) {
+      message.error('Please select a file first');
+      return;
+    }
+
+    if (!productName.trim()) {
+      message.error('Please enter a product name');
+      return;
+    }
+    
+    // Additional validation before upload
+    if (productName.trim().length < 3) {
+      message.error('Product name must be at least 3 characters long');
+      return;
+    }
+    
+    if (productName.trim().length > 100) {
+      message.error('Product name must be less than 100 characters');
+      return;
+    }
+
+    setIsUploading(true);
+    const retryCount = 0;
+    const maxRetries = 2;
+    
+    const attemptUpload = async () => {
+      try {
+        const formData = new FormData();
+        formData.append('file', selectedFile);
+        formData.append('product_name', productName.trim());
+        formData.append('product_id_type', 'asin,upc'); // Include both ASIN and UPC
+        formData.append('marketplace_id', marketplaceId);
+
+        const headers = new Headers();
+        headers.append('Accept', 'application/json');
+        headers.append('Cache-Control', 'no-cache, no-store, must-revalidate');
+        headers.append('Pragma', 'no-cache');
+
+        const response = await fetch('/api/upc-scanner', {
+          method: 'POST',
+          body: formData,
+          headers: headers
+        });
+
+        if (response.ok) {
+          const result: SingleScanResponse = await response.json();
+          message.success('UPC Scan created successfully!');
+          
+          // Add the new scan result to the existing results
+          setScanResults(prevResults => [result.data, ...prevResults]);
+          
+          // Reset form
+          setSelectedFile(null);
+          setProductName("");
+          setActiveTab('upc'); // Switch back to results tab
+          
+          // Reset file input
+          if (fileInputRef.current) {
+            fileInputRef.current.value = '';
+          }
+        } else {
+          const errorText = await response.text();
+          let errorMessage = 'Upload failed';
+          
+          try {
+            const errorResult = JSON.parse(errorText);
+            errorMessage = errorResult.message || errorMessage;
+          } catch {
+            // If JSON parsing fails, use the raw error text
+            errorMessage = `Upload failed: ${response.status} ${errorText.substring(0, 100)}`;
+          }
+          
+          throw new Error(errorMessage);
+        }
+      } catch (error) {
+        console.error('Upload error:', error);
+        message.error({
+          content: `Upload failed: ${error instanceof Error ? error.message : 'Unknown error'}`,
+          duration: 5
+        });
+        
+        setIsUploading(false);
+        return false;
+      }
+      
+      return true;
+    };
+    
+    const success = await attemptUpload();
+    if (success) {
+      setIsUploading(false);
+    }
+  };
+
+  return (
+    <section className="flex flex-col gap-8 min-h-[50dvh] md:min-h-[80dvh] rounded-xl bg-white p-4 lg:p-5">
+      <Header onStartScan={() => setActiveTab("new")} />
+
+      <div className="p-3 sm:p-4 rounded-xl border border-border flex flex-col gap-6">
+        <div className="flex flex-col sm:flex-row gap-3 sm:gap-6 sm:items-center justify-between">
+          <div className="flex gap-2 flex-wrap sm:flex-nowrap text-sm">
+            <button
+              type="button"
+              onClick={() => setActiveTab("upc")}
+              className={`flex items-center gap-1.5 rounded-full font-semibold py-2 px-4 transition-colors ${
+                selectedProductId
+                  ? "bg-[#F3F4F6] text-[#858587] hover:bg-[#F3F4F6]/90"
+                  : activeTab === "upc"
+                  ? "bg-primary text-white hover:bg-primary/90"
+                  : "bg-[#F3F4F6] text-[#858587] hover:bg-[#F3F4F6]/90"
+              }`}
+            >
+              <MdOutlineInsertChartOutlined className="size-5" />
+              UPC Scanner
+            </button>
+
+            {/* either "New Scan" or "Product Title"  */}
+            {!selectedProductId ? (
+              <button
+                type="button"
+                onClick={handleStartNewScan}
+                className={`flex items-center gap-1.5 rounded-full font-semibold py-2 px-4 transition-colors ${
+                  activeTab === "new"
+                    ? "bg-primary text-white hover:bg-primary/90"
+                    : "bg-[#F3F4F6] text-[#858587] hover:bg-[#F3F4F6]/90"
+                }`}
+              >
+                <MdOutlineInsertChartOutlined className="size-5" />
+                Start a new scan
+              </button>
+            ) : (
+              <div className="flex items-center gap-1.5 rounded-full font-semibold py-2 px-4 bg-primary text-white">
+                <MdOutlineInsertChartOutlined className="size-5" />
+                {scanDetails?.product_name || "Loading..."}
+                <button
+                  type="button"
+                  aria-label="Cancel"
+                  onClick={() => setSelectedProductId(null)}
+                  className="ml-2 hover:bg-white/20 rounded-full p-1"
+                >
+                  <CgClose className="size-4" />
+                </button>
+              </div>
+            )}
+
+            <ConfirmScanModal
+              isOpen={isModalOpen}
+              onClose={() => setIsModalOpen(false)}
+              onConfirm={handleConfirmScan}
+            />
+          </div>
+
+          {activeTab === "upc" && !selectedProductId && (
+            <div className="flex gap-4 text-[#8C94A2] items-center flex-wrap sm:flex-nowrap">
+              <div className="flex items-center gap-2 md:gap-4 text-sm max-w-md">
+                <label htmlFor="product_name">Name Search</label>
+                <div className="relative">
+                  <IoSearchOutline className="absolute top-0 bottom-0 size-5 my-auto text-gray-400 left-3" />
+                  <input
+                    type="text"
+                    id="product_name"
+                    placeholder="Enter Search Name"
+                    value={searchTerm}
+                    onChange={(e) => setSearchTerm(e.target.value)}
+                    className="w-full py-3 pl-10 pr-4 text-[#596375] border border-border rounded-lg outline-none focus:border-primary"
+                  />
+                </div>
+              </div>
+
+              <MiniDatePicker 
+                selectedDate={filterDate || undefined}
+                onChange={(date) => setFilterDate(date)}
+              />
+            </div>
+          )}
+        </div>
+
+        {/* UPC Scanner Tab */}
+        {activeTab === "upc" && (
+          <div className="flex flex-col gap-4">
+            <p className="text-[#8C94A3] text-sm font-medium">
+              {selectedProductId 
+                ? `${scanDetails?.products?.length || 0} Products found` 
+                : (() => {
+                    const filteredResults = scanResults.filter(scan => {
+                      // Apply debounced search term filter
+                      const matchesSearch = debouncedSearchTerm === "" || 
+                        scan.product_name.toLowerCase().includes(debouncedSearchTerm.toLowerCase()) ||
+                        (scan.product_id && scan.product_id.toLowerCase().includes(debouncedSearchTerm.toLowerCase()));
+                      
+                      // Apply date filter if selected
+                      const matchesDate = !filterDate || 
+                        dayjs(scan.last_seen).format('YYYY-MM-DD') === filterDate.format('YYYY-MM-DD');
+                      
+                      return matchesSearch && matchesDate;
+                    });
+                    return filteredResults.length > 0 ? `${filteredResults.length} Searches found` : "No searches found";
+                  })()
+              }
+            </p>
+            {selectedProductId ? (
+              <div className="">
+                <div className="bg-[#F3F4F6] rounded-t-xl grid lg:grid-cols-[639px_1fr] lg:divide-x-2 divide-gray-200 border border-b-0 border-gray-200">
+                  <div className="hidden lg:block p-8" />
+                  <div className="p-6 lg:p-8 text-[#596375] text-sm font-semibold text-center lg:text-start">
+                    Fees and Profit
+                  </div>
+                </div>
+                <ScanDetailsTable 
+                  products={scanDetails?.products || []} 
+                  isLoading={isLoadingDetails} 
+                />
+              </div>
+            ) : (
+              <ScanResultsTable 
+                onDetailsClick={handleDetailsClick}
+                onRefreshScan={handleRefreshScan}
+                onRestartScan={handleRestartScan}
+                onDeleteScan={handleDeleteScan}
+                scanResults={scanResults.filter(scan => {
+                  // Apply debounced search term filter
+                  const matchesSearch = debouncedSearchTerm === "" || 
+                    scan.product_name.toLowerCase().includes(debouncedSearchTerm.toLowerCase()) ||
+                    (scan.product_id && scan.product_id.toLowerCase().includes(debouncedSearchTerm.toLowerCase()));
+                  
+                  // Apply date filter if selected
+                  const matchesDate = !filterDate || 
+                    dayjs(scan.last_seen).format('YYYY-MM-DD') === filterDate.format('YYYY-MM-DD');
+                  
+                  return matchesSearch && matchesDate;
+                })}
+                isLoading={isLoading}
+              />
+            )}
+          </div>
+        )}
+
+        {/* New Scanner Tab */}
+        {activeTab === "new" && (
+          <div className="flex flex-col gap-6">
+            <div className="bg-white border border-[#E5E7EB] rounded-xl p-8 min-h-[598px] flex flex-col justify-center">
+              <div className="text-center mb-8">
+                <div className="w-16 h-16 bg-[#F3F4F6] rounded-full flex items-center justify-center mx-auto mb-4">
+                  <HiOutlineCloudArrowUp className="w-8 h-8 text-[#6B7280]" />
+                </div>
+                <h3 className="text-[#111827] font-semibold text-xl mb-2">
+                  Upload Excel File
+                </h3>
+                <p className="text-[#6B7280] text-sm">
+                  Upload Excel files (.xlsx, .xls) containing UPC codes to start scanning
+                </p>
+              </div>
+
+              {/* Form Fields */}
+              <div className="max-w-md mx-auto w-full space-y-6">
+                <div className="space-y-2">
+                  <label htmlFor="productName" className="block text-sm font-medium text-[#374151]">
+                    Product Name <span className="text-red-500">*</span>
+                  </label>
+                  <input
+                    id="productName"
+                    type="text"
+                    value={productName}
+                    onChange={(e) => setProductName(e.target.value)}
+                    placeholder="Enter product name"
+                    className="w-full px-4 py-3 border border-[#D1D5DB] rounded-lg text-[#111827] placeholder-[#9CA3AF] focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors"
+                    disabled={isUploading}
+                  />
+                </div>
+
+                <div className="space-y-2">
+                  <label htmlFor="marketplace" className="block text-sm font-medium text-[#374151]">
+                    Marketplace
+                  </label>
+                  <div className="relative" ref={dropdownRef}>
+                    <button
+                      type="button"
+                      onClick={() => setIsDropdownOpen(!isDropdownOpen)}
+                      disabled={isUploading}
+                      className="w-full px-4 py-3.5 pl-14 pr-12 border border-[#D1D5DB] rounded-lg text-[#111827] bg-white hover:bg-[#F9FAFB] focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 text-left font-medium"
+                      style={{ fontFamily: 'inherit' }}
+                    >
+                      {getSelectedMarketplace().name}
+                    </button>
+                    
+                    <div className="absolute left-3 top-1/2 transform -translate-y-1/2 pointer-events-none">
+                      <span className="text-xl w-8 h-8 rounded-full bg-white shadow-sm border border-gray-200 flex items-center justify-center">
+                        {getSelectedMarketplace().flag}
+                      </span>
+                    </div>
+                    
+                    <div className="absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none">
+                      <svg 
+                        className={`w-4 h-4 text-[#6B7280] transition-transform ${isDropdownOpen ? 'rotate-180' : ''}`} 
+                        fill="none" 
+                        stroke="currentColor" 
+                        viewBox="0 0 24 24"
+                      >
+                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
+                      </svg>
+                    </div>
+
+                    {isDropdownOpen && (
+                      <div className="absolute top-full left-0 right-0 mt-2 bg-white border border-[#D1D5DB] rounded-lg shadow-xl z-10 overflow-hidden">
+                        {marketplaceOptions.map((option, index) => (
+                          <button
+                            key={option.id}
+                            type="button"
+                            onClick={() => handleMarketplaceSelect(option.id)}
+                            className={`w-full px-4 py-4 pl-14 pr-6 text-left hover:bg-[#F3F4F6] focus:outline-none focus:bg-[#F3F4F6] transition-all duration-200 text-[#111827] font-medium relative ${
+                              marketplaceId === option.id ? 'bg-primary/5 border-l-4 border-l-primary' : ''
+                            } ${index !== marketplaceOptions.length - 1 ? 'border-b border-[#E5E7EB]' : ''}`}
+                            style={{ fontFamily: 'inherit' }}
+                          >
+                            <span className="absolute left-3 top-1/2 transform -translate-y-1/2">
+                              <span className="text-xl w-8 h-8 rounded-full bg-white shadow-sm border border-gray-200 flex items-center justify-center">
+                                {option.flag}
+                              </span>
+                            </span>
+                            <span className="block">{option.name}</span>
+                            {marketplaceId === option.id && (
+                              <span className="absolute right-3 top-1/2 transform -translate-y-1/2">
+                                <svg className="w-5 h-5 text-primary" fill="currentColor" viewBox="0 0 20 20">
+                                  <path fillRule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clipRule="evenodd" />
+                                </svg>
+                              </span>
+                            )}
+                          </button>
+                        ))}
+                      </div>
+                    )}
+                  </div>
+                </div>
+              </div>
+
+              {/* File Upload Section */}
+              <div className="mt-8 space-y-6">
+                {selectedFile && (
+                  <div className="bg-primary/5 border border-primary rounded-lg p-4 max-w-md mx-auto">
+            <div className="flex items-center gap-3">
+              <div className="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
+                        <svg className="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
+                          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
+                        </svg>
+                      </div>
+                      <div>
+                        <p className="text-primary font-medium text-sm">File Selected</p>
+                <p className="text-primary/80 text-xs">{selectedFile.name}</p>
+                      </div>
+                    </div>
+                  </div>
+                )}
+
+                <div className="flex flex-col sm:flex-row gap-4 items-center justify-center">
+                  <button
+                    type="button"
+                    onClick={handleFileSelect}
+                    disabled={isUploading}
+                    className="inline-flex items-center gap-2 px-6 py-3 border border-[#D1D5DB] rounded-full text-[#374151] bg-white hover:bg-[#F9FAFB] focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium shadow-sm hover:shadow-md"
+                  >
+                    <HiOutlineCloudArrowUp className="w-5 h-5" />
+                    {selectedFile ? 'Change File' : 'Select Excel File'}
+                  </button>
+
+                  {selectedFile && productName.trim() && (
+                    <button
+                      type="button"
+                      onClick={handleUpload}
+                      disabled={isUploading}
+                      className="inline-flex items-center gap-2 px-6 py-3 bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium rounded-full transition-all duration-200 shadow-sm hover:shadow-md"
+                    >
+                      {isUploading ? (
+                        <>
+                          <svg className="animate-spin w-4 h-4" fill="none" viewBox="0 0 24 24">
+                            <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
+                            <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
+                          </svg>
+                          Uploading...
+                        </>
+                      ) : (
+                        'Start UPC Scan'
+                      )}
+                    </button>
+                  )}
+                </div>
+              </div>
+
+              <input
+                ref={fileInputRef}
+                type="file"
+                accept=".xlsx,.xls"
+                onChange={handleFileChange}
+                className="hidden"
+              />
+            </div>
+          </div>
+        )}
+      </div>
+    </section>
+  );
+};
+
+export default UpcScanner;
\ No newline at end of file
diff --git a/app/(dashboard)/upc-scanner/_components/confirm-scan-modal.tsx b/app/(dashboard)/upc-scanner/_components/confirm-scan-modal.tsx
new file mode 100644
index 0000000..94d1a02
--- /dev/null
+++ b/app/(dashboard)/upc-scanner/_components/confirm-scan-modal.tsx
@@ -0,0 +1,79 @@
+import { Modal } from "antd";
+import { IoClose } from "react-icons/io5";
+import ScanVector from "@/public/assets/svg/ufc-scan-vector.svg";
+
+interface ConfirmScanModalProps {
+  isOpen: boolean;
+  onClose: () => void;
+  onConfirm: () => void;
+}
+
+const ConfirmScanModal = ({
+  isOpen,
+  onClose,
+  onConfirm,
+}: ConfirmScanModalProps) => {
+  return (
+    <Modal
+      open={isOpen}
+      onCancel={onClose}
+      footer={null}
+      closeIcon={null}
+      centered
+      width={500}
+      styles={{
+        body: { padding: 0 },
+        content: { padding: 0, borderRadius: 12, overflow: "hidden" },
+      }}
+    >
+      <div className="relative">
+        <div
+          className="w-full h-[285px] bg-cover bg-center"
+          style={{ backgroundImage: `url(${ScanVector.src})` }}
+        />
+
+        {/* Header */}
+        <div className="absolute top-3 z-10 w-full flex items-center justify-between gap-8 px-4 border-b pb-3">
+          <h4 className="text-[#0A0A0A] font-medium text-lg">
+            Replace Product Scanner
+          </h4>
+          <button
+            onClick={onClose}
+            aria-label="Close"
+            className="text-gray-500 hover:text-gray-700 bg-white p-2 rounded-full shadow-md shadow-[#00000026]"
+          >
+            <IoClose className="size-5" />
+          </button>
+        </div>
+
+        {/* Modal Content */}
+        <div className="pb-6 p-4">
+          <div className="bg-[#FAF5EC] rounded-2xl p-4 text-center flex flex-col gap-4">
+            <p className="text-[#CA7D09] font-medium text-base max-w-[250px] mx-auto">
+              Are you sure you want to run another scan?
+            </p>
+            <div className="flex items-center justify-center gap-4">
+              <button
+                type="button"
+                onClick={onClose}
+                className="bg-white rounded-[10px] px-6 py-2 text-black text-sm font-medium"
+              >
+                No
+              </button>
+              <button
+                type="button"
+                onClick={onConfirm}
+                className="bg-[#FFC56E] border border-[#F6E6CF] rounded-[10px] px-6 py-2 text-black text-sm font-medium"
+              >
+                Yes
+              </button>
+            </div>
+          </div>
+        </div>
+      </div>
+    </Modal>
+  );
+};
+
+export default ConfirmScanModal;
+
diff --git a/app/(dashboard)/upc-scanner/_components/date-picker.tsx b/app/(dashboard)/upc-scanner/_components/date-picker.tsx
new file mode 100644
index 0000000..86dbf3c
--- /dev/null
+++ b/app/(dashboard)/upc-scanner/_components/date-picker.tsx
@@ -0,0 +1,91 @@
+"use client";
+
+import { useRef, useState } from "react";
+import { DatePicker } from "antd";
+import { FiChevronLeft, FiChevronRight } from "react-icons/fi";
+import dayjs, { Dayjs } from "dayjs";
+import { MdOutlineCalendarMonth } from "react-icons/md";
+
+interface MiniDatePickerProps {
+  selectedDate?: Dayjs;
+  onChange?: (date: Dayjs) => void;
+}
+
+const MiniDatePicker = ({ selectedDate: propDate, onChange }: MiniDatePickerProps) => {
+  const [selectedDate, setSelectedDate] = useState<Dayjs>(propDate || dayjs());
+  const [open, setOpen] = useState(false);
+  const pickerRef = useRef(null);
+
+  const handlePrev = () => {
+    const newDate = selectedDate.subtract(1, "day");
+    setSelectedDate(newDate);
+    onChange?.(newDate);
+  };
+  
+  const handleNext = () => {
+    const newDate = selectedDate.add(1, "day");
+    setSelectedDate(newDate);
+    onChange?.(newDate);
+  };
+  
+  const handleTriggerClick = () => setOpen(true);
+
+  return (
+    <div className="relative inline-flex flex-col items-start">
+      {/* Custom pill UI */}
+      <div className="flex items-center divide-x-2 border border-border rounded-full bg-white text-[#8C94A2]">
+        <button
+          type="button"
+          aria-label="Previous"
+          onClick={handlePrev}
+          className="hover:text-gray-700 p-2"
+        >
+          <FiChevronLeft size={20} />
+        </button>
+
+        <button
+          type="button"
+          onClick={handleTriggerClick}
+          className="flex items-center space-x-2 hover:text-gray-800 focus:outline-none p-2"
+        >
+          <MdOutlineCalendarMonth size={20} />
+          <span className="text-md font-medium">
+            {selectedDate.format("MMM, DD")}
+          </span>
+        </button>
+
+        <button
+          type="button"
+          aria-label="Next"
+          onClick={handleNext}
+          className="hover:text-gray-700 p-2"
+        >
+          <FiChevronRight size={20} />
+        </button>
+      </div>
+
+      {/* Keep DatePicker, just for the calendar, but make it invisible */}
+      <div className="absolute top-2 left-0 w-0 h-0 overflow-hidden">
+        <DatePicker
+          ref={pickerRef}
+          open={open}
+          value={selectedDate}
+          onChange={(date) => {
+            if (date) {
+              setSelectedDate(date);
+              onChange?.(date);
+            }
+            setOpen(false);
+          }}
+          onOpenChange={(nextOpen) => setOpen(nextOpen)}
+          allowClear={false}
+          format="YYYY-MM-DD"
+          popupClassName="z-[9999]"
+        />
+      </div>
+    </div>
+  );
+};
+
+export default MiniDatePicker;
+
diff --git a/app/(dashboard)/upc-scanner/_components/scan-details-table.tsx b/app/(dashboard)/upc-scanner/_components/scan-details-table.tsx
new file mode 100644
index 0000000..c63775f
--- /dev/null
+++ b/app/(dashboard)/upc-scanner/_components/scan-details-table.tsx
@@ -0,0 +1,357 @@
+"use client";
+
+import { GoSearch } from "react-icons/go";
+import { Spin } from "antd";
+
+interface ProductCost {
+  amount: string | null;
+  currency: string;
+}
+
+interface ProductDetails {
+  asin: string | null;
+  title: string | null;
+  fba_fee: string | null;
+  referral_fee: string | null;
+  storage_fee: string | null;
+  net_profit: string | null;
+  net_margin: string | null;
+  roi: string | null;
+  potential_winner: string | null;
+  rank: string | null;
+  amazon_instock_rate: string | null;
+  number_of_fba: string | null;
+  number_of_fbm: string | null;
+  number_of_amz: string | null;
+  estimated_monthly_sales: string | null;
+  buy_box_equity: string | null;
+  out_of_stock: number | null;
+  dominant_seller: string | null;
+}
+
+interface ScanProduct {
+  asin_upc: string;
+  product_cost: ProductCost;
+  selling_price: ProductCost;
+  buy_box_price: ProductCost;
+  product_details: ProductDetails;
+}
+
+interface ScanDetailsProps {
+  products?: ScanProduct[];
+  isLoading?: boolean;
+}
+
+const formatCurrency = (cost: ProductCost | undefined) => {
+  if (!cost || cost.amount === null) return "-";
+  return `${cost.currency}${cost.amount}`;
+};
+
+const formatValue = (value: string | number | null | undefined) => {
+  if (value === null || value === undefined) return "-";
+  return value.toString();
+};
+
+import { useEffect, useRef } from "react";
+
+const ScanDetailsTable = ({ products = [], isLoading = false }: ScanDetailsProps) => {
+  const tableContainerRef = useRef<HTMLDivElement>(null);
+  const scrollbarRef = useRef<HTMLDivElement>(null);
+  const scrollbarThumbRef = useRef<HTMLDivElement>(null);
+
+  useEffect(() => {
+    const tableContainer = tableContainerRef.current;
+    const scrollbar = scrollbarRef.current;
+    const scrollbarThumb = scrollbarThumbRef.current;
+
+    if (!tableContainer || !scrollbar || !scrollbarThumb) return;
+
+    const handleScroll = () => {
+      if (!scrollbarThumb) return; // Add guard clause
+      const scrollPercentage = tableContainer.scrollLeft / (tableContainer.scrollWidth - tableContainer.clientWidth);
+      const thumbX = scrollPercentage * (scrollbar.clientWidth - scrollbarThumb.clientWidth);
+      scrollbarThumb.style.transform = `translateX(${thumbX}px)`;
+    };
+
+    tableContainer.addEventListener('scroll', handleScroll);
+
+    let isDragging = false;
+    let startX = 0;
+    let scrollLeft = 0;
+
+    const handleMouseDown = (e: MouseEvent) => {
+      isDragging = true;
+      startX = e.pageX;
+      scrollLeft = tableContainer.scrollLeft;
+      scrollbar.classList.add('cursor-grabbing');
+      document.addEventListener('mousemove', handleMouseMove);
+      document.addEventListener('mouseup', handleMouseUp);
+    };
+
+    const handleMouseMove = (e: MouseEvent) => {
+      if (!isDragging) return;
+      e.preventDefault();
+      const x = e.pageX;
+      const walk = (x - startX) * 3; //scroll-fast
+      tableContainer.scrollLeft = scrollLeft + walk;
+    };
+
+    const handleMouseUp = () => {
+      isDragging = false;
+      scrollbar.classList.remove('cursor-grabbing');
+      document.removeEventListener('mousemove', handleMouseMove);
+      document.removeEventListener('mouseup', handleMouseUp);
+    };
+
+    scrollbar.addEventListener('mousedown', handleMouseDown);
+
+    return () => {
+      tableContainer.removeEventListener('scroll', handleScroll);
+      scrollbar.removeEventListener('mousedown', handleMouseDown);
+      document.removeEventListener('mousemove', handleMouseMove);
+      document.removeEventListener('mouseup', handleMouseUp);
+    };
+  }, []);
+  return (
+    <div className="w-full overflow-x-auto rounded-b-xl border border-gray-200">
+      {/* Mobile View */}
+      <div className="sm:hidden">
+        <table className="table-fixed w-full min-w-[1600px] text-sm bg-white">
+          <thead className="bg-[#F3F4F6] text-[#596375]">
+            <tr className="border-b border-gray-200">
+              <th className="px-4 py-3 text-left font-medium">
+                <GoSearch className="size-4 text-gray-500" />
+              </th>
+              <th className="px-4 py-3 text-left font-medium">UPC / EAN</th>
+              <th className="px-4 py-3 text-left font-medium">Product Cost</th>
+              <th className="px-4 py-3 text-left font-medium">Selling Price</th>
+              <th className="px-4 py-3 text-left font-medium">Buy Box Price</th>
+              <th className="px-4 py-3 text-left font-medium">FBA Fee</th>
+              <th className="px-4 py-3 text-left font-medium">Referral Fee</th>
+              <th className="px-4 py-3 text-left font-medium">Storage Fee</th>
+              <th className="px-4 py-3 text-left font-medium">Net Profit</th>
+              <th className="px-4 py-3 text-left font-medium">Net Margin</th>
+              <th className="px-4 py-3 text-left font-medium">ROI</th>
+              <th className="px-4 py-3 text-left font-medium">
+                Potential Winner
+              </th>
+              <th className="px-4 py-3 text-left font-medium">Rank</th>
+              <th className="px-4 py-3 text-left font-medium">
+                Amazon Instock Rate
+              </th>
+              <th className="px-4 py-3 text-left font-medium"># FBA Sellers</th>
+               <th className="px-4 py-3 text-left font-medium"># FBM Sellers</th>
+               <th className="px-4 py-3 text-left font-medium"># AMZ Sellers</th>
+              <th className="px-4 py-3 text-left font-medium">
+                Est. Monthly Sold
+              </th>
+              <th className="px-4 py-3 text-left font-medium">
+                Buy Box Equity
+              </th>
+              <th className="px-4 py-3 text-left font-medium">Out of Stock</th>
+              <th className="px-4 py-3 text-left font-medium">
+                Dominant Seller
+              </th>
+              <th className="px-4 py-3 text-left font-medium">ASIN</th>
+              <th className="px-4 py-3 text-left font-medium">Title</th>
+            </tr>
+          </thead>
+          <tbody className="text-gray-700">
+            {isLoading ? (
+              <tr>
+                <td colSpan={21} className="px-4 py-8 text-center">
+                  <div className="flex justify-center">
+                    <Spin size="large" style={{ color: "#18CB96" }} />
+                  </div>
+                </td>
+              </tr>
+            ) : products.length === 0 ? (
+              <tr>
+                <td colSpan={21} className="px-4 py-8 text-center">
+                  No products found
+                </td>
+              </tr>
+            ) : (
+              products.map((product, idx) => (
+                <tr key={idx} className="border-b border-gray-200">
+                  <td className="px-4 py-3">
+                    <GoSearch className="size-4 text-gray-500" />
+                  </td>
+                  <td className="px-4 py-3">{product.asin_upc}</td>
+                  <td className="px-4 py-3">{formatCurrency(product.product_cost)}</td>
+                  <td className="px-4 py-3">{formatCurrency(product.selling_price)}</td>
+                  <td className="px-4 py-3">{formatCurrency(product.buy_box_price)}</td>
+                  <td className="px-4 py-3">{formatValue(product.product_details.fba_fee)}</td>
+                  <td className="px-4 py-3">{formatValue(product.product_details.referral_fee)}</td>
+                  <td className="px-4 py-3">{formatValue(product.product_details.storage_fee)}</td>
+                  <td className="px-4 py-3">{formatValue(product.product_details.net_profit)}</td>
+                  <td className="px-4 py-3">{formatValue(product.product_details.net_margin)}</td>
+                  <td className="px-4 py-3">{formatValue(product.product_details.roi)}</td>
+                  <td className="px-4 py-3">{formatValue(product.product_details.potential_winner)}</td>
+                  <td className="px-4 py-3">{formatValue(product.product_details.rank)}</td>
+                  <td className="px-4 py-3">{formatValue(product.product_details.amazon_instock_rate)}</td>
+                  <td className="px-4 py-3">{formatValue(product.product_details.number_of_fba)}</td>
+                 <td className="px-4 py-3">{formatValue(product.product_details.number_of_fbm)}</td>
+                 <td className="px-4 py-3">{formatValue(product.product_details.number_of_amz)}</td>
+                  <td className="px-4 py-3">{formatValue(product.product_details.estimated_monthly_sales)}</td>
+                  <td className="px-4 py-3">{formatValue(product.product_details.buy_box_equity)}</td>
+                  <td className="px-4 py-3">{formatValue(product.product_details.out_of_stock)}</td>
+                  <td className="px-4 py-3">{formatValue(product.product_details.dominant_seller)}</td>
+                  <td className="px-4 py-3">{formatValue(product.product_details.asin)}</td>
+                  <td className="px-4 py-3">{formatValue(product.product_details.title)}</td>
+                </tr>
+              ))
+            )}
+          </tbody>
+        </table>
+      </div>
+
+      {/* Desktop View */}
+      <div className="relative hidden sm:block w-full overflow-x-auto">
+        <div className="flex w-max">
+          {/* Left Table */}
+          <div className="sticky left-0 z-10 w-[640px] border-r border-gray-300 bg-white">
+            <table className="table-fixed w-full text-sm border-separate border-spacing-0">
+              <thead className="bg-[#F3F4F6] text-[#596375]">
+                <tr className="border-b border-gray-200 h-12">
+                  <th className="w-10 px-4 py-3 text-left font-medium">
+                    <GoSearch className="size-4 text-gray-500" />
+                  </th>
+                  <th className="w-40 px-4 py-3 text-left font-medium border-r-2 whitespace-nowrap">
+                    UPC / EAN
+                  </th>
+                  <th className="w-32 px-4 py-3 text-left font-medium border-r-2 whitespace-nowrap">
+                    Product Cost
+                  </th>
+                  <th className="w-32 px-4 py-3 text-left font-medium border-r-2 whitespace-nowrap">
+                    Selling Price
+                  </th>
+                  <th className="w-32 px-4 py-3 text-left font-medium whitespace-nowrap">
+                    Buy Box Price
+                  </th>
+                </tr>
+              </thead>
+              <tbody className="text-gray-700">
+                {isLoading ? (
+                  <tr>
+                    <td colSpan={5} className="px-4 py-8 text-center">
+                      <div className="flex justify-center">
+                        <Spin size="large" />
+                      </div>
+                    </td>
+                  </tr>
+                ) : products.length === 0 ? (
+                  <tr>
+                    <td colSpan={5} className="px-4 py-8 text-center">
+                      No products found
+                    </td>
+                  </tr>
+                ) : (
+                  products.map((product, idx) => (
+                    <tr key={idx} className="border-b border-gray-200 h-12">
+                      <td className="px-4 py-2">
+                        <GoSearch className="size-4 text-gray-500" />
+                      </td>
+                      <td className="px-4 py-2">{product.asin_upc}</td>
+                      <td className="px-4 py-2">{formatCurrency(product.product_cost)}</td>
+                      <td className="px-4 py-2">{formatCurrency(product.selling_price)}</td>
+                      <td className="px-4 py-2">{formatCurrency(product.buy_box_price)}</td>
+                    </tr>
+                  ))
+                )}
+              </tbody>
+            </table>
+          </div>
+
+          {/* Scrollable Right Table - Fees and Profit Section */}
+          <div className="flex-1 overflow-hidden">
+            <div ref={tableContainerRef} className="overflow-x-auto">
+              <table className="table-fixed w-[2560px] text-sm bg-white border-separate border-spacing-0">
+                <thead className="bg-[#F3F4F6] text-[#596375]">
+                  <tr className="border-b border-gray-200 divide-x-2 h-12">
+                    {[
+                      "FBA Fee",
+                      "Referral Fee",
+                      "Storage Fee",
+                      "Net Profit",
+                      "Net Margin",
+                      "ROI",
+                      "Potential Winner",
+                      "Rank",
+                      "Amazon Instock Rate",
+                      "# FBA Sellers",
+               "# FBM Sellers",
+               "# AMZ Sellers",
+                      "Est. Monthly Sold",
+                      "Buy Box Equity",
+                      "Out of Stock",
+                      "Dominant Seller",
+                      "ASIN",
+                      "Title",
+                    ].map((header) => (
+                      <th
+                        key={header}
+                        className={`px-4 py-3 text-left font-medium whitespace-nowrap ${
+                          header === "Title" ? "w-[75rem]" : 
+                          header === "Dominant Seller" ? "w-[13.2rem]" : 
+                          header === "Potential Winner" ? "w-[13.2rem]" : "w-44"
+                        }`}
+                      >
+                        {header}
+                      </th>
+                    ))}
+                  </tr>
+                </thead>
+                <tbody className="text-gray-700">
+                  {isLoading ? (
+                    <tr>
+                      <td colSpan={16} className="px-4 py-8 text-center">
+                        <div className="flex justify-center">
+                          <Spin size="large" style={{ color: "#18CB96" }} />
+                        </div>
+                      </td>
+                    </tr>
+                  ) : products.length === 0 ? (
+                    <tr>
+                      <td colSpan={16} className="px-4 py-8 text-center">
+                        No products found
+                      </td>
+                    </tr>
+                  ) : (
+                    products.map((product, idx) => (
+                      <tr key={idx} className="border-b border-gray-200 h-12">
+                        <td className="px-4 py-2">{formatValue(product.product_details.fba_fee)}</td>
+                        <td className="px-4 py-2">{formatValue(product.product_details.referral_fee)}</td>
+                        <td className="px-4 py-2">{formatValue(product.product_details.storage_fee)}</td>
+                        <td className="px-4 py-2">{formatValue(product.product_details.net_profit)}</td>
+                        <td className="px-4 py-2">{formatValue(product.product_details.net_margin)}</td>
+                        <td className="px-4 py-2">{formatValue(product.product_details.roi)}</td>
+                        <td className="px-4 py-2">{formatValue(product.product_details.potential_winner)}</td>
+                        <td className="px-4 py-2">{formatValue(product.product_details.rank)}</td>
+                        <td className="px-4 py-2">{formatValue(product.product_details.amazon_instock_rate)}</td>
+                        <td className="px-4 py-2">{formatValue(product.product_details.number_of_fba)}</td>
+                 <td className="px-4 py-2">{formatValue(product.product_details.number_of_fbm)}</td>
+                 <td className="px-4 py-2">{formatValue(product.product_details.number_of_amz)}</td>
+                        <td className="px-4 py-2">{formatValue(product.product_details.estimated_monthly_sales)}</td>
+                        <td className="px-4 py-2">{formatValue(product.product_details.buy_box_equity)}</td>
+                        <td className="px-4 py-2">{formatValue(product.product_details.out_of_stock)}</td>
+                        <td className="px-4 py-2">{formatValue(product.product_details.dominant_seller)}</td>
+                        <td className="px-4 py-2">{formatValue(product.product_details.asin)}</td>
+                        <td className="px-4 py-2">{formatValue(product.product_details.title)}</td>
+                      </tr>
+                    ))
+                  )}
+                </tbody>
+              </table>
+            </div>
+            <div ref={scrollbarRef} className="custom-scrollbar">
+              <div ref={scrollbarThumbRef} className="custom-scrollbar-thumb"></div>
+            </div>
+          </div>
+        </div>
+      </div>
+    </div>
+  );
+};
+
+export default ScanDetailsTable;
diff --git a/app/(dashboard)/upc-scanner/_components/scan-results-table.tsx b/app/(dashboard)/upc-scanner/_components/scan-results-table.tsx
new file mode 100644
index 0000000..4894ce5
--- /dev/null
+++ b/app/(dashboard)/upc-scanner/_components/scan-results-table.tsx
@@ -0,0 +1,335 @@
+"use client";
+
+import { Tooltip, Dropdown } from "antd";
+import { CustomTable as Table } from "@/lib/AntdComponents";
+import type { ColumnsType } from "antd/es/table";
+import type { MenuProps } from "antd";
+import { FC, useState, useEffect, useRef } from "react";
+import {
+  HiArrowPath,
+  HiPrinter,
+  HiEllipsisVertical,
+  HiTrash,
+  HiArrowDownTray,
+} from "react-icons/hi2";
+import * as XLSX from 'xlsx';
+
+interface ScanResultsTableProps {
+  onDetailsClick?: (productId: string) => void;
+  onRefreshScan?: (scanId: number) => void;
+  onRestartScan?: (scanId: number) => void;
+  onDeleteScan?: (scanId: number) => void;
+  scanResults?: Array<{
+    id: number;
+    product_name: string;
+    product_id: string | null;
+    items_count: number;
+    products_found: number;
+    last_seen: string;
+    last_uploaded: string;
+    status: string;
+    marketplace_id: string;
+    user_id: number;
+    failed_reason?: string;
+  }>;
+  isLoading?: boolean;
+}
+
+export interface ProductData {
+  key: string;
+  index: number;
+  name: string;
+  productId: string;
+  itemsCount: number;
+  found: number;
+  lastScan: string;
+  lastUploaded: string;
+  status: "Pending" | "In Progress" | "Completed";
+  last_seen_date: Date; // Added for sorting
+  failedReason?: string; // Reason for failure if scan failed
+}
+
+const ScanResultsTable: FC<ScanResultsTableProps> = ({ onDetailsClick, onRefreshScan, onRestartScan, onDeleteScan, scanResults = [], isLoading = false }) => {
+  // Track which scan is currently refreshing
+  const [refreshingId, setRefreshingId] = useState<number | null>(null);
+  // Store interval IDs for cleanup
+  const intervalRef = useRef<{[key: number]: NodeJS.Timeout}>({});
+  
+  // Auto-refresh pending and in-progress scans every minute
+  useEffect(() => {
+    // Clear previous intervals
+    Object.values(intervalRef.current).forEach(interval => clearInterval(interval));
+    intervalRef.current = {};
+    
+    // Set up new intervals for pending and in-progress scans
+    scanResults.forEach(scan => {
+      if (scan.status === 'pending' || scan.status === 'in-progress') {
+        const scanId = scan.id;
+        // Set up interval to refresh every 30 seconds (30000ms)
+        const intervalId = setInterval(() => {
+          onRefreshScan?.(scanId);
+        }, 30000);
+        
+        // Store interval ID for cleanup
+        intervalRef.current[scanId] = intervalId;
+      }
+    });
+    
+    // Cleanup function
+    return () => {
+      Object.values(intervalRef.current).forEach(interval => clearInterval(interval));
+    };
+  }, [scanResults, onRefreshScan]);
+  
+  // Function to download scan results as Excel file
+  const handleDownloadExcel = (record: ProductData) => {
+    // Find the original scan result data
+    const scanData = scanResults.find(scan => scan.id.toString() === record.key);
+    
+    if (!scanData) return;
+    
+    // Create worksheet data
+    const wsData = [
+      // Headers
+      ['UPC Scanner Results'],
+      [''],
+      ['Scan Details'],
+      ['Search Name', scanData.product_name],
+      ['UPC / EAN', scanData.product_id || ''],
+      ['Items Count', scanData.items_count.toString()],
+      ['Products Found', scanData.products_found.toString()],
+      ['Last Scan', new Date(scanData.last_seen).toLocaleDateString()],
+      ['Last Uploaded', new Date(scanData.last_uploaded).toLocaleDateString()],
+      ['Status', scanData.status],
+      ['Marketplace ID', scanData.marketplace_id]
+    ];
+    
+    // Create worksheet
+    const ws = XLSX.utils.aoa_to_sheet(wsData);
+    
+    // Create workbook
+    const wb = XLSX.utils.book_new();
+    XLSX.utils.book_append_sheet(wb, ws, 'Scan Results');
+    
+    // Generate filename
+    const fileName = `UPC_Scan_${scanData.product_name.replace(/\s+/g, '_')}_${new Date().toISOString().split('T')[0]}.xlsx`;
+    
+    // Write and download
+    XLSX.writeFile(wb, fileName);
+  };
+  
+  // Convert API scan results to table format
+  const formatDate = (dateString: string) => {
+    const date = new Date(dateString);
+    return date.toLocaleDateString('en-US', { 
+      month: '2-digit', 
+      day: '2-digit', 
+      year: '2-digit' 
+    });
+  };
+
+ 
+  const tableData: ProductData[] = scanResults
+    .map((scan, index) => ({
+      key: scan.id.toString(),
+      index: index + 1,
+      name: scan.product_name,
+      productId: scan.product_id || scan.id.toString(),
+      itemsCount: scan.items_count,
+      found: scan.products_found,
+      lastScan: formatDate(scan.last_seen),
+      lastUploaded: formatDate(scan.last_uploaded),
+      status: scan.status === 'completed' 
+        ? "Completed" 
+        : scan.status === 'in-progress' 
+          ? "In Progress" 
+          : "Pending" as "Pending" | "In Progress" | "Completed",
+      failedReason: scan.failed_reason,
+      last_seen_date: new Date(scan.last_seen) // Add original date for sorting
+    }))
+    // Sort by last_seen_date in descending order (most recent first)
+    .sort((a, b) => b.last_seen_date.getTime() - a.last_seen_date.getTime());
+  const columns: ColumnsType<ProductData> = [
+    {
+      title: "#",
+      dataIndex: "index",
+      key: "index",
+      width: 50,
+      render: (_, record, index) => <span>{index + 1}</span>,
+    },
+    {
+      title: "Search Name",
+      dataIndex: "name",
+      key: "name",
+      render: (name, record) => {
+        const dotColor = name === "TOSSI" ? "black" : "#18CB96";
+        // Since we've sorted the table data, the first item (index 0) is the most recent
+        const isMostRecent = record.key === tableData[0]?.key;
+        return (
+          <div className="flex items-center gap-2">
+            <span
+              className="inline-block size-2 rounded-full"
+              style={{ backgroundColor: dotColor }}
+            />
+            <span className={isMostRecent ? "font-bold" : ""}>{name}</span>
+          </div>
+        );
+      },
+    },
+    {
+      title: "No of items",
+      dataIndex: "itemsCount",
+      key: "itemsCount",
+    },
+    {
+      title: "Product Found",
+      dataIndex: "found",
+      key: "found",
+    },
+    {
+      title: "Last Scan",
+      dataIndex: "lastScan",
+      key: "lastScan",
+      render: (text, record) => {
+        // Since we've sorted the table data, the first item (index 0) is the most recent
+        const isMostRecent = record.key === tableData[0]?.key;
+        return (
+          <span className={isMostRecent ? "font-bold" : ""}>{text}</span>
+        );
+      },
+    },
+    {
+      title: "Last uploaded",
+      dataIndex: "lastUploaded",
+      key: "lastUploaded",
+      render: (text, record) => {
+        // Since we've sorted the table data, the first item (index 0) is the most recent
+        const isMostRecent = record.key === tableData[0]?.key;
+        return (
+          <span className={isMostRecent ? "font-bold" : ""}>{text}</span>
+        );
+      },
+    },
+    {
+      title: "Status",
+      dataIndex: "status",
+      key: "status",
+      render: (status, record) => (
+        record.failedReason ? (
+          <Tooltip title={record.failedReason}>
+            <span
+              className={`px-1.5 py-1 rounded-full text-xs font-semibold`}
+              style={{
+                backgroundColor: status === "Pending" || status === "In Progress" ? "#FDF5E9" : "#18CB9610",
+                color: status === "Pending" || status === "In Progress" ? "#FF9B06" : "#18CB96",
+              }}
+            >
+              {status}
+            </span>
+          </Tooltip>
+        ) : (
+          <span
+            className={`px-1.5 py-1 rounded-full text-xs font-semibold`}
+            style={{
+              backgroundColor: status === "Pending" || status === "In Progress" ? "#FDF5E9" : "#18CB9610",
+              color: status === "Pending" || status === "In Progress" ? "#FF9B06" : "#18CB96",
+            }}
+          >
+            {status}
+          </span>
+        )
+      ),
+    },
+    {
+      title: "Action",
+      key: "action",
+      render: (_, record: ProductData) => {
+        const items: MenuProps["items"] = [
+          {
+            key: "download",
+            label: (
+              <div className="flex items-center gap-2">
+                <HiArrowDownTray size={16} />
+                <span>Download</span>
+              </div>
+            ),
+            onClick: () => {
+              handleDownloadExcel(record);
+            },
+          },
+          {
+            key: "delete",
+            label: (
+              <div className="flex items-center gap-2 text-red-500">
+                <HiTrash size={16} />
+                <span>Delete</span>
+              </div>
+            ),
+            onClick: () => {
+              const scanId = parseInt(record.key);
+              onDeleteScan?.(scanId);
+            },
+          },
+        ];
+
+        return (
+          <div className="flex gap-2">
+            <Tooltip title="Refresh">
+              <button 
+                type="button" 
+                aria-label="Refresh" 
+                onClick={() => {
+                  const scanId = parseInt(record.key);
+                  setRefreshingId(scanId);
+                  onRestartScan?.(scanId);
+                  // Reset the refreshing state after 2 seconds
+                  setTimeout(() => setRefreshingId(null), 2000);
+                }}
+              >
+                <HiArrowPath
+                  size={24}
+                  className={`${refreshingId === parseInt(record.key) ? 'text-primary animate-spin' : 'text-[#8C94A3] hover:text-black'}`}
+                />
+              </button>
+            </Tooltip>
+            <Tooltip title="View Details">
+              <button
+                type="button"
+                aria-label="View Details"
+                onClick={() => onDetailsClick?.(record.productId)}
+              >
+                <HiPrinter
+                  size={24}
+                  className="text-[#8C94A3] hover:text-black"
+                />
+              </button>
+            </Tooltip>
+            <Dropdown menu={{ items }} trigger={["click"]}>
+              <Tooltip title="More">
+                <button type="button" aria-label="More">
+                  <HiEllipsisVertical
+                    size={24}
+                    className="text-[#8C94A3] hover:text-black"
+                  />
+                </button>
+              </Tooltip>
+            </Dropdown>
+          </div>
+        );
+      },
+    },
+  ];
+
+  return (
+    <Table
+      columns={columns}
+      dataSource={tableData}
+      pagination={false}
+      scroll={{ x: 800 }}
+      className="custom-table"
+      loading={isLoading}
+    />
+  );
+};
+
+export default ScanResultsTable;
\ No newline at end of file
diff --git a/app/(dashboard)/upc-scanner/page.tsx b/app/(dashboard)/upc-scanner/page.tsx
new file mode 100644
index 0000000..34366d2
--- /dev/null
+++ b/app/(dashboard)/upc-scanner/page.tsx
@@ -0,0 +1,14 @@
+import { Metadata } from "next";
+import UpcScanner from "./_components/UpcScanner";
+
+export const metadata: Metadata = {
+  title: "UPC Scanner",
+  description: "UPC Scanner",
+};
+
+const page = () => {
+  return <UpcScanner />;
+};
+
+export default page;
+
diff --git a/app/(external)/packages/_components/Pricing.tsx b/app/(external)/packages/_components/Pricing.tsx
index f83bcfc..bb937e9 100644
--- a/app/(external)/packages/_components/Pricing.tsx
+++ b/app/(external)/packages/_components/Pricing.tsx
@@ -233,33 +233,12 @@ export default function Packages() {
         }
       }
 
-      // Get notes and billing information
+      // Get notes - matching renewSubscription component logic
       const notes = plan.meta_data.notes || [];
-      const billingNote =
-        plan.meta_data.billing_note ||
-        (plan.interval === "year" ? `Annual billing` : "Monthly billing");
-
-      // For monthly plans, prioritize upgrade notes and avoid annual billing notes
-      // For annual plans, use billing notes or upgrade notes
-      let upgradeNote;
-      if (plan.interval === "month") {
-        // For monthly plans, find upgrade note or support note, avoid annual billing mentions
-        upgradeNote =
-          notes.find(
-            (note) =>
-              note.includes("upgrade") && !note.toLowerCase().includes("annual")
-          ) ||
-          notes.find((note) => note.includes("Support")) ||
-          "Monthly subscription";
-      } else {
-        // For annual plans, use billing note or any relevant note
-        upgradeNote =
-          billingNote ||
-          notes.find((note) => note.includes("upgrade")) ||
-          notes.find((note) => note.includes("Support")) ||
-          "Annual subscription";
-      }
- const isDisabled = plan.name.toUpperCase() == "SAGE";
+      const displayNotes = notes.length > 0 ? notes : [plan.interval === "year" ? "Annual billing" : "Monthly billing"];
+
+      const isDisabled = plan.name.toUpperCase() == "SAGE";
+      
       return {
         id: plan.id,
         name: plan.name, // Keep original name without modification
@@ -268,8 +247,8 @@ export default function Packages() {
         priceLabel,
         description,
         features,
-        note: upgradeNote,
-        buttonText: billingNote,
+        notes: displayNotes,
+        buttonText: plan.trial > 0 ? "Start Free Trial" : "Get Started",
         isDefaultHighlighted,
         stripePriceId: plan.id,
         interval: plan.interval,
@@ -524,13 +503,16 @@ export default function Packages() {
                     </ul>
                   </div>
                   <div className="mt-6">
-                    <p
-                      className={`text-sm text-[#006D4B] w-full py-3 px-5 font-medium rounded-md bg-[#E0F4EE] text-center ${
-                        isHighlighted ? "" : ""
-                      }`}
-                    >
-                      {plan.note}
-                    </p>
+                    <div className="space-y-2 mb-3">
+                      {plan.notes.map((note, noteIdx) => (
+                        <p
+                          key={noteIdx}
+                          className={`text-sm text-[#006D4B] w-full py-2 px-5 font-medium rounded-md bg-[#E0F4EE] text-center`}
+                        >
+                          {note}
+                        </p>
+                      ))}
+                    </div>
                      <button
                       onClick={(e) => {
                         e.stopPropagation(); // Prevent card selection when clicking button
diff --git a/app/(external)/pricing/_components/Pricing.tsx b/app/(external)/pricing/_components/Pricing.tsx
index 5cb01d4..eb3cec8 100644
--- a/app/(external)/pricing/_components/Pricing.tsx
+++ b/app/(external)/pricing/_components/Pricing.tsx
@@ -44,8 +44,6 @@ export default function Pricing() {
   const [showModal, setShowModal] = useState(false);
   const [pricings, { data: apiResponse, isLoading }] = useLazyGetPricingQuery();
 
- 
-
   useEffect(() => {
     pricings({});
   }, [pricings]);
@@ -115,35 +113,11 @@ export default function Pricing() {
         }
       }
 
-      // Get notes and billing information
+      // Get notes
       const notes = plan.meta_data.notes || [];
-      const billingNote =
-        plan.meta_data.billing_note ||
-        (plan.interval === "year" ? `Annual billing` : "Monthly billing");
-
-      // For monthly plans, prioritize upgrade notes and avoid annual billing notes
-      // For annual plans, use billing notes or upgrade notes
-      let upgradeNote;
-      if (plan.interval === "month") {
-        // For monthly plans, find upgrade note or support note, avoid annual billing mentions
-        upgradeNote =
-          notes.find(
-            (note) =>
-              note.includes("upgrade") && !note.toLowerCase().includes("annual")
-          ) ||
-          notes.find((note) => note.includes("Support")) ||
-          "Monthly subscription";
-      } else {
-        // For annual plans, use billing note or any relevant note
-        upgradeNote =
-          billingNote ||
-          notes.find((note) => note.includes("upgrade")) ||
-          notes.find((note) => note.includes("Support")) ||
-          "Annual subscription";
-      }
+      const displayNotes = notes.length > 0 ? notes : [plan.interval === "year" ? "Annual billing" : "Monthly billing"];
 
       // Check if plan should be disabled (only STARTER (PRO) is available)
-      //const isDisabled = plan.name.toUpperCase() !== 'STARTER (PRO)';
       const isDisabled = plan.name.toUpperCase() == "SAGE";
 
       return {
@@ -154,12 +128,12 @@ export default function Pricing() {
         priceLabel,
         description,
         features,
-        note: upgradeNote,
+        notes: displayNotes,
         buttonText: isDisabled
           ? "Unavailable"
           : plan.trial > 0
           ? "Start Free Trial"
-          : billingNote,
+          : "Get Started",
         isDefaultHighlighted,
         stripePriceId: plan.stripe_price_id,
         interval: plan.interval,
@@ -384,13 +358,16 @@ export default function Pricing() {
                     </ul>
                   </div>
                   <div className="mt-6">
-                    <p
-                      className={`text-sm text-[#006D4B] w-full py-3 px-5 font-medium rounded-md bg-[#E0F4EE] text-center ${
-                        isHighlighted ? "" : ""
-                      }`}
-                    >
-                      {plan.note}
-                    </p>
+                    <div className="space-y-2 mb-3">
+                      {plan.notes.map((note, noteIdx) => (
+                        <p
+                          key={noteIdx}
+                          className={`text-sm text-[#006D4B] w-full py-2 px-5 font-medium rounded-md bg-[#E0F4EE] text-center`}
+                        >
+                          {note}
+                        </p>
+                      ))}
+                    </div>
                     <button
                       onClick={(e) => {
                         e.stopPropagation(); // Prevent card selection when clicking button
@@ -421,21 +398,6 @@ export default function Pricing() {
             })}
           </div>
         </div>
-
-        {/* Stats Section */}
-        {/**
-        <div className="grid grid-cols-2 md:grid-cols-4 gap-6 mt-6 text-center">
-          {stats.map((stat, idx) => (
-            <div key={idx} className="bg-white space-y-4 rounded-xl p-5 px-7">
-              <p className="font-bold text-[#009F6D] text-4xl">{stat.value}</p>
-              <p className="font-semibold text-[#3F3F3F] text-xl">
-                {stat.title}
-              </p>
-              <p className="text-xs text-[#676A75]">{stat.subtitle}</p>
-            </div>
-          ))}
-        </div>
- */}
       </div>
 
       {/* Free Trial Modal */}
@@ -467,4 +429,4 @@ export default function Pricing() {
       )}
     </section>
   );
-}
+}
\ No newline at end of file
diff --git a/app/(external)/renewSubscription/_component/renewSubscription.tsx b/app/(external)/renewSubscription/_component/renewSubscription.tsx
index 35a19c5..705c0cf 100644
--- a/app/(external)/renewSubscription/_component/renewSubscription.tsx
+++ b/app/(external)/renewSubscription/_component/renewSubscription.tsx
@@ -4,236 +4,396 @@
 import { useLazyGetPricingQuery } from "@/redux/api/auth";
 import { useLazyNewSubscriptionQuery } from "@/redux/api/subscriptionApi";
 import { Button, message } from "antd";
-
 import { useRouter } from "next/navigation";
-//import { useSearchParams } from "next/navigation";
 import { useEffect, useState } from "react";
-import { FaCheckCircle } from "react-icons/fa";
-import { FaDollarSign } from "react-icons/fa6";
-
-// Component to handle the dropdown-like list of features with smooth transition
-const FeatureList = ({
-  items,
-  initialCount = 3,
-  expanded,
-  onExpand,
-}: {
-  items: string[];
-  initialCount?: number;
-  expanded: boolean;
-  onExpand: (expanded: boolean) => void;
-}) => {
-  //const [expanded, setExpanded] = useState(false);
-
-  const safeInitialCount = Math.max(0, initialCount);
-
-  // Always visible items
-  const initialItems = items.slice(0, safeInitialCount);
-  // Extra items to show/hide with animation
-  const extraItems = items.slice(safeInitialCount);
+import { IoIosCheckmark } from "react-icons/io";
+import { FaCircle } from "react-icons/fa";
 
-  return (
-    <>
-      <ul className="mt-1 text-left space-y-2 h-fit border-t pt-4">
-        {initialItems.map((subItem, index) => (
-          <li className="flex gap-2 items-center" key={index}>
-            <div>
-              <FaCheckCircle className="text-green-700 !h-[20px] !w-[20px]" />
-            </div>
-            <span className={`${expanded ? "" : "truncate"} w-full`}>
-              {subItem}
-            </span>
-          </li>
-        ))}
-        {/* Extra items container with smooth height & opacity transition */}
-        {extraItems.length > 0 && (
-          <div
-            className={`overflow-hidden transition-all duration-300 ease-in-out space-y-2 ${
-              expanded ? "max-h-96 opacity-100" : "max-h-0 opacity-0"
-            }`}
-          >
-            {extraItems.map((subItem, index) => (
-              <li className="flex gap-2 items-center" key={index}>
-                <div>
-                  <FaCheckCircle className="text-green-700 !h-[20px] !w-[20px]" />
-                </div>
-                {subItem}
-              </li>
-            ))}
-          </div>
-        )}
-      </ul>
-      {extraItems.length > 0 && (
-        <button
-          className="text-primary text-sm mt-1 w-fit"
-          onClick={() => onExpand(!expanded)}
-        >
-          {expanded ? "See less" : "See more details"}
-        </button>
-      )}
-    </>
-  );
-};
+interface Feature {
+  name: string;
+  description: string;
+}
+
+interface PricingPlan {
+  id: number;
+  name: string;
+  stripe_price_id: string;
+  price: string;
+  trial: number;
+  currency: string;
+  interval: string;
+  meta_data: {
+    notes?: string[];
+    tooltip?: string;
+    features?: Feature[];
+    billing_note?: string;
+  };
+  status: number;
+  created_at: string;
+  updated_at: string;
+  stripe_product_id: string;
+}
 
 const RenewSubscription = () => {
-  const router = useRouter()
-  const [getPricing, { data }] = useLazyGetPricingQuery();
-  const [selectedPlan, setSelectedPlan] = useState<string | null>(null);
-  const [expandedCards, setExpandedCards] = useState<Record<string, boolean>>(
-    {}
-  );
+  const router = useRouter();
+  const [getPricing, { data: apiResponse, isLoading }] = useLazyGetPricingQuery();
+  const [selectedPlanId, setSelectedPlanId] = useState<number | null>(null);
+  const [isAnnual, setIsAnnual] = useState(false);
+  const [expandedFeatures, setExpandedFeatures] = useState<{
+    [key: number]: boolean;
+  }>({});
   const [showModal, setShowModal] = useState(false);
-  const [renew, { isLoading: subscribeLoading }] =
-      useLazyNewSubscriptionQuery();
-       const [messageApi, contextHolder] = message.useMessage();
- 
+  const [renew, { isLoading: subscribeLoading }] = useLazyNewSubscriptionQuery();
+  const [messageApi, contextHolder] = message.useMessage();
+  const [pricingData, setPricingData] = useState<PricingPlan[]>([]);
 
   useEffect(() => {
     getPricing({});
   }, [getPricing]);
 
-  const handleExpand = (planKey: string, isExpanded: boolean) => {
-    setExpandedCards((prev) => ({
-      ...prev,
-      [planKey]: isExpanded,
-    }));
+  useEffect(() => {
+    if (apiResponse?.data) {
+      setPricingData(apiResponse.data);
+    }
+  }, [apiResponse]);
+
+  // Process pricing data to get plans for current billing interval
+  const getProcessedPlans = () => {
+    const currentInterval = isAnnual ? "year" : "month";
+    const filteredPlans = pricingData.filter(
+      (plan) => plan.interval === currentInterval
+    );
+
+    const sortedPlans = filteredPlans.sort(
+      (a, b) => parseFloat(a.price) - parseFloat(b.price)
+    );
+
+    return sortedPlans.map((plan) => {
+      const isDefaultHighlighted = plan.name.toUpperCase() === "PREMIUM";
+      
+      // Calculate display price based on interval
+      let displayPrice, priceLabel;
+      if (plan.interval === "year") {
+        displayPrice = parseFloat(plan.price).toFixed(0);
+        priceLabel = "Per year";
+      } else {
+        displayPrice = parseFloat(plan.price).toFixed(0);
+        priceLabel = "Per month";
+      }
+      
+      const features = plan.meta_data.features?.map((f) => f.name) || [];
+
+      let description = plan.meta_data.tooltip || "";
+      if (!description) {
+        switch (plan.name.toUpperCase()) {
+          case "STARTER (PRO)":
+          case "STARTER":
+            description = "New sellers & small businesses";
+            break;
+          case "PREMIUM":
+            description = "For growing sellers & established brands";
+            break;
+          case "SAGE":
+          case "ENTERPRISE":
+            description = "Large sellers & enterprises";
+            break;
+          default:
+            description = "Professional plan";
+        }
+      }
+
+      // Get notes - matching Pricing component logic
+      const notes = plan.meta_data.notes || [];
+      const displayNotes = notes.length > 0 ? notes : [plan.interval === "year" ? "Annual billing" : "Monthly billing"];
+
+      const isDisabled = plan.name.toUpperCase() === "SAGE";
+
+      return {
+        id: plan.id,
+        name: plan.name,
+        price: parseInt(displayPrice),
+        originalPrice: parseFloat(plan.price),
+        priceLabel,
+        description,
+        features,
+        notes: displayNotes,
+        buttonText: isDisabled ? "Unavailable" : "Renew Subscription",
+        isDefaultHighlighted,
+        stripePriceId: plan.stripe_price_id,
+        interval: plan.interval,
+        trial: plan.trial,
+        isDisabled,
+      };
+    });
   };
 
+  const processedPlans = getProcessedPlans();
 
+  useEffect(() => {
+    if (processedPlans.length > 0 && selectedPlanId === null) {
+      const defaultPlan =
+        processedPlans.find((plan) => plan.isDefaultHighlighted) ||
+        processedPlans[0];
+      setSelectedPlanId(defaultPlan.id);
+    }
+  }, [processedPlans, selectedPlanId]);
 
-  interface SubInfoItem {
-    key: string;
-    title: string;
-    price: string;
-    subTitle: string;
-    subItems: string[];
-  }
+  // Reset selection when billing interval changes
+  useEffect(() => {
+    setSelectedPlanId(null);
+  }, [isAnnual]);
 
-  const subInfo: SubInfoItem[] = data?.data
-    ? data.data.map((item: any) => {
-        const features = item.meta_data?.features || [];
-        const subTitle = features[0] || "";
-        const subItems = features.slice(1);
-        return {
-          key: item.id.toString(),
-          title: item.name,
-          price: item.price,
-          subTitle: subTitle,
-          subItems: subItems,
-        };
-      })
-    : [];
+  const toggleFeatures = (planId: number) => {
+    setExpandedFeatures((prev) => ({
+      ...prev,
+      [planId]: !prev[planId],
+    }));
+  };
 
-  const handleGetStarted = (planId: string) => {
-    setSelectedPlan(planId);
-    setShowModal(true);
+  const handleCardClick = (planId: number) => {
+    setSelectedPlanId(planId);
   };
-   const confirmSubscription = () => {
-      if (!selectedPlan) {
-        console.error("No plan selected");
-        return;
-      }
-      renew({
-        pricing_id: selectedPlan,
+
+  const handleGetStarted = (planId: number) => {
+    const plan = processedPlans.find((p) => p.id === planId);
+    if (plan && !plan.isDisabled) {
+      setSelectedPlanId(planId);
+      setShowModal(true);
+    }
+  };
+
+  const confirmSubscription = () => {
+    if (!selectedPlanId) {
+      console.error("No plan selected");
+      return;
+    }
+    renew({
+      pricing_id: selectedPlanId.toString(),
+    })
+      .unwrap()
+      .then((res) => {
+        router.push(`${res?.data?.url}`);
+        messageApi.success("Redirecting to checkout...");
       })
-        .unwrap()
-        .then((res) => {
-          router.push(`${res?.data?.url}`)
-          messageApi.success("redirecting to checkout...");
-          console.log(res);
-        })
-        .catch((err) => {
-          messageApi.error(err?.data?.message || "renewal failed")
-          console.log(err);
-        });
-    };
-
-  
+      .catch((err) => {
+        messageApi.error(err?.data?.message || "Renewal failed");
+      });
+  };
 
-  return (
-    <section className="py-12 px-4 bg-white h-dvh flex flex-col gap-12">
-       {contextHolder}
-      <div className="max-w-4xl mx-auto text-center">
-      <h2 className="text-3xl font-bold">Renew your Subscription</h2>
-      <p className="text-gray-600 mt-2">Choose the plan you want to renew.</p>
+  if (isLoading) {
+    return (
+      <div className="flex justify-center h-screen items-center">
+        <div className="animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-primary"></div>
       </div>
+    );
+  }
 
-      <div className="grid grid-cols-1 md:grid-cols-3 w-full gap-6 max-w-6xl mx-auto font-medium">
-        {subInfo.map((item, index) => (
-          <div
-            key={index}
-            className={`
-              
-              bg-white p-6 rounded-xl shadow-md flex flex-col gap-4 relative morope-font border
-              transition-transform duration-300 ease-in-out h-fit min-w-0
-            `}
-          >
-            {item.title !== "STARTER (PRO)" && (
-              <span className="absolute top-2 right-2 bg-green-600 text-white px-3 py-1 text-sm rounded-lg">
-                Coming Soon
-              </span>
-            )}
-            <h3 className="text-xl font-semibold capitalize truncate w-full max-w-full text-nowrap">
-              {item.title}
-            </h3>
-            <div className="flex items-baseline relative">
-              <div className=" -mb-5">
-                <FaDollarSign size={25} />
-              </div>
-              <p className="text-4xl font-semibold">{item.price}</p>
-              <div className="-mb-5">
-                <span className="text-lg font-semibold">/mo</span>
-              </div>
+  return (
+    <section className="bg-[#E7EBEE] py-12">
+      {contextHolder}
+      <div className="max-w-6xl mx-auto lg:px-8">
+        <div className="bg-white p-6 pb-20 rounded-3xl">
+          {/* Header */}
+          <div className="text-center mb-12">
+            <h2 className="text-3xl font-bold text-gray-900">Renew Your Subscription</h2>
+            <p className="text-gray-600 mt-2">Choose the plan you want to renew</p>
+          </div>
+
+          {/* Toggle */}
+          <div className="flex justify-center mb-20">
+            <div className="flex items-center space-x-4 bg-[#F3F8FB] rounded-full px-2 py-2">
+              <button
+                onClick={() => setIsAnnual(false)}
+                className={`text-sm font-medium px-3 py-1 rounded-full transition-colors ${
+                  !isAnnual ? "text-white bg-[#0BAB79]" : "text-gray-600"
+                }`}
+              >
+                Monthly
+              </button>
+              <button
+                onClick={() => setIsAnnual(true)}
+                className={`text-sm font-medium px-3 py-1 rounded-full transition-colors ${
+                  isAnnual ? "text-white bg-[#0BAB79]" : "text-gray-600"
+                }`}
+              >
+                Annually
+              </button>
             </div>
-            <p className="text-gray-600 text-sm">{item.subTitle}</p>
-            {/* Use the dropdown feature list with smooth animation */}
-            <FeatureList
-              items={item.subItems}
-              initialCount={3}
-              expanded={expandedCards[item.key] || false}
-              onExpand={(isExpanded) => handleExpand(item.key, isExpanded)}
-            />
-
-            <button
-              className="mt-4 bg-green-500 text-white px-4 py-2 rounded-lg w-full transition duration-300 hover:bg-green-600 disabled:bg-slate-300"
-              onClick={() => handleGetStarted(item.key)}
-              disabled={item.title !== "STARTER (PRO)"}
-            >
-              {item.title !== "STARTER (PRO)"
-                ? "Unavailable"
-                : "Start Free Trial"}
-            </button>
           </div>
-        ))}
+
+          {/* Pricing Cards */}
+          <div className="grid gap-6 md:grid-cols-3">
+            {processedPlans.map((plan) => {
+              const isSelected = selectedPlanId === plan.id;
+              const isHighlighted = isSelected;
+
+              return (
+                <div
+                  key={plan.id}
+                  onClick={() => handleCardClick(plan.id)}
+                  className={`rounded-2xl py-6 px-3 flex flex-col justify-between relative cursor-pointer transition-all duration-200 ${
+                    isHighlighted
+                      ? "bg-gradient-to-b from-[#08B27C] to-[#11946C] text-white scale-105 shadow-lg"
+                      : "bg-white border border-[#D6D6D6] hover:border-[#08B27C] hover:shadow-md"
+                  }`}
+                >
+                  {/* Coming Soon Badge for disabled plans */}
+                  {plan.isDisabled && (
+                    <div className="absolute top-2 right-2 bg-gray-600 text-white px-3 py-1 text-sm rounded-lg">
+                      Coming Soon
+                    </div>
+                  )}
+
+                  {isHighlighted && (
+                    <div className="absolute -top-3 left-1/2 transform -translate-x-1/2 border border-[#08B27D] bg-white text-[#596375] text-xs px-3 py-1 rounded-full">
+                      {plan.name.toUpperCase() === "PREMIUM" && isSelected ? "Most Popular" : "Selected"}
+                    </div>
+                  )}
+
+                  <div className="flex flex-col items-center space-y-4">
+                    <h3
+                      className={`text-2xl font-semibold text-center ${
+                        isHighlighted ? "text-white" : "text-gray-900"
+                      }`}
+                    >
+                      {plan.name}
+                    </h3>
+                    <p className="mt-2 text-6xl text-center font-bold">
+                      <span
+                        className={`${
+                          isHighlighted
+                            ? "text-white"
+                            : "bg-gradient-to-r from-[#11946C] to-[#08B27C] bg-clip-text text-transparent"
+                        }`}
+                      >
+                        ${plan.price}
+                      </span>
+                    </p>
+                    <div
+                      className={`px-3 py-[2px] rounded-2xl text-white w-fit
+                        ${isHighlighted ? "bg-[#232323]" : "bg-[#09AD7A]"}
+                      `}
+                    >
+                      <span className="text-sm">{plan.priceLabel}</span>
+                    </div>
+                    <p
+                      className={`mt-1 text-base text-center font-semibold ${
+                        isHighlighted ? "text-white" : "text-[#222222]"
+                      }`}
+                    >
+                      {plan.description}
+                    </p>
+                    <ul className="!mt-7 space-y-4 text-sm">
+                      {(expandedFeatures[plan.id]
+                        ? plan.features
+                        : plan.features.slice(0, 5)
+                      ).map((feature, idx) => (
+                        <li key={idx} className="flex gap-2">
+                          <div className="relative w-6 h-6 flex-shrink-0">
+                            <FaCircle
+                              className={`absolute inset-0 ${
+                                isHighlighted
+                                  ? "text-[#dbdbdb54]"
+                                  : "text-[#009F6D]/40"
+                              }`}
+                            />
+                            <IoIosCheckmark
+                              className={`absolute inset-0 ${
+                                isHighlighted
+                                  ? "text-[#DBDBDB]"
+                                  : "text-[#009F6D]"
+                              }`}
+                            />
+                          </div>
+                          <span>{feature}</span>
+                        </li>
+                      ))}
+
+                      {plan.features.length > 5 && (
+                        <li className="ml-6">
+                          <button
+                            onClick={(e) => {
+                              e.stopPropagation();
+                              toggleFeatures(plan.id);
+                            }}
+                            className={`text-xs font-medium underline hover:no-underline transition-colors ${
+                              isHighlighted
+                                ? "text-white hover:text-gray-200"
+                                : "text-[#009F6D] hover:text-[#007A55]"
+                            }`}
+                          >
+                            {expandedFeatures[plan.id]
+                              ? "Show less"
+                              : `+${plan.features.length - 5} more features`}
+                          </button>
+                        </li>
+                      )}
+                    </ul>
+                  </div>
+                  <div className="mt-6">
+                    <div className="space-y-2 mb-3">
+                      {plan.notes.map((note, noteIdx) => (
+                        <p
+                          key={noteIdx}
+                          className={`text-sm text-[#006D4B] w-full py-2 px-5 font-medium rounded-md bg-[#E0F4EE] text-center`}
+                        >
+                          {note}
+                        </p>
+                      ))}
+                    </div>
+                    <button
+                      onClick={(e) => {
+                        e.stopPropagation();
+                        handleGetStarted(plan.id);
+                      }}
+                      disabled={!isSelected || plan.isDisabled}
+                      className={`mt-3 w-full rounded-lg text-sm py-2 font-medium transition-all duration-200
+                        ${
+                          plan.isDisabled
+                            ? "bg-gray-300 text-gray-500 cursor-not-allowed"
+                            : isSelected
+                            ? "bg-[#FFB951] text-white hover:bg-[#FF8E51] cursor-pointer"
+                            : "bg-gray-200 text-gray-400 cursor-not-allowed"
+                        }
+                      `}
+                    >
+                      {plan.isDisabled
+                        ? "Unavailable"
+                        : isSelected
+                        ? plan.buttonText
+                        : "Select plan first"}
+                    </button>
+                  </div>
+                </div>
+              );
+            })}
+          </div>
+        </div>
       </div>
 
+      {/* Renewal Confirmation Modal */}
       {showModal && (
-        <div className="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4 sm:p-0">
-          <div className="bg-black text-white p-6 rounded-lg shadow-lg max-w-96 text-center">
+        <div className="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4 sm:p-0 z-50">
+          <div className="bg-[#0A0A0A] p-6 rounded-lg shadow-lg max-w-96 text-center text-white">
             <h3 className="text-xl font-bold">Subscription Renewal</h3>
-              <p className=" mt-2">
-                This action will charge your card. Please confirm you want to
-                renew your subscription
-              </p>
-           
-
+            <p className="mt-2 text-white">
+              This action will charge your card. Please confirm you want to renew your subscription.
+            </p>
             <div className="mt-4 flex flex-col-reverse sm:flex-row gap-3 justify-center">
               <button
-                className="px-4 py-2 bg-gray-500 rounded-lg"
+                className="px-4 py-2 bg-gray-300 rounded-lg text-[#09090B]"
                 onClick={() => setShowModal(false)}
               >
                 Cancel
               </button>
-
-                <Button
-                  className="!px-4 !py-2 !bg-green-500 !border-none !h-[40px] !text-white !rounded-lg "
-                  onClick={confirmSubscription}
-                  loading={subscribeLoading}
-                  disabled={subscribeLoading}
-                >
-                  Confirm
-                </Button>
-              
+              <Button
+                className="!px-4 !py-2 !bg-green-500 !border-none !h-[40px] !text-white !rounded-lg"
+                onClick={confirmSubscription}
+                loading={subscribeLoading}
+                disabled={subscribeLoading}
+              >
+                Confirm
+              </Button>
             </div>
           </div>
         </div>
@@ -242,4 +402,4 @@ const RenewSubscription = () => {
   );
 };
 
-export default RenewSubscription;
+export default RenewSubscription;
\ No newline at end of file
diff --git a/app/amazon/callback/modal.tsx b/app/amazon/callback/modal.tsx
index 9f99d37..736f6bd 100644
--- a/app/amazon/callback/modal.tsx
+++ b/app/amazon/callback/modal.tsx
@@ -2,12 +2,20 @@ import { Modal } from "antd";
 import Image from "next/image";
 import Link from "next/link";
 import phone from "../../../public/assets/svg/phone.svg";
+
 interface modal {
   isConnectedVisible: boolean;
-  //setIsConnectedVisible: ()=> void,
+  onUseAnotherAccount: () => void; // Add callback function
 }
 
-export default function ConnectedModal({ isConnectedVisible }: modal) {
+export default function ConnectedModal({ 
+  isConnectedVisible, 
+  onUseAnotherAccount 
+}: modal) {
+  const handleUseAnotherAccount = () => {
+    onUseAnotherAccount();
+  };
+
   return (
     <>
       <Modal
@@ -38,11 +46,12 @@ export default function ConnectedModal({ isConnectedVisible }: modal) {
             </h1>
           </div>
           <div className=" grid grid-cols-1 gap-4">
-            <Link href={"/connect-amazon"} className=" w-full">
-              <button className=" w-full text-white px-4 py-2 bg-[#18CB96] border rounded-lg font-medium !h-[40px] shadow-[0px_-3px_0px_0px_#0000001A_inset]">
-                Use another account
-              </button>
-            </Link>
+            <button 
+              onClick={handleUseAnotherAccount}
+              className=" w-full text-white px-4 py-2 bg-[#18CB96] border rounded-lg font-medium !h-[40px] shadow-[0px_-3px_0px_0px_#0000001A_inset]"
+            >
+              Use another account
+            </button>
 
             <p className=" text-center text-xs text-[#5F6362]">
               <span>Have any issues? </span>
@@ -65,5 +74,4 @@ export default function ConnectedModal({ isConnectedVisible }: modal) {
       `}</style>
     </>
   );
-}
-
+}
\ No newline at end of file
diff --git a/app/amazon/callback/page.tsx b/app/amazon/callback/page.tsx
index f5f7558..51a9bd5 100644
--- a/app/amazon/callback/page.tsx
+++ b/app/amazon/callback/page.tsx
@@ -14,6 +14,14 @@ export default function CallbackPage() {
   const spapiOauthCode = searchParams.get("spapi_oauth_code");
   const sellingPartnerId = searchParams.get("selling_partner_id");
 
+  const handleUseAnotherAccount = () => {
+    const signupUrl = new URL('/signUp', window.location.origin);
+    signupUrl.searchParams.set('step', '6');
+    signupUrl.searchParams.set('amazon_connected', 'false'); // Set status to false
+    
+    router.push(signupUrl.toString());
+  };
+
   useEffect(() => {
     const verifyAmazonAuth = async () => {
       try {
@@ -22,7 +30,13 @@ export default function CallbackPage() {
           selling_partner_id: sellingPartnerId,
         }).unwrap();
 
-        router.push("/dashboard");
+        // If successful, redirect back to signup page at step 6 with amazon_connected=true
+        const signupUrl = new URL('/auth/signUp', window.location.origin);
+        signupUrl.searchParams.set('step', '6');
+        signupUrl.searchParams.set('amazon_connected', 'true');
+        
+        router.push(signupUrl.toString());
+        
       } catch (err) {
         console.error(err);
         setLoading(false);
@@ -38,25 +52,45 @@ export default function CallbackPage() {
           (err as ApiError)?.originalStatus === 401
         ) {
           setConnected(true); // This should trigger a rerender immediately
+        } else {
+          // For other errors, redirect back to signup with error
+          const signupUrl = new URL('/auth/signUp', window.location.origin);
+          signupUrl.searchParams.set('step', '6');
+          signupUrl.searchParams.set('amazon_error', 'true');
+          
+          router.push(signupUrl.toString());
         }
       }
     };
 
     if (spapiOauthCode && sellingPartnerId) {
       verifyAmazonAuth();
+    } else {
+      // If no required parameters, redirect back to signup
+      const signupUrl = new URL('/auth/signUp', window.location.origin);
+      signupUrl.searchParams.set('step', '6');
+      signupUrl.searchParams.set('amazon_error', 'true');
+      
+      router.push(signupUrl.toString());
     }
-  }, [searchParams, spapiOauthCode, sellingPartnerId, router]); // Removed amazonVerify from deps
+  }, [searchParams, spapiOauthCode, sellingPartnerId, router, amazonVerify]);
 
   return (
     <div className="flex items-center justify-center min-h-screen">
       {loading ? (
-        <div className="animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-primary"></div>
+        <div className="flex flex-col items-center gap-4">
+          <div className="animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-primary"></div>
+          <p className="text-gray-600">Connecting your Amazon store...</p>
+        </div>
       ) : (
         <p className="text-red-500">
           Failed to authenticate. Please try again.
         </p>
       )}
-      <ConnectedModal isConnectedVisible={connected} />
+      <ConnectedModal 
+        isConnectedVisible={connected} 
+        onUseAnotherAccount={handleUseAnotherAccount}
+      />
     </div>
   );
-}
+}
\ No newline at end of file
diff --git a/app/api/go-compare/countries/route.ts b/app/api/go-compare/countries/route.ts
new file mode 100644
index 0000000..2faaf94
--- /dev/null
+++ b/app/api/go-compare/countries/route.ts
@@ -0,0 +1,78 @@
+import { NextResponse } from 'next/server';
+import { CountryResponse } from '@/types/goCompare';
+
+// Mock data based on the sample response provided
+const countriesData: CountryResponse = {
+    status: 200,
+    message: "Data retrieved successfully",
+    data: [
+        {
+            id: "united_states",
+            name: "United States",
+            flag: "https://flagcdn.com/h240/us.png",
+            short_code: "US"
+        },
+        {
+            id: "united_kingdom",
+            name: "United Kingdom",
+            flag: "https://flagcdn.com/h240/gb.png",
+            short_code: "UK"
+        },
+        {
+            id: "canada",
+            name: "Canada",
+            flag: "https://flagcdn.com/h240/ca.png",
+            short_code: "CA"
+        },
+        {
+            id: "australia",
+            name: "Australia",
+            flag: "https://flagcdn.com/h240/au.png",
+            short_code: "AU"
+        },
+        {
+            id: "germany",
+            name: "Germany",
+            flag: "https://flagcdn.com/h240/de.png",
+            short_code: "DE"
+        },
+        {
+            id: "france",
+            name: "France",
+            flag: "https://flagcdn.com/h240/fr.png",
+            short_code: "FR"
+        },
+        {
+            id: "nigeria",
+            name: "Nigeria",
+            flag: "https://flagcdn.com/h240/ng.png",
+            short_code: "NG"
+        },
+        {
+            id: "india",
+            name: "India",
+            flag: "https://flagcdn.com/h240/in.png",
+            short_code: "IN"
+        }
+    ],
+    meta: []
+};
+
+export async function GET() {
+    try {
+        // In a real implementation, you would fetch this data from your backend
+        // For now, we'll return the mock data
+        return NextResponse.json(countriesData);
+    } catch (error) {
+        console.error('Error fetching countries:', error);
+        return NextResponse.json(
+            {
+                status: 500,
+                message: "Internal server error",
+                data: [],
+                meta: []
+            },
+            { status: 500 }
+        );
+    }
+}
diff --git a/app/api/go-compare/quick-search/route.ts b/app/api/go-compare/quick-search/route.ts
new file mode 100644
index 0000000..014ea60
--- /dev/null
+++ b/app/api/go-compare/quick-search/route.ts
@@ -0,0 +1,80 @@
+import { NextRequest, NextResponse } from 'next/server';
+import { QuickSearchResponse } from '@/types/goCompare';
+
+// Mock data based on the sample response provided
+const mockQuickSearchData: QuickSearchResponse = {
+    status: 200,
+    message: "success",
+    data: [
+        {
+            store_name: "Walmart.ca",
+            product_name: "Luzkey 360 Degree Phone Mount Bikes Flexible Rotatable For Cycling Bike Fits Most Phones Black Other",
+            asin: "B0FF59YZFR",
+            price: "$11.99",
+            currency: "USD",
+            country: "canada",
+            product_url: "",
+            image_url: "data:image/webp;base64,UklGRlBbAABXRUJQVlA4IERbAACQ3wGdASqZAr0CPj0ejESiIaESiUTwIAPEtLdwuT89uQHdj4jfM/K983/n/9P4l/m/27+z/M3/Ee67/x+S/rzzJ/l34H/af3r95Pyx+/n+B4U/sn9B/0vUU/Nf7J/o/zB/L374oMnkz8P9oPYa76/8j/Hfkx8OH53/i9NftD/5vcG/p39q/53+H9zPEF/M+oj/WP9n6OX/r/tvUt9a/+n/VfAp/P/7r/zP8J7dXtO9KgjHv0fASGNA35Y9+j4CQxoG/LHv0fASGNA35Y9+j4CQxoG/LHv0fASGNA35Y9+j4CQxoG/LHvuoUe08rG9856AlJTt9yhsBmlQwIH0dRXjLxxSMyMz5tdcd2LDZY8DXlEjuqS/0rvRh1k4VAulPMDdJ7QBzqoRxHp/BfeCOhmKZyRqh0Yu8i6ds1+xf0dYaehxPJLjYhMJUDuqtv/8c+eoWD7v4QT8pjZrsivFDo5CHmTbTWRLW8ojNLoNEZs5nmUWMRyJbWqquVQY0QnVP8W8GRyF+8Izl7wqR+Vi7ZoOAAIhCixh1qleSAAAAAAAA=",
+            created_at: "2025-08-26T23:35:47.546079Z"
+        },
+        {
+            store_name: "BestBuy.ca",
+            product_name: "Luzkey Bike Phone Mount - 360 Degree Adjustable",
+            asin: "B0FF59YZFR",
+            price: "$14.99",
+            currency: "CAD",
+            country: "canada",
+            product_url: "",
+            image_url: "data:image/webp;base64,UklGRlBbAABXRUJQVlA4IERbAACQ3wGdASqZAr0CPj0ejESiIaESiUTwIAPEtLdwuT89uQHdj4jfM/K983/n/9P4l/m/27+z/M3/Ee67/x+S/rzzJ/l34H/af3r95Pyx+/n+B4U/sn9B/0vUU/Nf7J/o/zB/L374oMnkz8P9oPYa76/8j/Hfkx8OH53/i9NftD/5vcG/p39q/53+H9zPEF/M+oj/WP9n6OX/r/tvUt9a/+n/VfAp/P/7r/zP8J7dXtO9KgjHv0fASGNA35Y9+j4CQxoG/LHv0fASGNA35Y9+j4CQxoG/LHv0fASGNA35Y9+j4CQxoG/LHvuoUe08rG9856AlJTt9yhsBmlQwIH0dRXjLxxSMyMz5tdcd2LDZY8DXlEjuqS/0rvRh1k4VAulPMDdJ7QBzqoRxHp/BfeCOhmKZyRqh0Yu8i6ds1+xf0dYaehxPJLjYhMJUDuqtv/8c+eoWD7v4QT8pjZrsivFDo5CHmTbTWRLW8ojNLoNEZs5nmUWMRyJbWqquVQY0QnVP8W8GRyF+8Izl7wqR+Vi7ZoOAAIhCixh1qleSAAAAAAAA=",
+            created_at: "2025-08-26T23:35:48.123456Z"
+        },
+        {
+            store_name: "Amazon.ca",
+            product_name: "Luzkey 360 Degree Phone Mount for Bikes",
+            asin: "B0FF59YZFR",
+            price: "$13.49",
+            currency: "CAD",
+            country: "canada",
+            product_url: "",
+            image_url: "data:image/webp;base64,UklGRlBbAABXRUJQVlA4IERbAACQ3wGdASqZAr0CPj0ejESiIaESiUTwIAPEtLdwuT89uQHdj4jfM/K983/n/9P4l/m/27+z/M3/Ee67/x+S/rzzJ/l34H/af3r95Pyx+/n+B4U/sn9B/0vUU/Nf7J/o/zB/L374oMnkz8P9oPYa76/8j/Hfkx8OH53/i9NftD/5vcG/p39q/53+H9zPEF/M+oj/WP9n6OX/r/tvUt9a/+n/VfAp/P/7r/zP8J7dXtO9KgjHv0fASGNA35Y9+j4CQxoG/LHv0fASGNA35Y9+j4CQxoG/LHv0fASGNA35Y9+j4CQxoG/LHvuoUe08rG9856AlJTt9yhsBmlQwIH0dRXjLxxSMyMz5tdcd2LDZY8DXlEjuqS/0rvRh1k4VAulPMDdJ7QBzqoRxHp/BfeCOhmKZyRqh0Yu8i6ds1+xf0dYaehxPJLjYhMJUDuqtv/8c+eoWD7v4QT8pjZrsivFDo5CHmTbTWRLW8ojNLoNEZs5nmUWMRyJbWqquVQY0QnVP8W8GRyF+8Izl7wqR+Vi7ZoOAAIhCixh1qleSAAAAAAAA=",
+            created_at: "2025-08-26T23:35:49.789012Z"
+        }
+    ],
+    meta: []
+};
+
+export async function POST(request: NextRequest) {
+    try {
+        const body = await request.json();
+        const { asin_upc, marketplace_id } = body;
+
+        if (!asin_upc || !marketplace_id) {
+            return NextResponse.json(
+                {
+                    status: 400,
+                    message: "Missing required fields: asin_upc and marketplace_id",
+                    data: [],
+                    meta: []
+                },
+                { status: 400 }
+            );
+        }
+
+        // In a real implementation, you would make an API call to your backend
+        // For now, we'll return mock data
+        // You can modify the mock data based on marketplace_id if needed
+
+        return NextResponse.json(mockQuickSearchData);
+    } catch (error) {
+        console.error('Error processing quick search request:', error);
+        return NextResponse.json(
+            {
+                status: 500,
+                message: "Internal server error",
+                data: [],
+                meta: []
+            },
+            { status: 500 }
+        );
+    }
+}
diff --git a/app/api/team-b/products/details/route.ts b/app/api/team-b/products/details/route.ts
new file mode 100644
index 0000000..610b395
--- /dev/null
+++ b/app/api/team-b/products/details/route.ts
@@ -0,0 +1,80 @@
+import { NextRequest, NextResponse } from 'next/server';
+import { ProductDetailsResponse } from '@/types/goCompare';
+
+// Mock data based on the sample response provided
+const mockProductDetails: ProductDetailsResponse = {
+    status: 200,
+    message: "Product retrieved successfully",
+    data: {
+        product_name: "Glow in The Dark Stars Stickers for Ceiling, Adhesive 200pcs 3D Glowing Stars and Moon for Kids Bedroom,Luminous Stars Stickers Create a Realistic Starry Sky,Room Decor,Wall Stickers",
+        current_price: 11.39,
+        avg_amazon_90_day_price: null,
+        gross_roi: 0,
+        sales_rank: 478,
+        avg_3_month_sales_rank: 536,
+        asin: "B07MR13QL6",
+        number_of_sellers: 2,
+        monthly_sellers: 2,
+        amazon_on_listing: false,
+        product_url: "https://amazon.ca/dp/B07MR13QL6",
+        image_url: "https://m.media-amazon.com/images/I/81LL6W7areS.jpg",
+        amazon_fees: 0,
+        estMonthlySales: 500
+    },
+    responseCode: "00",
+    meta: []
+};
+
+export async function GET(request: NextRequest) {
+    try {
+        const { searchParams } = new URL(request.url);
+        const asin = searchParams.get('asin');
+        const marketplaceId = searchParams.get('marketplace_id');
+
+        if (!asin || !marketplaceId) {
+            return NextResponse.json(
+                {
+                    status: 400,
+                    message: "Missing required parameters: asin and marketplace_id",
+                    data: null,
+                    responseCode: "01",
+                    meta: []
+                },
+                { status: 400 }
+            );
+        }
+
+        // In a real implementation, you would fetch this data from your backend
+        // For now, we'll return mock data
+        // You can modify the mock data based on the ASIN and marketplace_id if needed
+
+        // Create a dynamic response based on the ASIN
+        const dynamicResponse: ProductDetailsResponse = {
+            ...mockProductDetails,
+            data: {
+                ...mockProductDetails.data,
+                asin: asin,
+                product_url: `https://amazon.ca/dp/${asin}`,
+                // Add some variation based on marketplace_id
+                current_price: marketplaceId === '6' ? 11.39 : 12.99,
+                sales_rank: Math.floor(Math.random() * 1000) + 100,
+                avg_3_month_sales_rank: Math.floor(Math.random() * 1000) + 200,
+                estMonthlySales: Math.floor(Math.random() * 1000) + 200
+            }
+        };
+
+        return NextResponse.json(dynamicResponse);
+    } catch (error) {
+        console.error('Error fetching product details:', error);
+        return NextResponse.json(
+            {
+                status: 500,
+                message: "Internal server error",
+                data: null,
+                responseCode: "99",
+                meta: []
+            },
+            { status: 500 }
+        );
+    }
+}
diff --git a/app/globals.css b/app/globals.css
index c305717..d984873 100644
--- a/app/globals.css
+++ b/app/globals.css
@@ -58,3 +58,16 @@ img {
   animation-delay: 0.4s;
 }
 
+.custom-select-dropdown::-webkit-scrollbar {
+  width: 8px;
+}
+
+.custom-select-dropdown::-webkit-scrollbar-thumb {
+  background-color: rgba(0, 0, 0, 0.2);
+  border-radius: 4px;
+}
+
+.custom-select-dropdown {
+  scrollbar-width: thin;
+  scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
+}
\ No newline at end of file
diff --git a/app/layout.tsx b/app/layout.tsx
index 43f4808..b82dded 100644
--- a/app/layout.tsx
+++ b/app/layout.tsx
@@ -1,6 +1,7 @@
 "use client";
 
 import { useEffect } from "react";
+//import type { Metadata } from "next";
 import { Inter } from "next/font/google";
 import "./globals.css";
 import ReduxProvider from "@/redux/provider";
@@ -8,11 +9,22 @@ import { AntdRegistry } from "@ant-design/nextjs-registry";
 import "@ant-design/v5-patch-for-react-19";
 import { GoogleOAuthProvider } from "@react-oauth/google";
 import { useRouter } from "next/navigation";
-import Script from "next/script"; 
+
 import Cookies from "js-cookie";
 
 const inter = Inter({ subsets: ["latin"] });
 
+/** 
+ const metadata: Metadata = {
+  title: {
+    template: "%s | optisage",
+    default: "Sign In",
+  },
+  description: "Please Sign in to continue to your account",
+  keywords: ["optisage"],
+};
+*/
+
 export default function RootLayout({
   children,
 }: Readonly<{
@@ -34,29 +46,7 @@ export default function RootLayout({
 
   return (
     <html lang="en" data-theme="light">
-      <head>
-        
-        <Script id="gtm" strategy="afterInteractive">
-          {`
-            (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
-            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
-            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
-            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
-            })(window,document,'script','dataLayer','GTM-TZHW7GNM');
-          `}
-        </Script>
-      </head>
       <body className={`${inter.className} antialiased`}>
-        
-        <noscript>
-          <iframe
-            src="https://www.googletagmanager.com/ns.html?id=GTM-TZHW7GNM"
-            height="0"
-            width="0"
-            style={{ display: "none", visibility: "hidden" }}
-          ></iframe>
-        </noscript>
-
         <AntdRegistry>
           <GoogleOAuthProvider
             clientId={process.env.NEXT_PUBLIC_GOOGLE_CLIENT_ID || ""}
@@ -68,3 +58,4 @@ export default function RootLayout({
     </html>
   );
 }
+
